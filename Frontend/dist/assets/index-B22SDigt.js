(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function JS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jp={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function gD(){if(ST)return Ou;ST=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ou.Fragment=e,Ou.jsx=n,Ou.jsxs=n,Ou}var AT;function yD(){return AT||(AT=1,Jp.exports=gD()),Jp.exports}var P=yD(),eg={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function vD(){if(RT)return ke;RT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function R(N,te,me){this.props=N,this.context=te,this.refs=D,this.updater=me||w}R.prototype.isReactComponent={},R.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=R.prototype;function B(N,te,me){this.props=N,this.context=te,this.refs=D,this.updater=me||w}var F=B.prototype=new O;F.constructor=B,S(F,R.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,Y={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function L(N,te,me,he,fe,Ie){return me=Ie.ref,{$$typeof:t,type:N,key:te,ref:me!==void 0?me:null,props:Ie}}function I(N,te){return L(N.type,te,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function M(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(me){return te[me]})}var j=/\/+/g;function q(N,te){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):te.toString(36)}function U(){}function Je(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(U,U):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ke(N,te,me,he,fe){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(Ie){case"bigint":case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case t:case e:De=!0;break;case y:return De=N._init,Ke(De(N._payload),te,me,he,fe)}}if(De)return fe=fe(N),De=he===""?"."+q(N,0):he,Z(fe)?(me="",De!=null&&(me=De.replace(j,"$&/")+"/"),Ke(fe,te,me,"",function(Oe){return Oe})):fe!=null&&(C(fe)&&(fe=I(fe,me+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(j,"$&/")+"/")+De)),te.push(fe)),1;De=0;var ge=he===""?".":he+":";if(Z(N))for(var xe=0;xe<N.length;xe++)he=N[xe],Ie=ge+q(he,xe),De+=Ke(he,te,me,Ie,fe);else if(xe=E(N),typeof xe=="function")for(N=xe.call(N),xe=0;!(he=N.next()).done;)he=he.value,Ie=ge+q(he,xe++),De+=Ke(he,te,me,Ie,fe);else if(Ie==="object"){if(typeof N.then=="function")return Ke(Je(N),te,me,he,fe);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return De}function ue(N,te,me){if(N==null)return N;var he=[],fe=0;return Ke(N,he,"","",function(Ie){return te.call(me,Ie,fe++)}),he}function de(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(me){(N._status===0||N._status===-1)&&(N._status=1,N._result=me)},function(me){(N._status===0||N._status===-1)&&(N._status=2,N._result=me)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function le(){}return ke.Children={map:ue,forEach:function(N,te,me){ue(N,function(){te.apply(this,arguments)},me)},count:function(N){var te=0;return ue(N,function(){te++}),te},toArray:function(N){return ue(N,function(te){return te})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ke.Component=R,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=B,ke.StrictMode=i,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(N){return function(){return N.apply(null,arguments)}},ke.cloneElement=function(N,te,me){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var he=S({},N.props),fe=N.key,Ie=void 0;if(te!=null)for(De in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(fe=""+te.key),te)!se.call(te,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&te.ref===void 0||(he[De]=te[De]);var De=arguments.length-2;if(De===1)he.children=me;else if(1<De){for(var ge=Array(De),xe=0;xe<De;xe++)ge[xe]=arguments[xe+2];he.children=ge}return L(N.type,fe,void 0,void 0,Ie,he)},ke.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},ke.createElement=function(N,te,me){var he,fe={},Ie=null;if(te!=null)for(he in te.key!==void 0&&(Ie=""+te.key),te)se.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(fe[he]=te[he]);var De=arguments.length-2;if(De===1)fe.children=me;else if(1<De){for(var ge=Array(De),xe=0;xe<De;xe++)ge[xe]=arguments[xe+2];fe.children=ge}if(N&&N.defaultProps)for(he in De=N.defaultProps,De)fe[he]===void 0&&(fe[he]=De[he]);return L(N,Ie,void 0,void 0,null,fe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:h,render:N}},ke.isValidElement=C,ke.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:de}},ke.memo=function(N,te){return{$$typeof:p,type:N,compare:te===void 0?null:te}},ke.startTransition=function(N){var te=Y.T,me={};Y.T=me;try{var he=N(),fe=Y.S;fe!==null&&fe(me,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(le,ne)}catch(Ie){ne(Ie)}finally{Y.T=te}},ke.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ke.use=function(N){return Y.H.use(N)},ke.useActionState=function(N,te,me){return Y.H.useActionState(N,te,me)},ke.useCallback=function(N,te){return Y.H.useCallback(N,te)},ke.useContext=function(N){return Y.H.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N,te){return Y.H.useDeferredValue(N,te)},ke.useEffect=function(N,te){return Y.H.useEffect(N,te)},ke.useId=function(){return Y.H.useId()},ke.useImperativeHandle=function(N,te,me){return Y.H.useImperativeHandle(N,te,me)},ke.useInsertionEffect=function(N,te){return Y.H.useInsertionEffect(N,te)},ke.useLayoutEffect=function(N,te){return Y.H.useLayoutEffect(N,te)},ke.useMemo=function(N,te){return Y.H.useMemo(N,te)},ke.useOptimistic=function(N,te){return Y.H.useOptimistic(N,te)},ke.useReducer=function(N,te,me){return Y.H.useReducer(N,te,me)},ke.useRef=function(N){return Y.H.useRef(N)},ke.useState=function(N){return Y.H.useState(N)},ke.useSyncExternalStore=function(N,te,me){return Y.H.useSyncExternalStore(N,te,me)},ke.useTransition=function(){return Y.H.useTransition()},ke.version="19.0.0",ke}var xT;function My(){return xT||(xT=1,eg.exports=vD()),eg.exports}var V=My(),tg={exports:{}},Mu={},ng={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function _D(){return CT||(CT=1,function(t){function e(ue,de){var ne=ue.length;ue.push(de);e:for(;0<ne;){var le=ne-1>>>1,N=ue[le];if(0<a(N,de))ue[le]=de,ue[ne]=N,ne=le;else break e}}function n(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var de=ue[0],ne=ue.pop();if(ne!==de){ue[0]=ne;e:for(var le=0,N=ue.length,te=N>>>1;le<te;){var me=2*(le+1)-1,he=ue[me],fe=me+1,Ie=ue[fe];if(0>a(he,ne))fe<N&&0>a(Ie,he)?(ue[le]=Ie,ue[fe]=ne,le=fe):(ue[le]=he,ue[me]=ne,le=me);else if(fe<N&&0>a(Ie,ne))ue[le]=Ie,ue[fe]=ne,le=fe;else break e}}return de}function a(ue,de){var ne=ue.sortIndex-de.sortIndex;return ne!==0?ne:ue.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,_=null,E=3,w=!1,S=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function F(ue){for(var de=n(p);de!==null;){if(de.callback===null)i(p);else if(de.startTime<=ue)i(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(p)}}function Z(ue){if(D=!1,F(ue),!S)if(n(d)!==null)S=!0,Je();else{var de=n(p);de!==null&&Ke(Z,de.startTime-ue)}}var Y=!1,se=-1,L=5,I=-1;function C(){return!(t.unstable_now()-I<L)}function M(){if(Y){var ue=t.unstable_now();I=ue;var de=!0;try{e:{S=!1,D&&(D=!1,O(se),se=-1),w=!0;var ne=E;try{t:{for(F(ue),_=n(d);_!==null&&!(_.expirationTime>ue&&C());){var le=_.callback;if(typeof le=="function"){_.callback=null,E=_.priorityLevel;var N=le(_.expirationTime<=ue);if(ue=t.unstable_now(),typeof N=="function"){_.callback=N,F(ue),de=!0;break t}_===n(d)&&i(d),F(ue)}else i(d);_=n(d)}if(_!==null)de=!0;else{var te=n(p);te!==null&&Ke(Z,te.startTime-ue),de=!1}}break e}finally{_=null,E=ne,w=!1}de=void 0}}finally{de?j():Y=!1}}}var j;if(typeof B=="function")j=function(){B(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=M,j=function(){U.postMessage(null)}}else j=function(){R(M,0)};function Je(){Y||(Y=!0,j())}function Ke(ue,de){se=R(function(){ue(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,Je())},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ne=E;E=de;try{return ue()}finally{E=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,de){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ne=E;E=ue;try{return de()}finally{E=ne}},t.unstable_scheduleCallback=function(ue,de,ne){var le=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,ue){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ne+N,ue={id:y++,callback:de,priorityLevel:ue,startTime:ne,expirationTime:N,sortIndex:-1},ne>le?(ue.sortIndex=ne,e(p,ue),n(d)===null&&ue===n(p)&&(D?(O(se),se=-1):D=!0,Ke(Z,ne-le))):(ue.sortIndex=N,e(d,ue),S||w||(S=!0,Je())),ue},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(ue){var de=E;return function(){var ne=E;E=de;try{return ue.apply(this,arguments)}finally{E=ne}}}}(ig)),ig}var IT;function ED(){return IT||(IT=1,ng.exports=_D()),ng.exports}var rg={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function TD(){if(DT)return cn;DT=1;var t=My();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},cn.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},cn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},cn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},cn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},cn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},cn.requestFormReset=function(d){i.d.r(d)},cn.unstable_batchedUpdates=function(d,p){return d(p)},cn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.0.0",cn}var NT;function bD(){if(NT)return rg.exports;NT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=TD(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function wD(){if(PT)return Mu;PT=1;var t=ED(),e=My(),n=bD();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case d:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case S:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,j,q;function U(r){if(j===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||"",q=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+r+q}var Je=!1;function Ke(r,s){if(!r||Je)return"";Je=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Q=J}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(J){Q=J}r.call(ae.prototype)}}else{try{throw Error()}catch(J){Q=J}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var k=b.split(`
`),H=A.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===H.length)for(c=k.length-1,m=H.length-1;1<=c&&0<=m&&k[c]!==H[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==H[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==H[m]){var ee=`
`+k[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Je=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?U(o):""}function ue(r){switch(r.tag){case 26:case 27:case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return r=Ke(r.type,!1),r;case 11:return r=Ke(r.type.render,!1),r;case 1:return r=Ke(r.type,!0),r;default:return""}}function de(r){try{var s="";do s+=ue(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ne(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function le(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function N(r){if(ne(r)!==r)throw Error(i(188))}function te(r){var s=r.alternate;if(!s){if(s=ne(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return N(m),r;if(g===c)return N(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=g;break}if(A===c){b=!0,c=m,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=m;break}if(A===c){b=!0,c=g,o=m;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function me(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=me(r),s!==null)return s;r=r.sibling}return null}var he=Array.isArray,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},De=[],ge=-1;function xe(r){return{current:r}}function Oe(r){0>ge||(r.current=De[ge],De[ge]=null,ge--)}function Te(r,s){ge++,De[ge]=r.current,r.current=s}var at=xe(null),Xt=xe(null),Ot=xe(null),Zt=xe(null);function On(r,s){switch(Te(Ot,s),Te(Xt,r),Te(at,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?JE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=JE(r),s=eT(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Oe(at),Te(at,s)}function Mn(){Oe(at),Oe(Xt),Oe(Ot)}function Zs(r){r.memoizedState!==null&&Te(Zt,r);var s=at.current,o=eT(s,r.type);s!==o&&(Te(Xt,r),Te(at,o))}function qr(r){Xt.current===r&&(Oe(at),Oe(Xt)),Zt.current===r&&(Oe(Zt),Cu._currentValue=Ie)}var Et=Object.prototype.hasOwnProperty,Tt=t.unstable_scheduleCallback,Gn=t.unstable_cancelCallback,rr=t.unstable_shouldYield,kn=t.unstable_requestPaint,bt=t.unstable_now,to=t.unstable_getCurrentPriorityLevel,wt=t.unstable_ImmediatePriority,Mt=t.unstable_UserBlockingPriority,fi=t.unstable_NormalPriority,jc=t.unstable_LowPriority,Dl=t.unstable_IdlePriority,nm=t.log,Js=t.unstable_setDisableYieldValue,Gr=null,ln=null;function Nl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Gr,r,void 0,(r.current.flags&128)===128)}catch{}}function xi(r){if(typeof nm=="function"&&Js(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Gr,r)}catch{}}var _n=Math.clz32?Math.clz32:Fc,Pl=Math.log,Bc=Math.LN2;function Fc(r){return r>>>=0,r===0?32:31-(Pl(r)/Bc|0)|0}var Ci=128,$r=4194304;function di(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,m=r.suspendedLanes,g=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~m,o!==0?c=di(o):(g&=A,g!==0?c=di(g):r||(b=A&~b,b!==0&&(c=di(b))))):(A=o&~m,A!==0?c=di(A):g!==0?c=di(g):r||(b=o&~b,b!==0&&(c=di(b)))),c===0?0:s!==0&&s!==c&&!(s&m)&&(m=c&-c,b=s&-s,m>=b||m===32&&(b&4194176)!==0)?s:c}function Kr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function no(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ol(){var r=Ci;return Ci<<=1,!(Ci&4194176)&&(Ci=128),r}function Yr(){var r=$r;return $r<<=1,!($r&62914560)&&($r=4194304),r}function io(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function St(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function zc(r,s,o,c,m,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,k=r.expirationTimes,H=r.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-_n(o),ae=1<<ee;A[ee]=0,k[ee]=-1;var Q=H[ee];if(Q!==null)for(H[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}o&=~ae}c!==0&&Qr(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function Qr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-_n(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function Wr(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-_n(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function Hc(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function qc(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:vT(r.type))}function Xr(r,s){var o=fe.p;try{return fe.p=r,s()}finally{fe.p=o}}var Ii=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ii,kt="__reactProps$"+Ii,sr="__reactContainer$"+Ii,ea="__reactEvents$"+Ii,ro="__reactListeners$"+Ii,Di="__reactHandles$"+Ii,Ml="__reactResources$"+Ii,Zr="__reactMarker$"+Ii;function ta(r){delete r[qt],delete r[kt],delete r[ea],delete r[ro],delete r[Di]}function mi(r){var s=r[qt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[sr]||o[qt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=iT(r);r!==null;){if(o=r[qt])return o;r=iT(r)}return s}r=o,o=r.parentNode}return null}function ar(r){if(r=r[qt]||r[sr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Jr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function es(r){var s=r[Ml];return s||(s=r[Ml]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ut(r){r[Zr]=!0}var kl=new Set,so={};function Vn(r,s){Rn(r,s),Rn(r+"Capture",s)}function Rn(r,s){for(so[r]=s,r=0;r<s.length;r++)kl.add(s[r])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ll={};function Gc(r){return Et.call(Ll,r)?!0:Et.call(Vl,r)?!1:im.test(r)?Ll[r]=!0:(Vl[r]=!0,!1)}function ts(r,s,o){if(Gc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ns(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Kn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function En(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $c(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rm(r){var s=$c(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function na(r){r._valueTracker||(r._valueTracker=rm(r))}function Ul(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=$c(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var or=/[\n"\\]/g;function mt(r){return r.replace(or,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function is(r,s,o,c,m,g,b,A){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+En(s)):r.value!==""+En(s)&&(r.value=""+En(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?oo(r,b,En(s)):o!=null?oo(r,b,En(o)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+En(A):r.removeAttribute("name")}function ia(r,s,o,c,m,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+En(o):"",s=s!=null?""+En(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function oo(r,s,o){s==="number"&&ao(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ye(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+En(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function ra(r,s,o){if(s!=null&&(s=""+En(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+En(o):""}function rs(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(he(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=En(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Yn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var sm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||sm.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Kc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&jl(r,m,c)}else for(var g in s)s.hasOwnProperty(g)&&jl(r,g,s[g])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(r){return om.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Qn=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lr=null,ur=null;function cr(r){var s=ar(r);if(s&&(r=s.stateNode)){var o=r[kt]||null;e:switch(r=s.stateNode,s.type){case"input":if(is(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[kt]||null;if(!m)throw Error(i(90));is(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Ul(c)}break e;case"textarea":ra(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ye(r,!!o.multiple,s,!1)}}}var Fl=!1;function Yc(r,s,o){if(Fl)return r(s,o);Fl=!0;try{var c=r(s);return c}finally{if(Fl=!1,(lr!==null||ur!==null)&&(jh(),lr&&(s=lr,r=ur,ur=lr=null,cr(s),r)))for(s=0;s<r.length;s++)cr(r[s])}}function sa(r,s){var o=r.stateNode;if(o===null)return null;var c=o[kt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Wn=!1;if(Ln)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Wn=!1}var Pi=null,ss=null,hr=null;function zl(){if(hr)return hr;var r,s=ss,o=s.length,c,m="value"in Pi?Pi.value:Pi.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var b=o-r;for(c=1;c<=b&&s[o-c]===m[g-c];c++);return hr=m.slice(r,1<c?1-c:void 0)}function Oi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mi(){return!0}function Hl(){return!1}function Gt(r){function s(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Mi:Hl,this.isPropagationStopped=Hl,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Gt(Xe),oa=M({},Xe,{view:0,detail:0}),Qc=Gt(oa),co,ho,ki,la=M({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(co=r.screenX-ki.screenX,ho=r.screenY-ki.screenY):ho=co=0,ki=r),co)},movementY:function(r){return"movementY"in r?r.movementY:ho}}),Xn=Gt(la),Wc=M({},la,{dataTransfer:0}),lm=Gt(Wc),ua=M({},oa,{relatedTarget:0}),fo=Gt(ua),ql=M({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=Gt(ql),Xc=M({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),po=Gt(Xc),um=M({},Xe,{data:0}),Gl=Gt(um),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jc[r])?!!s[r]:!1}function ha(){return $l}var eh=M({},oa,{key:function(r){if(r.key){var s=ca[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Oi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(r){return r.type==="keypress"?Oi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),go=Gt(eh),th=M({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=Gt(th),fr=M({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),nh=Gt(fr),ih=M({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=Gt(ih),sh=M({},la,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=Gt(sh),Tn=M({},Xe,{newState:0,oldState:0}),ah=Gt(Tn),oh=[9,13,27,32],Vi=Ln&&"CompositionEvent"in window,f=null;Ln&&"documentMode"in document&&(f=document.documentMode);var v=Ln&&"TextEvent"in window&&!f,T=Ln&&(!Vi||f&&8<f&&11>=f),x=" ",$=!1;function W(r,s){switch(r){case"keyup":return oh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function Vt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:($=!0,x);case"textInput":return r=s.data,r===x&&$?null:r;default:return null}}function qe(r,s){if(He)return r==="compositionend"||!Vi&&W(r,s)?(r=zl(),hr=ss=Pi=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$t[r.type]:s==="textarea"}function dr(r,s,o,c){lr?ur?ur.push(c):ur=[c]:lr=c,s=qh(s,"onChange"),0<s.length&&(o=new uo("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Jt=null,Li=null;function Yl(r){YE(r,0)}function lh(r){var s=Jr(r);if(Ul(s))return r}function w0(r,s){if(r==="change")return s}var S0=!1;if(Ln){var cm;if(Ln){var hm="oninput"in document;if(!hm){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),hm=typeof A0.oninput=="function"}cm=hm}else cm=!1;S0=cm&&(!document.documentMode||9<document.documentMode)}function R0(){Jt&&(Jt.detachEvent("onpropertychange",x0),Li=Jt=null)}function x0(r){if(r.propertyName==="value"&&lh(Li)){var s=[];dr(s,Li,r,lo(r)),Yc(Yl,s)}}function $1(r,s,o){r==="focusin"?(R0(),Jt=s,Li=o,Jt.attachEvent("onpropertychange",x0)):r==="focusout"&&R0()}function K1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lh(Li)}function Y1(r,s){if(r==="click")return lh(s)}function Q1(r,s){if(r==="input"||r==="change")return lh(s)}function W1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Un=typeof Object.is=="function"?Object.is:W1;function Ql(r,s){if(Un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Et.call(s,m)||!Un(r[m],s[m]))return!1}return!0}function C0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function I0(r,s){var o=C0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=C0(o)}}function D0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?D0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function N0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ao(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ao(r.document)}return s}function fm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function X1(r,s){var o=N0(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&D0(s.ownerDocument.documentElement,s)){if(c!==null&&fm(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,g=Math.min(c.start,m);c=c.end===void 0?g:Math.min(c.end,m),!o.extend&&g>c&&(m=c,c=g,g=m),m=I0(s,g);var b=I0(s,c);m&&b&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Z1=Ln&&"documentMode"in document&&11>=document.documentMode,vo=null,dm=null,Wl=null,mm=!1;function P0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;mm||vo==null||vo!==ao(c)||(c=vo,"selectionStart"in c&&fm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wl&&Ql(Wl,c)||(Wl=c,c=qh(dm,"onSelect"),0<c.length&&(s=new uo("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=vo)))}function fa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var _o={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},pm={},O0={};Ln&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function da(r){if(pm[r])return pm[r];if(!_o[r])return r;var s=_o[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in O0)return pm[r]=s[o];return r}var M0=da("animationend"),k0=da("animationiteration"),V0=da("animationstart"),J1=da("transitionrun"),eI=da("transitionstart"),tI=da("transitioncancel"),L0=da("transitionend"),U0=new Map,j0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pi(r,s){U0.set(r,s),Vn(s,[r])}var Zn=[],Eo=0,gm=0;function uh(){for(var r=Eo,s=gm=Eo=0;s<r;){var o=Zn[s];Zn[s++]=null;var c=Zn[s];Zn[s++]=null;var m=Zn[s];Zn[s++]=null;var g=Zn[s];if(Zn[s++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&B0(o,m,g)}}function ch(r,s,o,c){Zn[Eo++]=r,Zn[Eo++]=s,Zn[Eo++]=o,Zn[Eo++]=c,gm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function ym(r,s,o,c){return ch(r,s,o,c),hh(r)}function as(r,s){return ch(r,null,null,s),hh(r)}function B0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;m&&s!==null&&r.tag===3&&(g=r.stateNode,m=31-_n(o),g=g.hiddenUpdates,r=g[m],r===null?g[m]=[s]:r.push(s),s.lane=o|536870912)}function hh(r){if(50<Tu)throw Tu=0,wp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var To={},F0=new WeakMap;function Jn(r,s){if(typeof r=="object"&&r!==null){var o=F0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:de(s)},F0.set(r,s),s)}return{value:r,source:s,stack:de(s)}}var bo=[],wo=0,fh=null,dh=0,ei=[],ti=0,ma=null,mr=1,pr="";function pa(r,s){bo[wo++]=dh,bo[wo++]=fh,fh=r,dh=s}function z0(r,s,o){ei[ti++]=mr,ei[ti++]=pr,ei[ti++]=ma,ma=r;var c=mr;r=pr;var m=32-_n(c)-1;c&=~(1<<m),o+=1;var g=32-_n(s)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,mr=1<<32-_n(s)+m|o<<m|c,pr=g+r}else mr=1<<g|o<<m|c,pr=r}function vm(r){r.return!==null&&(pa(r,1),z0(r,1,0))}function _m(r){for(;r===fh;)fh=bo[--wo],bo[wo]=null,dh=bo[--wo],bo[wo]=null;for(;r===ma;)ma=ei[--ti],ei[ti]=null,pr=ei[--ti],ei[ti]=null,mr=ei[--ti],ei[ti]=null}var bn=null,en=null,Qe=!1,gi=null,Ui=!1,Em=Error(i(519));function ga(r){var s=Error(i(418,""));throw Jl(Jn(s,r)),Em}function H0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[qt]=r,s[kt]=c,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<wu.length;o++)ze(wu[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),ia(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),na(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),rs(s,c.value,c.defaultValue,c.children),na(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||ZE(s.textContent,o)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=Gh),s=!0):s=!1,s||ga(r)}function q0(r){for(bn=r.return;bn;)switch(bn.tag){case 3:case 27:Ui=!0;return;case 5:case 13:Ui=!1;return;default:bn=bn.return}}function Xl(r){if(r!==bn)return!1;if(!Qe)return q0(r),Qe=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Bp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&en&&ga(r),q0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){en=vi(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}en=null}}else en=bn?vi(r.stateNode.nextSibling):null;return!0}function Zl(){en=bn=null,Qe=!1}function Jl(r){gi===null?gi=[r]:gi.push(r)}var eu=Error(i(460)),G0=Error(i(474)),Tm={then:function(){}};function $0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function mh(){}function K0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(mh,mh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===eu?Error(i(483)):r;default:if(typeof s.status=="string")s.then(mh,mh);else{if(r=it,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===eu?Error(i(483)):r}throw tu=s,eu}}var tu=null;function Y0(){if(tu===null)throw Error(i(459));var r=tu;return tu=null,r}var So=null,nu=0;function ph(r){var s=nu;return nu+=1,So===null&&(So=[]),K0(So,r,s)}function iu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function gh(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Q0(r){var s=r._init;return s(r._payload)}function W0(r){function s(G,z){if(r){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function o(G,z){if(!r)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function m(G,z){return G=vs(G,z),G.index=0,G.sibling=null,G}function g(G,z,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=33554434,z):K):(G.flags|=33554434,z)):(G.flags|=1048576,z)}function b(G){return r&&G.alternate===null&&(G.flags|=33554434),G}function A(G,z,K,ie){return z===null||z.tag!==6?(z=pp(K,G.mode,ie),z.return=G,z):(z=m(z,K),z.return=G,z)}function k(G,z,K,ie){var ye=K.type;return ye===d?ee(G,z,K.props.children,ie,K.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&Q0(ye)===z.type)?(z=m(z,K.props),iu(z,K),z.return=G,z):(z=Mh(K.type,K.key,K.props,null,G.mode,ie),iu(z,K),z.return=G,z)}function H(G,z,K,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=gp(K,G.mode,ie),z.return=G,z):(z=m(z,K.children||[]),z.return=G,z)}function ee(G,z,K,ie,ye){return z===null||z.tag!==7?(z=Ra(K,G.mode,ie,ye),z.return=G,z):(z=m(z,K),z.return=G,z)}function ae(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=pp(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return K=Mh(z.type,z.key,z.props,null,G.mode,K),iu(K,z),K.return=G,K;case h:return z=gp(z,G.mode,K),z.return=G,z;case B:var ie=z._init;return z=ie(z._payload),ae(G,z,K)}if(he(z)||se(z))return z=Ra(z,G.mode,K,null),z.return=G,z;if(typeof z.then=="function")return ae(G,ph(z),K);if(z.$$typeof===w)return ae(G,Nh(G,z),K);gh(G,z)}return null}function Q(G,z,K,ie){var ye=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:A(G,z,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case u:return K.key===ye?k(G,z,K,ie):null;case h:return K.key===ye?H(G,z,K,ie):null;case B:return ye=K._init,K=ye(K._payload),Q(G,z,K,ie)}if(he(K)||se(K))return ye!==null?null:ee(G,z,K,ie,null);if(typeof K.then=="function")return Q(G,z,ph(K),ie);if(K.$$typeof===w)return Q(G,z,Nh(G,K),ie);gh(G,K)}return null}function J(G,z,K,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(K)||null,A(z,G,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case u:return G=G.get(ie.key===null?K:ie.key)||null,k(z,G,ie,ye);case h:return G=G.get(ie.key===null?K:ie.key)||null,H(z,G,ie,ye);case B:var Ue=ie._init;return ie=Ue(ie._payload),J(G,z,K,ie,ye)}if(he(ie)||se(ie))return G=G.get(K)||null,ee(z,G,ie,ye,null);if(typeof ie.then=="function")return J(G,z,K,ph(ie),ye);if(ie.$$typeof===w)return J(G,z,K,Nh(z,ie),ye);gh(z,ie)}return null}function ve(G,z,K,ie){for(var ye=null,Ue=null,Ee=z,we=z=0,Qt=null;Ee!==null&&we<K.length;we++){Ee.index>we?(Qt=Ee,Ee=null):Qt=Ee.sibling;var We=Q(G,Ee,K[we],ie);if(We===null){Ee===null&&(Ee=Qt);break}r&&Ee&&We.alternate===null&&s(G,Ee),z=g(We,z,we),Ue===null?ye=We:Ue.sibling=We,Ue=We,Ee=Qt}if(we===K.length)return o(G,Ee),Qe&&pa(G,we),ye;if(Ee===null){for(;we<K.length;we++)Ee=ae(G,K[we],ie),Ee!==null&&(z=g(Ee,z,we),Ue===null?ye=Ee:Ue.sibling=Ee,Ue=Ee);return Qe&&pa(G,we),ye}for(Ee=c(Ee);we<K.length;we++)Qt=J(Ee,G,we,K[we],ie),Qt!==null&&(r&&Qt.alternate!==null&&Ee.delete(Qt.key===null?we:Qt.key),z=g(Qt,z,we),Ue===null?ye=Qt:Ue.sibling=Qt,Ue=Qt);return r&&Ee.forEach(function(As){return s(G,As)}),Qe&&pa(G,we),ye}function Ne(G,z,K,ie){if(K==null)throw Error(i(151));for(var ye=null,Ue=null,Ee=z,we=z=0,Qt=null,We=K.next();Ee!==null&&!We.done;we++,We=K.next()){Ee.index>we?(Qt=Ee,Ee=null):Qt=Ee.sibling;var As=Q(G,Ee,We.value,ie);if(As===null){Ee===null&&(Ee=Qt);break}r&&Ee&&As.alternate===null&&s(G,Ee),z=g(As,z,we),Ue===null?ye=As:Ue.sibling=As,Ue=As,Ee=Qt}if(We.done)return o(G,Ee),Qe&&pa(G,we),ye;if(Ee===null){for(;!We.done;we++,We=K.next())We=ae(G,We.value,ie),We!==null&&(z=g(We,z,we),Ue===null?ye=We:Ue.sibling=We,Ue=We);return Qe&&pa(G,we),ye}for(Ee=c(Ee);!We.done;we++,We=K.next())We=J(Ee,G,we,We.value,ie),We!==null&&(r&&We.alternate!==null&&Ee.delete(We.key===null?we:We.key),z=g(We,z,we),Ue===null?ye=We:Ue.sibling=We,Ue=We);return r&&Ee.forEach(function(pD){return s(G,pD)}),Qe&&pa(G,we),ye}function yt(G,z,K,ie){if(typeof K=="object"&&K!==null&&K.type===d&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case u:e:{for(var ye=K.key;z!==null;){if(z.key===ye){if(ye=K.type,ye===d){if(z.tag===7){o(G,z.sibling),ie=m(z,K.props.children),ie.return=G,G=ie;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&Q0(ye)===z.type){o(G,z.sibling),ie=m(z,K.props),iu(ie,K),ie.return=G,G=ie;break e}o(G,z);break}else s(G,z);z=z.sibling}K.type===d?(ie=Ra(K.props.children,G.mode,ie,K.key),ie.return=G,G=ie):(ie=Mh(K.type,K.key,K.props,null,G.mode,ie),iu(ie,K),ie.return=G,G=ie)}return b(G);case h:e:{for(ye=K.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(G,z.sibling),ie=m(z,K.children||[]),ie.return=G,G=ie;break e}else{o(G,z);break}else s(G,z);z=z.sibling}ie=gp(K,G.mode,ie),ie.return=G,G=ie}return b(G);case B:return ye=K._init,K=ye(K._payload),yt(G,z,K,ie)}if(he(K))return ve(G,z,K,ie);if(se(K)){if(ye=se(K),typeof ye!="function")throw Error(i(150));return K=ye.call(K),Ne(G,z,K,ie)}if(typeof K.then=="function")return yt(G,z,ph(K),ie);if(K.$$typeof===w)return yt(G,z,Nh(G,K),ie);gh(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(G,z.sibling),ie=m(z,K),ie.return=G,G=ie):(o(G,z),ie=pp(K,G.mode,ie),ie.return=G,G=ie),b(G)):o(G,z)}return function(G,z,K,ie){try{nu=0;var ye=yt(G,z,K,ie);return So=null,ye}catch(Ee){if(Ee===eu)throw Ee;var Ue=si(29,Ee,null,G.mode);return Ue.lanes=ie,Ue.return=G,Ue}finally{}}}var ya=W0(!0),X0=W0(!1),Ao=xe(null),yh=xe(0);function Z0(r,s){r=Rr,Te(yh,r),Te(Ao,s),Rr=r|s.baseLanes}function bm(){Te(yh,Rr),Te(Ao,Ao.current)}function wm(){Rr=yh.current,Oe(Ao),Oe(yh)}var ni=xe(null),ji=null;function os(r){var s=r.alternate;Te(Ut,Ut.current&1),Te(ni,r),ji===null&&(s===null||Ao.current!==null||s.memoizedState!==null)&&(ji=r)}function J0(r){if(r.tag===22){if(Te(Ut,Ut.current),Te(ni,r),ji===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ji=r)}}else ls()}function ls(){Te(Ut,Ut.current),Te(ni,ni.current)}function gr(r){Oe(ni),ji===r&&(ji=null),Oe(Ut)}var Ut=xe(0);function vh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},iI=t.unstable_scheduleCallback,rI=t.unstable_NormalPriority,jt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new nI,data:new Map,refCount:0}}function ru(r){r.refCount--,r.refCount===0&&iI(rI,function(){r.controller.abort()})}var su=null,Am=0,Ro=0,xo=null;function sI(r,s){if(su===null){var o=su=[];Am=0,Ro=Np(),xo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Am++,s.then(e_,e_),s}function e_(){if(--Am===0&&su!==null){xo!==null&&(xo.status="fulfilled");var r=su;su=null,Ro=0,xo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function aI(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var t_=C.S;C.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&sI(r,s),t_!==null&&t_(r,s)};var va=xe(null);function Rm(){var r=va.current;return r!==null?r:it.pooledCache}function _h(r,s){s===null?Te(va,va.current):Te(va,s.pool)}function n_(){var r=Rm();return r===null?null:{parent:jt._currentValue,pool:r}}var us=0,Ve=null,et=null,Ct=null,Eh=!1,Co=!1,_a=!1,Th=0,au=0,Io=null,oI=0;function At(){throw Error(i(321))}function xm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Un(r[o],s[o]))return!1;return!0}function Cm(r,s,o,c,m,g){return us=g,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=r===null||r.memoizedState===null?Ea:cs,_a=!1,g=o(c,m),_a=!1,Co&&(g=r_(s,o,c,m)),i_(r),g}function i_(r){C.H=Bi;var s=et!==null&&et.next!==null;if(us=0,Ct=et=Ve=null,Eh=!1,au=0,Io=null,s)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&Dh(r)&&(Kt=!0))}function r_(r,s,o,c){Ve=r;var m=0;do{if(Co&&(Io=null),au=0,Co=!1,25<=m)throw Error(i(301));if(m+=1,Ct=et=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}C.H=Ta,g=s(o,c)}while(Co);return g}function lI(){var r=C.H,s=r.useState()[0];return s=typeof s.then=="function"?ou(s):s,r=r.useState()[0],(et!==null?et.memoizedState:null)!==r&&(Ve.flags|=1024),s}function Im(){var r=Th!==0;return Th=0,r}function Dm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Nm(r){if(Eh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Eh=!1}us=0,Ct=et=Ve=null,Co=!1,au=Th=0,Io=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ve.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function It(){if(et===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=et.next;var s=Ct===null?Ve.memoizedState:Ct.next;if(s!==null)Ct=s,et=r;else{if(r===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));et=r,r={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ve.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}var bh;bh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ou(r){var s=au;return au+=1,Io===null&&(Io=[]),r=K0(Io,r,s),s=Ve,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Ea:cs),r}function wh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ou(r);if(r.$$typeof===w)return un(r)}throw Error(i(438,String(r)))}function Pm(r){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bh(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=Z;return s.index++,o}function yr(r,s){return typeof s=="function"?s(r):s}function Sh(r){var s=It();return Om(s,et,r)}function Om(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}s.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var A=b=null,k=null,H=s,ee=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?(Ge&ae)===ae:(us&ae)===ae){var Q=H.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===Ro&&(ee=!0);else if((us&Q)===Q){H=H.next,Q===Ro&&(ee=!0);continue}else ae={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(A=k=ae,b=g):k=k.next=ae,Ve.lanes|=Q,_s|=Q;ae=H.action,_a&&o(g,ae),g=H.hasEagerState?H.eagerState:o(g,ae)}else Q={lane:ae,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(A=k=Q,b=g):k=k.next=Q,Ve.lanes|=ae,_s|=ae;H=H.next}while(H!==null&&H!==s);if(k===null?b=g:k.next=A,!Un(g,r.memoizedState)&&(Kt=!0,ee&&(o=xo,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=k,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Mm(r){var s=It(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=r(g,b.action),b=b.next;while(b!==m);Un(g,s.memoizedState)||(Kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function s_(r,s,o){var c=Ve,m=It(),g=Qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Un((et||m).memoizedState,o);if(b&&(m.memoizedState=o,Kt=!0),m=m.queue,Lm(l_.bind(null,c,m,r),[r]),m.getSnapshot!==s||b||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,Do(9,o_.bind(null,c,m,o,s),{destroy:void 0},null),it===null)throw Error(i(349));g||us&60||a_(c,s,o)}return o}function a_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=bh(),Ve.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function o_(r,s,o,c){s.value=o,s.getSnapshot=c,u_(s)&&c_(r)}function l_(r,s,o){return o(function(){u_(s)&&c_(r)})}function u_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Un(r,o)}catch{return!0}}function c_(r){var s=as(r,2);s!==null&&wn(s,r,2)}function km(r){var s=xn();if(typeof r=="function"){var o=r;if(r=o(),_a){xi(!0);try{o()}finally{xi(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:r},s}function h_(r,s,o,c){return r.baseState=o,Om(r,et,typeof c=="function"?c:yr)}function uI(r,s,o,c,m){if(xh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};C.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,f_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function f_(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var g=C.T,b={};C.T=b;try{var A=o(m,c),k=C.S;k!==null&&k(b,A),d_(r,s,A)}catch(H){Vm(r,s,H)}finally{C.T=g}}else try{g=o(m,c),d_(r,s,g)}catch(H){Vm(r,s,H)}}function d_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){m_(r,s,c)},function(c){return Vm(r,s,c)}):m_(r,s,o)}function m_(r,s,o){s.status="fulfilled",s.value=o,p_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,f_(r,o)))}function Vm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,p_(s),s=s.next;while(s!==c)}r.action=null}function p_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function g_(r,s){return s}function y_(r,s){if(Qe){var o=it.formState;if(o!==null){e:{var c=Ve;if(Qe){if(en){t:{for(var m=en,g=Ui;m.nodeType!==8;){if(!g){m=null;break t}if(m=vi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){en=vi(m.nextSibling),c=m.data==="F!";break e}}ga(c)}c=!1}c&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:s},o.queue=c,o=k_.bind(null,Ve,c),c.dispatch=o,c=km(!1),g=zm.bind(null,Ve,!1,c.queue),c=xn(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=uI.bind(null,Ve,m,g,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function v_(r){var s=It();return __(s,et,r)}function __(r,s,o){s=Om(r,s,g_)[0],r=Sh(yr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ou(s):s;var c=It(),m=c.queue,g=m.dispatch;return o!==c.memoizedState&&(Ve.flags|=2048,Do(9,cI.bind(null,m,o),{destroy:void 0},null)),[s,g,r]}function cI(r,s){r.action=s}function E_(r){var s=It(),o=et;if(o!==null)return __(s,o,r);It(),s=s.memoizedState,o=It();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Do(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=Ve.updateQueue,s===null&&(s=bh(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function T_(){return It().memoizedState}function Ah(r,s,o,c){var m=xn();Ve.flags|=r,m.memoizedState=Do(1|s,o,{destroy:void 0},c===void 0?null:c)}function Rh(r,s,o,c){var m=It();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&xm(c,et.memoizedState.deps)?m.memoizedState=Do(s,o,g,c):(Ve.flags|=r,m.memoizedState=Do(1|s,o,g,c))}function b_(r,s){Ah(8390656,8,r,s)}function Lm(r,s){Rh(2048,8,r,s)}function w_(r,s){return Rh(4,2,r,s)}function S_(r,s){return Rh(4,4,r,s)}function A_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function R_(r,s,o){o=o!=null?o.concat([r]):null,Rh(4,4,A_.bind(null,s,r),o)}function Um(){}function x_(r,s){var o=It();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&xm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function C_(r,s){var o=It();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&xm(s,c[1]))return c[0];if(c=r(),_a){xi(!0);try{r()}finally{xi(!1)}}return o.memoizedState=[c,s],c}function jm(r,s,o){return o===void 0||us&1073741824?r.memoizedState=s:(r.memoizedState=o,r=DE(),Ve.lanes|=r,_s|=r,o)}function I_(r,s,o,c){return Un(o,s)?o:Ao.current!==null?(r=jm(r,o,c),Un(r,s)||(Kt=!0),r):us&42?(r=DE(),Ve.lanes|=r,_s|=r,s):(Kt=!0,r.memoizedState=o)}function D_(r,s,o,c,m){var g=fe.p;fe.p=g!==0&&8>g?g:8;var b=C.T,A={};C.T=A,zm(r,!1,s,o);try{var k=m(),H=C.S;if(H!==null&&H(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=aI(k,c);lu(r,s,ee,zn(r))}else lu(r,s,c,zn(r))}catch(ae){lu(r,s,{then:function(){},status:"rejected",reason:ae},zn())}finally{fe.p=g,C.T=b}}function hI(){}function Bm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=N_(r).queue;D_(r,m,s,Ie,o===null?hI:function(){return P_(r),o(c)})}function N_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:Ie},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function P_(r){var s=N_(r).next.queue;lu(r,s,{},zn())}function Fm(){return un(Cu)}function O_(){return It().memoizedState}function M_(){return It().memoizedState}function fI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=zn();r=ds(o);var c=ms(s,r,o);c!==null&&(wn(c,s,o),hu(c,s,o)),s={cache:Sm()},r.payload=s;return}s=s.return}}function dI(r,s,o){var c=zn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},xh(r)?V_(s,o):(o=ym(r,s,o,c),o!==null&&(wn(o,r,c),L_(o,s,c)))}function k_(r,s,o){var c=zn();lu(r,s,o,c)}function lu(r,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(xh(r))V_(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,o);if(m.hasEagerState=!0,m.eagerState=A,Un(A,b))return ch(r,s,m,0),it===null&&uh(),!1}catch{}finally{}if(o=ym(r,s,m,c),o!==null)return wn(o,r,c),L_(o,s,c),!0}return!1}function zm(r,s,o,c){if(c={lane:2,revertLane:Np(),action:c,hasEagerState:!1,eagerState:null,next:null},xh(r)){if(s)throw Error(i(479))}else s=ym(r,o,c,2),s!==null&&wn(s,r,2)}function xh(r){var s=r.alternate;return r===Ve||s!==null&&s===Ve}function V_(r,s){Co=Eh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function L_(r,s,o){if(o&4194176){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Wr(r,o)}}var Bi={readContext:un,use:wh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At};Bi.useCacheRefresh=At,Bi.useMemoCache=At,Bi.useHostTransitionStatus=At,Bi.useFormState=At,Bi.useActionState=At,Bi.useOptimistic=At;var Ea={readContext:un,use:wh,useCallback:function(r,s){return xn().memoizedState=[r,s===void 0?null:s],r},useContext:un,useEffect:b_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ah(4194308,4,A_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ah(4194308,4,r,s)},useInsertionEffect:function(r,s){Ah(4,2,r,s)},useMemo:function(r,s){var o=xn();s=s===void 0?null:s;var c=r();if(_a){xi(!0);try{r()}finally{xi(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=xn();if(o!==void 0){var m=o(s);if(_a){xi(!0);try{o(s)}finally{xi(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=dI.bind(null,Ve,r),[c.memoizedState,r]},useRef:function(r){var s=xn();return r={current:r},s.memoizedState=r},useState:function(r){r=km(r);var s=r.queue,o=k_.bind(null,Ve,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(r,s){var o=xn();return jm(o,r,s)},useTransition:function(){var r=km(!1);return r=D_.bind(null,Ve,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ve,m=xn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),it===null)throw Error(i(349));Ge&60||a_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,b_(l_.bind(null,c,g,r),[r]),c.flags|=2048,Do(9,o_.bind(null,c,g,o,s),{destroy:void 0},null),o},useId:function(){var r=xn(),s=it.identifierPrefix;if(Qe){var o=pr,c=mr;o=(c&~(1<<32-_n(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=Th++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=oI++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return xn().memoizedState=fI.bind(null,Ve)}};Ea.useMemoCache=Pm,Ea.useHostTransitionStatus=Fm,Ea.useFormState=y_,Ea.useActionState=y_,Ea.useOptimistic=function(r){var s=xn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zm.bind(null,Ve,!0,o),o.dispatch=s,[r,s]};var cs={readContext:un,use:wh,useCallback:x_,useContext:un,useEffect:Lm,useImperativeHandle:R_,useInsertionEffect:w_,useLayoutEffect:S_,useMemo:C_,useReducer:Sh,useRef:T_,useState:function(){return Sh(yr)},useDebugValue:Um,useDeferredValue:function(r,s){var o=It();return I_(o,et.memoizedState,r,s)},useTransition:function(){var r=Sh(yr)[0],s=It().memoizedState;return[typeof r=="boolean"?r:ou(r),s]},useSyncExternalStore:s_,useId:O_};cs.useCacheRefresh=M_,cs.useMemoCache=Pm,cs.useHostTransitionStatus=Fm,cs.useFormState=v_,cs.useActionState=v_,cs.useOptimistic=function(r,s){var o=It();return h_(o,et,r,s)};var Ta={readContext:un,use:wh,useCallback:x_,useContext:un,useEffect:Lm,useImperativeHandle:R_,useInsertionEffect:w_,useLayoutEffect:S_,useMemo:C_,useReducer:Mm,useRef:T_,useState:function(){return Mm(yr)},useDebugValue:Um,useDeferredValue:function(r,s){var o=It();return et===null?jm(o,r,s):I_(o,et.memoizedState,r,s)},useTransition:function(){var r=Mm(yr)[0],s=It().memoizedState;return[typeof r=="boolean"?r:ou(r),s]},useSyncExternalStore:s_,useId:O_};Ta.useCacheRefresh=M_,Ta.useMemoCache=Pm,Ta.useHostTransitionStatus=Fm,Ta.useFormState=E_,Ta.useActionState=E_,Ta.useOptimistic=function(r,s){var o=It();return et!==null?h_(o,et,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Hm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:M({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var qm={isMounted:function(r){return(r=r._reactInternals)?ne(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=zn(),m=ds(c);m.payload=s,o!=null&&(m.callback=o),s=ms(r,m,c),s!==null&&(wn(s,r,c),hu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=zn(),m=ds(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ms(r,m,c),s!==null&&(wn(s,r,c),hu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=zn(),c=ds(o);c.tag=2,s!=null&&(c.callback=s),s=ms(r,c,o),s!==null&&(wn(s,r,o),hu(s,r,o))}};function U_(r,s,o,c,m,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,c)||!Ql(m,g):!0}function j_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&qm.enqueueReplaceState(s,s.state,null)}function ba(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=M({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var Ch=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function B_(r){Ch(r)}function F_(r){console.error(r)}function z_(r){Ch(r)}function Ih(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function H_(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Gm(r,s,o){return o=ds(o),o.tag=3,o.payload={element:null},o.callback=function(){Ih(r,s)},o}function q_(r){return r=ds(r),r.tag=3,r}function G_(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){H_(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){H_(s,o,c),typeof m!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function mI(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&cu(s,o,m,!0),o=ni.current,o!==null){switch(o.tag){case 13:return ji===null?Rp():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Tm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Cp(r,c,m)),!1;case 22:return o.flags|=65536,c===Tm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Cp(r,c,m)),!1}throw Error(i(435,o.tag))}return Cp(r,c,m),Rp(),!1}if(Qe)return s=ni.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Em&&(r=Error(i(422),{cause:c}),Jl(Jn(r,o)))):(c!==Em&&(s=Error(i(423),{cause:c}),Jl(Jn(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Jn(c,o),m=Gm(r.stateNode,c,m),ap(r,m),gt!==4&&(gt=2)),!1;var g=Error(i(520),{cause:c});if(g=Jn(g,o),_u===null?_u=[g]:_u.push(g),gt!==4&&(gt=2),s===null)return!0;c=Jn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=Gm(o.stateNode,c,r),ap(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Es===null||!Es.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=q_(m),G_(m,r,o,c),ap(o,m),!1}o=o.return}while(o!==null);return!1}var $_=Error(i(461)),Kt=!1;function tn(r,s,o,c){s.child=r===null?X0(s,null,o,c):ya(s,r.child,o,c)}function K_(r,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Sa(s),c=Cm(r,s,o,b,g,m),A=Im(),r!==null&&!Kt?(Dm(r,s,m),vr(r,s,m)):(Qe&&A&&vm(s),s.flags|=1,tn(r,s,c,m),s.child)}function Y_(r,s,o,c,m){if(r===null){var g=o.type;return typeof g=="function"&&!mp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Q_(r,s,g,c,m)):(r=Mh(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!ep(r,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(b,c)&&r.ref===s.ref)return vr(r,s,m)}return s.flags|=1,r=vs(g,c),r.ref=s.ref,r.return=s,s.child=r}function Q_(r,s,o,c,m){if(r!==null){var g=r.memoizedProps;if(Ql(g,c)&&r.ref===s.ref)if(Kt=!1,s.pendingProps=c=g,ep(r,m))r.flags&131072&&(Kt=!0);else return s.lanes=r.lanes,vr(r,s,m)}return $m(r,s,o,c,m)}function W_(r,s,o){var c=s.pendingProps,m=c.children,g=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(uu(r,s),c.mode==="hidden"||g){if(s.flags&128){if(c=b!==null?b.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return X_(r,s,c,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&_h(s,b!==null?b.cachePool:null),b!==null?Z0(s,b):bm(),J0(s);else return s.lanes=s.childLanes=536870912,X_(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(_h(s,b.cachePool),Z0(s,b),ls(),s.memoizedState=null):(r!==null&&_h(s,null),bm(),ls());return tn(r,s,m,o),s.child}function X_(r,s,o,c){var m=Rm();return m=m===null?null:{parent:jt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&_h(s,null),bm(),J0(s),r!==null&&cu(r,s,c,!0),null}function uu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function $m(r,s,o,c,m){return Sa(s),o=Cm(r,s,o,c,void 0,m),c=Im(),r!==null&&!Kt?(Dm(r,s,m),vr(r,s,m)):(Qe&&c&&vm(s),s.flags|=1,tn(r,s,o,m),s.child)}function Z_(r,s,o,c,m,g){return Sa(s),s.updateQueue=null,o=r_(s,c,o,m),i_(r),c=Im(),r!==null&&!Kt?(Dm(r,s,g),vr(r,s,g)):(Qe&&c&&vm(s),s.flags|=1,tn(r,s,o,g),s.child)}function J_(r,s,o,c,m){if(Sa(s),s.stateNode===null){var g=To,b=o.contextType;typeof b=="object"&&b!==null&&(g=un(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},rp(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?un(b):To,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Hm(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&qm.enqueueReplaceState(g,g.state,null),du(s,c,g,m),fu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,k=ba(o,A);g.props=k;var H=g.context,ee=o.contextType;b=To,typeof ee=="object"&&ee!==null&&(b=un(ee));var ae=o.getDerivedStateFromProps;ee=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==b)&&j_(s,g,c,b),fs=!1;var Q=s.memoizedState;g.state=Q,du(s,c,g,m),fu(),H=s.memoizedState,A||Q!==H||fs?(typeof ae=="function"&&(Hm(s,o,ae,c),H=s.memoizedState),(k=fs||U_(s,o,k,c,Q,H,b))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),g.props=c,g.state=H,g.context=b,c=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,sp(r,s),b=s.memoizedProps,ee=ba(o,b),g.props=ee,ae=s.pendingProps,Q=g.context,H=o.contextType,k=To,typeof H=="object"&&H!==null&&(k=un(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||Q!==k)&&j_(s,g,c,k),fs=!1,Q=s.memoizedState,g.state=Q,du(s,c,g,m),fu();var J=s.memoizedState;b!==ae||Q!==J||fs||r!==null&&r.dependencies!==null&&Dh(r.dependencies)?(typeof A=="function"&&(Hm(s,o,A,c),J=s.memoizedState),(ee=fs||U_(s,o,ee,c,Q,J,k)||r!==null&&r.dependencies!==null&&Dh(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=k,c=ee):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,uu(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=ya(s,r.child,null,m),s.child=ya(s,null,o,m)):tn(r,s,o,m),s.memoizedState=g.state,r=s.child):r=vr(r,s,m),r}function eE(r,s,o,c){return Zl(),s.flags|=256,tn(r,s,o,c),s.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Ym(r){return{baseLanes:r,cachePool:n_()}}function Qm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ai),r}function tE(r,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qe){if(m?os(s):ls(),Qe){var A=en,k;if(k=A){e:{for(k=A,A=Ui;k.nodeType!==8;){if(!A){A=null;break e}if(k=vi(k.nextSibling),k===null){A=null;break e}}A=k}A!==null?(s.memoizedState={dehydrated:A,treeContext:ma!==null?{id:mr,overflow:pr}:null,retryLane:536870912},k=si(18,null,null,0),k.stateNode=A,k.return=s,s.child=k,bn=s,en=null,k=!0):k=!1}k||ga(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;gr(s)}return A=c.children,c=c.fallback,m?(ls(),m=s.mode,A=Xm({mode:"hidden",children:A},m),c=Ra(c,m,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,m=s.child,m.memoizedState=Ym(o),m.childLanes=Qm(r,b,o),s.memoizedState=Km,c):(os(s),Wm(s,A))}if(k=r.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(g)s.flags&256?(os(s),s.flags&=-257,s=Zm(r,s,o)):s.memoizedState!==null?(ls(),s.child=r.child,s.flags|=128,s=null):(ls(),m=c.fallback,A=s.mode,c=Xm({mode:"visible",children:c.children},A),m=Ra(m,A,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,ya(s,r.child,null,o),c=s.child,c.memoizedState=Ym(o),c.childLanes=Qm(r,b,o),s.memoizedState=Km,s=m);else if(os(s),A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var H=b.dgst;b=H,c=Error(i(419)),c.stack="",c.digest=b,Jl({value:c,source:null,stack:null}),s=Zm(r,s,o)}else if(Kt||cu(r,s,o,!1),b=(o&r.childLanes)!==0,Kt||b){if(b=it,b!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(b.suspendedLanes|o)?0:c,c!==0&&c!==k.retryLane)throw k.retryLane=c,as(r,c),wn(b,r,c),$_}A.data==="$?"||Rp(),s=Zm(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=II.bind(null,r),A._reactRetry=s,s=null):(r=k.treeContext,en=vi(A.nextSibling),bn=s,Qe=!0,gi=null,Ui=!1,r!==null&&(ei[ti++]=mr,ei[ti++]=pr,ei[ti++]=ma,mr=r.id,pr=r.overflow,ma=s),s=Wm(s,c.children),s.flags|=4096);return s}return m?(ls(),m=c.fallback,A=s.mode,k=r.child,H=k.sibling,c=vs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&31457280,H!==null?m=vs(H,m):(m=Ra(m,A,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,A=r.child.memoizedState,A===null?A=Ym(o):(k=A.cachePool,k!==null?(H=jt._currentValue,k=k.parent!==H?{parent:H,pool:H}:k):k=n_(),A={baseLanes:A.baseLanes|o,cachePool:k}),m.memoizedState=A,m.childLanes=Qm(r,b,o),s.memoizedState=Km,c):(os(s),o=r.child,r=o.sibling,o=vs(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Wm(r,s){return s=Xm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Xm(r,s){return xE(r,s,0,null)}function Zm(r,s,o){return ya(s,r.child,null,o),r=Wm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function nE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),np(r.return,s,o)}function Jm(r,s,o,c,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function iE(r,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;if(tn(r,s,c.children,o),c=Ut.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&nE(r,o,s);else if(r.tag===19)nE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Te(Ut,c),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&vh(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Jm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&vh(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Jm(s,!0,o,null,g);break;case"together":Jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),_s|=s.lanes,!(o&s.childLanes))if(r!==null){if(cu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=vs(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=vs(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ep(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Dh(r)))}function pI(r,s,o){switch(s.tag){case 3:On(s,s.stateNode.containerInfo),hs(s,jt,r.memoizedState.cache),Zl();break;case 27:case 5:Zs(s);break;case 4:On(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(os(s),s.flags|=128,null):o&s.child.childLanes?tE(r,s,o):(os(s),r=vr(r,s,o),r!==null?r.sibling:null);os(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(cu(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return iE(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Te(Ut,Ut.current),c)break;return null;case 22:case 23:return s.lanes=0,W_(r,s,o);case 24:hs(s,jt,r.memoizedState.cache)}return vr(r,s,o)}function rE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Kt=!0;else{if(!ep(r,o)&&!(s.flags&128))return Kt=!1,pI(r,s,o);Kt=!!(r.flags&131072)}else Kt=!1,Qe&&s.flags&1048576&&z0(s,dh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")mp(c)?(r=ba(c,r),s.tag=1,s=J_(null,s,c,r,o)):(s.tag=0,s=$m(null,s,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===S){s.tag=11,s=K_(null,s,c,r,o);break e}else if(m===O){s.tag=14,s=Y_(null,s,c,r,o);break e}}throw s=I(c)||c,Error(i(306,s,""))}}return s;case 0:return $m(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=ba(c,s.pendingProps),J_(r,s,c,m,o);case 3:e:{if(On(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;m=s.memoizedState,c=m.element,sp(r,s),du(s,g,null,o);var b=s.memoizedState;if(g=b.cache,hs(s,jt,g),g!==m.cache&&ip(s,[jt],o,!0),fu(),g=b.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=eE(r,s,g,o);break e}else if(g!==c){c=Jn(Error(i(424)),s),Jl(c),s=eE(r,s,g,o);break e}else for(en=vi(s.stateNode.containerInfo.firstChild),bn=s,Qe=!0,gi=null,Ui=!0,o=X0(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zl(),g===c){s=vr(r,s,o);break e}tn(r,s,g,o)}s=s.child}return s;case 26:return uu(r,s),r===null?(o=oT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,r=s.pendingProps,c=$h(Ot.current).createElement(o),c[qt]=s,c[kt]=r,nn(c,o,r),ut(c),s.stateNode=c):s.memoizedState=oT(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Zs(s),r===null&&Qe&&(c=s.stateNode=rT(s.type,s.pendingProps,Ot.current),bn=s,Ui=!0,en=vi(c.firstChild)),c=s.pendingProps.children,r!==null||Qe?tn(r,s,c,o):s.child=ya(s,null,c,o),uu(r,s),s.child;case 5:return r===null&&Qe&&((m=c=en)&&(c=GI(c,s.type,s.pendingProps,Ui),c!==null?(s.stateNode=c,bn=s,en=vi(c.firstChild),Ui=!1,m=!0):m=!1),m||ga(s)),Zs(s),m=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,Bp(m,g)?c=null:b!==null&&Bp(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=Cm(r,s,lI,null,null,o),Cu._currentValue=m),uu(r,s),tn(r,s,c,o),s.child;case 6:return r===null&&Qe&&((r=o=en)&&(o=$I(o,s.pendingProps,Ui),o!==null?(s.stateNode=o,bn=s,en=null,r=!0):r=!1),r||ga(s)),null;case 13:return tE(r,s,o);case 4:return On(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ya(s,null,c,o):tn(r,s,c,o),s.child;case 11:return K_(r,s,s.type,s.pendingProps,o);case 7:return tn(r,s,s.pendingProps,o),s.child;case 8:return tn(r,s,s.pendingProps.children,o),s.child;case 12:return tn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,hs(s,s.type,c.value),tn(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Sa(s),m=un(m),c=c(m),s.flags|=1,tn(r,s,c,o),s.child;case 14:return Y_(r,s,s.type,s.pendingProps,o);case 15:return Q_(r,s,s.type,s.pendingProps,o);case 19:return iE(r,s,o);case 22:return W_(r,s,o);case 24:return Sa(s),c=un(jt),r===null?(m=Rm(),m===null&&(m=it,g=Sm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},rp(s),hs(s,jt,m)):(r.lanes&o&&(sp(r,s),du(s,null,null,o),fu()),m=r.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),hs(s,jt,c)):(c=g.cache,hs(s,jt,c),c!==m.cache&&ip(s,[jt],o,!0))),tn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var tp=xe(null),wa=null,_r=null;function hs(r,s,o){Te(tp,s._currentValue),s._currentValue=o}function Er(r){r._currentValue=tp.current,Oe(tp)}function np(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function ip(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var k=0;k<s.length;k++)if(A.context===s[k]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),np(g.return,o,r),c||(b=null);break e}g=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),np(b,o,r),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function cu(r,s,o,c){r=null;for(var m=s,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=m.type;Un(m.pendingProps.value,b.value)||(r!==null?r.push(A):r=[A])}}else if(m===Zt.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Cu):r=[Cu])}m=m.return}r!==null&&ip(s,r,o,c),s.flags|=262144}function Dh(r){for(r=r.firstContext;r!==null;){if(!Un(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){wa=r,_r=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return sE(wa,r)}function Nh(r,s){return wa===null&&Sa(r),sE(r,s)}function sE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},_r===null){if(r===null)throw Error(i(308));_r=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else _r=_r.next=s;return o}var fs=!1;function rp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ds(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ms(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,ht&2){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=hh(r),B0(r,null,o),s}return ch(r,c,s,o),hh(r)}function hu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Wr(r,o)}}function ap(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var op=!1;function fu(){if(op){var r=xo;if(r!==null)throw r}}function du(r,s,o,c){op=!1;var m=r.updateQueue;fs=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var k=A,H=k.next;k.next=null,b===null?g=H:b.next=H,b=k;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==b&&(A===null?ee.firstBaseUpdate=H:A.next=H,ee.lastBaseUpdate=k))}if(g!==null){var ae=m.baseState;b=0,ee=H=k=null,A=g;do{var Q=A.lane&-536870913,J=Q!==A.lane;if(J?(Ge&Q)===Q:(c&Q)===Q){Q!==0&&Q===Ro&&(op=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=r,Ne=A;Q=s;var yt=o;switch(Ne.tag){case 1:if(ve=Ne.payload,typeof ve=="function"){ae=ve.call(yt,ae,Q);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ne.payload,Q=typeof ve=="function"?ve.call(yt,ae,Q):ve,Q==null)break e;ae=M({},ae,Q);break e;case 2:fs=!0}}Q=A.callback,Q!==null&&(r.flags|=64,J&&(r.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(H=ee=J,k=ae):ee=ee.next=J,b|=Q;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ee===null&&(k=ae),m.baseState=k,m.firstBaseUpdate=H,m.lastBaseUpdate=ee,g===null&&(m.shared.lanes=0),_s|=b,r.lanes=b,r.memoizedState=ae}}function aE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function oE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)aE(o[r],s)}function mu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){nt(s,s.return,A)}}function ps(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=s;var k=o;try{A()}catch(H){nt(m,k,H)}}}c=c.next}while(c!==g)}}catch(H){nt(s,s.return,H)}}function lE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{oE(s,o)}catch(c){nt(r,r.return,c)}}}function uE(r,s,o){o.props=ba(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){nt(r,s,c)}}function Aa(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof o=="function"?r.refCleanup=o(m):o.current=m}}catch(g){nt(r,s,g)}}function jn(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){nt(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){nt(r,s,m)}else o.current=null}function cE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){nt(r,r.return,m)}}function hE(r,s,o){try{var c=r.stateNode;BI(c,r.type,o,s),c[kt]=s}catch(m){nt(r,r.return,m)}}function fE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function lp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function up(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Gh));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(up(r,s,o),r=r.sibling;r!==null;)up(r,s,o),r=r.sibling}function Ph(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Ph(r,s,o),r=r.sibling;r!==null;)Ph(r,s,o),r=r.sibling}var Tr=!1,pt=!1,cp=!1,dE=typeof WeakSet=="function"?WeakSet:Set,Yt=null,mE=!1;function gI(r,s){if(r=r.containerInfo,Up=Zh,r=N0(r),fm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,k=-1,H=0,ee=0,ae=r,Q=null;t:for(;;){for(var J;ae!==o||m!==0&&ae.nodeType!==3||(A=b+m),ae!==g||c!==0&&ae.nodeType!==3||(k=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Q=ae,ae=J;for(;;){if(ae===r)break t;if(Q===o&&++H===m&&(A=b),Q===g&&++ee===c&&(k=b),(J=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=J}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:r,selectionRange:o},Zh=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ve=ba(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ve,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ne){nt(o,o.return,Ne)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Hp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}return ve=mE,mE=!1,ve}function pE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:wr(r,o),c&4&&mu(5,o);break;case 1:if(wr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){nt(o,o.return,A)}else{var m=ba(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(o,o.return,A)}}c&64&&lE(o),c&512&&Aa(o,o.return);break;case 3:if(wr(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{oE(c,r)}catch(A){nt(o,o.return,A)}}break;case 26:wr(r,o),c&512&&Aa(o,o.return);break;case 27:case 5:wr(r,o),s===null&&c&4&&cE(o),c&512&&Aa(o,o.return);break;case 12:wr(r,o);break;case 13:wr(r,o),c&4&&vE(r,o);break;case 22:if(m=o.memoizedState!==null||Tr,!m){s=s!==null&&s.memoizedState!==null||pt;var g=Tr,b=pt;Tr=m,(pt=s)&&!b?gs(r,o,(o.subtreeFlags&8772)!==0):wr(r,o),Tr=g,pt=b}c&512&&(o.memoizedProps.mode==="manual"?Aa(o,o.return):jn(o,o.return));break;default:wr(r,o)}}function gE(r){var s=r.alternate;s!==null&&(r.alternate=null,gE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ta(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Dt=null,Bn=!1;function br(r,s,o){for(o=o.child;o!==null;)yE(r,s,o),o=o.sibling}function yE(r,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Gr,o)}catch{}switch(o.tag){case 26:pt||jn(o,s),br(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||jn(o,s);var c=Dt,m=Bn;for(Dt=o.stateNode,br(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);ta(o),Dt=c,Bn=m;break;case 5:pt||jn(o,s);case 6:m=Dt;var g=Bn;if(Dt=null,br(r,s,o),Dt=m,Bn=g,Dt!==null)if(Bn)try{r=Dt,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(b){nt(o,s,b)}else try{Dt.removeChild(o.stateNode)}catch(b){nt(o,s,b)}break;case 18:Dt!==null&&(Bn?(s=Dt,o=o.stateNode,s.nodeType===8?zp(s.parentNode,o):s.nodeType===1&&zp(s,o),Pu(s)):zp(Dt,o.stateNode));break;case 4:c=Dt,m=Bn,Dt=o.stateNode.containerInfo,Bn=!0,br(r,s,o),Dt=c,Bn=m;break;case 0:case 11:case 14:case 15:pt||ps(2,o,s),pt||ps(4,o,s),br(r,s,o);break;case 1:pt||(jn(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&uE(o,s,c)),br(r,s,o);break;case 21:br(r,s,o);break;case 22:pt||jn(o,s),pt=(c=pt)||o.memoizedState!==null,br(r,s,o),pt=c;break;default:br(r,s,o)}}function vE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pu(r)}catch(o){nt(s,s.return,o)}}function yI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dE),s;default:throw Error(i(435,r.tag))}}function hp(r,s){var o=yI(r);s.forEach(function(c){var m=DI.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function ii(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=r,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:case 5:Dt=A.stateNode,Bn=!1;break e;case 3:Dt=A.stateNode.containerInfo,Bn=!0;break e;case 4:Dt=A.stateNode.containerInfo,Bn=!0;break e}A=A.return}if(Dt===null)throw Error(i(160));yE(g,b,m),Dt=null,Bn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)_E(s,r),s=s.sibling}var yi=null;function _E(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ii(s,r),ri(r),c&4&&(ps(3,r,r.return),mu(3,r),ps(5,r,r.return));break;case 1:ii(s,r),ri(r),c&512&&(pt||o===null||jn(o,o.return)),c&64&&Tr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=yi;if(ii(s,r),ri(r),c&512&&(pt||o===null||jn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Zr]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),nn(g,c,o),g[qt]=r,ut(g),c=g;break e;case"link":var b=cT("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=m.createElement(c),nn(g,c,o),m.head.appendChild(g);break;case"meta":if(b=cT("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=m.createElement(c),nn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[qt]=r,ut(g),c=g}r.stateNode=c}else hT(m,r.type,r.stateNode);else r.stateNode=uT(m,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?hT(m,r.type,r.stateNode):uT(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&hE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){m=r.stateNode,g=r.memoizedProps;try{for(var k=m.firstChild;k;){var H=k.nextSibling,ee=k.nodeName;k[Zr]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&k.rel.toLowerCase()==="stylesheet"||m.removeChild(k),k=H}for(var ae=r.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);nn(m,ae,g),m[qt]=r,m[kt]=g}catch(ve){nt(r,r.return,ve)}}case 5:if(ii(s,r),ri(r),c&512&&(pt||o===null||jn(o,o.return)),r.flags&32){m=r.stateNode;try{Yn(m,"")}catch(ve){nt(r,r.return,ve)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,hE(r,m,o!==null?o.memoizedProps:m)),c&1024&&(cp=!0);break;case 6:if(ii(s,r),ri(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ve){nt(r,r.return,ve)}}break;case 3:if(Qh=null,m=yi,yi=Kh(s.containerInfo),ii(s,r),yi=m,ri(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Pu(s.containerInfo)}catch(ve){nt(r,r.return,ve)}cp&&(cp=!1,EE(r));break;case 4:c=yi,yi=Kh(r.stateNode.containerInfo),ii(s,r),ri(r),yi=c;break;case 12:ii(s,r),ri(r);break;case 13:ii(s,r),ri(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ep=bt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,hp(r,c)));break;case 22:if(c&512&&(pt||o===null||jn(o,o.return)),k=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,ee=Tr,ae=pt,Tr=ee||k,pt=ae||H,ii(s,r),pt=ae,Tr=ee,ri(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=k?s._visibility&-2:s._visibility|1,k&&(s=Tr||pt,o===null||H||s||No(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(m=H.stateNode,k)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=H.stateNode,A=H.memoizedProps.style;var J=A!=null&&A.hasOwnProperty("display")?A.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ve){nt(H,H.return,ve)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=k?"":H.memoizedProps}catch(ve){nt(H,H.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,hp(r,o))));break;case 19:ii(s,r),ri(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,hp(r,c)));break;case 21:break;default:ii(s,r),ri(r)}}function ri(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(fE(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var m=c.stateNode,g=lp(r);Ph(r,g,m);break;case 5:var b=c.stateNode;c.flags&32&&(Yn(b,""),c.flags&=-33);var A=lp(r);Ph(r,A,b);break;case 3:case 4:var k=c.stateNode.containerInfo,H=lp(r);up(r,H,k);break;default:throw Error(i(161))}}}catch(ee){nt(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function EE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;EE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function wr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pE(r,s.alternate,s),s=s.sibling}function No(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),No(s);break;case 1:jn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&uE(s,s.return,o),No(s);break;case 26:case 27:case 5:jn(s,s.return),No(s);break;case 22:jn(s,s.return),s.memoizedState===null&&No(s);break;default:No(s)}r=r.sibling}}function gs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:gs(m,g,o),mu(4,g);break;case 1:if(gs(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){nt(c,c.return,H)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)aE(k[m],A)}catch(H){nt(c,c.return,H)}}o&&b&64&&lE(g),Aa(g,g.return);break;case 26:case 27:case 5:gs(m,g,o),o&&c===null&&b&4&&cE(g),Aa(g,g.return);break;case 12:gs(m,g,o);break;case 13:gs(m,g,o),o&&b&4&&vE(m,g);break;case 22:g.memoizedState===null&&gs(m,g,o),Aa(g,g.return);break;default:gs(m,g,o)}s=s.sibling}}function fp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ru(o))}function dp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ru(r))}function ys(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)TE(r,s,o,c),s=s.sibling}function TE(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ys(r,s,o,c),m&2048&&mu(9,s);break;case 3:ys(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ru(r)));break;case 12:if(m&2048){ys(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){nt(s,s.return,k)}}else ys(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?ys(r,s,o,c):pu(r,s):g._visibility&4?ys(r,s,o,c):(g._visibility|=4,Po(r,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&fp(s.alternate,s);break;case 24:ys(r,s,o,c),m&2048&&dp(s.alternate,s);break;default:ys(r,s,o,c)}}function Po(r,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,A=o,k=c,H=b.flags;switch(b.tag){case 0:case 11:case 15:Po(g,b,A,k,m),mu(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&4?Po(g,b,A,k,m):pu(g,b):(ee._visibility|=4,Po(g,b,A,k,m)),m&&H&2048&&fp(b.alternate,b);break;case 24:Po(g,b,A,k,m),m&&H&2048&&dp(b.alternate,b);break;default:Po(g,b,A,k,m)}s=s.sibling}}function pu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:pu(o,c),m&2048&&fp(c.alternate,c);break;case 24:pu(o,c),m&2048&&dp(c.alternate,c);break;default:pu(o,c)}s=s.sibling}}var gu=8192;function Oo(r){if(r.subtreeFlags&gu)for(r=r.child;r!==null;)bE(r),r=r.sibling}function bE(r){switch(r.tag){case 26:Oo(r),r.flags&gu&&r.memoizedState!==null&&sD(yi,r.memoizedState,r.memoizedProps);break;case 5:Oo(r);break;case 3:case 4:var s=yi;yi=Kh(r.stateNode.containerInfo),Oo(r),yi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=gu,gu=16777216,Oo(r),gu=s):Oo(r));break;default:Oo(r)}}function wE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function yu(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Yt=c,AE(c,r)}wE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)SE(r),r=r.sibling}function SE(r){switch(r.tag){case 0:case 11:case 15:yu(r),r.flags&2048&&ps(9,r,r.return);break;case 3:yu(r);break;case 12:yu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Oh(r)):yu(r);break;default:yu(r)}}function Oh(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Yt=c,AE(c,r)}wE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Oh(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Oh(s));break;default:Oh(s)}r=r.sibling}}function AE(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ru(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=r;Yt!==null;){c=Yt;var m=c.sibling,g=c.return;if(gE(c),c===o){Yt=null;break e}if(m!==null){m.return=g,Yt=m;break e}Yt=g}}}function vI(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(r,s,o,c){return new vI(r,s,o,c)}function mp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vs(r,s){var o=r.alternate;return o===null?(o=si(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function RE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Mh(r,s,o,c,m,g){var b=0;if(c=r,typeof r=="function")mp(r)&&(b=1);else if(typeof r=="string")b=iD(r,o,at.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case d:return Ra(o.children,m,g,s);case p:b=8,m|=24;break;case y:return r=si(12,o,s,m|2),r.elementType=y,r.lanes=g,r;case D:return r=si(13,o,s,m),r.elementType=D,r.lanes=g,r;case R:return r=si(19,o,s,m),r.elementType=R,r.lanes=g,r;case F:return xE(o,m,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case w:b=10;break e;case E:b=9;break e;case S:b=11;break e;case O:b=14;break e;case B:b=16,c=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=si(b,o,s,m),s.elementType=r,s.type=c,s.lanes=g,s}function Ra(r,s,o,c){return r=si(7,r,c,s),r.lanes=o,r}function xE(r,s,o,c){r=si(22,r,c,s),r.elementType=F,r.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var b=as(g,2);b!==null&&(m._pendingVisibility|=2,wn(b,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(i(456));if(m._pendingVisibility&2){var b=as(g,2);b!==null&&(m._pendingVisibility&=-3,wn(b,g,2))}}};return r.stateNode=m,r}function pp(r,s,o){return r=si(6,r,null,s),r.lanes=o,r}function gp(r,s,o){return s=si(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Sr(r){r.flags|=4}function CE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!fT(s)){if(s=ni.current,s!==null&&((Ge&4194176)===Ge?ji!==null:(Ge&62914560)!==Ge&&!(Ge&536870912)||s!==ji))throw tu=Tm,G0;r.flags|=8192}}function kh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Yr():536870912,r.lanes|=s,ko|=s)}function vu(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ct(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function _I(r,s,o){var c=s.pendingProps;switch(_m(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Er(jt),Mn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Xl(s)?Sr(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,gi!==null&&(Sp(gi),gi=null))),ct(s),null;case 26:return o=s.memoizedState,r===null?(Sr(s),o!==null?(ct(s),CE(s,o)):(ct(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Sr(s),ct(s),CE(s,o)):(ct(s),s.flags&=-16777217):(r.memoizedProps!==c&&Sr(s),ct(s),s.flags&=-16777217),null;case 27:qr(s),o=Ot.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ct(s),null}r=at.current,Xl(s)?H0(s):(r=rT(m,c,o),s.stateNode=r,Sr(s))}return ct(s),null;case 5:if(qr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ct(s),null}if(r=at.current,Xl(s))H0(s);else{switch(m=$h(Ot.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[qt]=s,r[kt]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(nn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Sr(s)}}return ct(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Sr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ot.current,Xl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=bn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[qt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ZE(r.nodeValue,o)),r||ga(s)}else r=$h(r).createTextNode(c),r[qt]=s,s.stateNode=r}return ct(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Xl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[qt]=s}else Zl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ct(s),m=!1}else gi!==null&&(Sp(gi),gi=null),m=!0;if(!m)return s.flags&256?(gr(s),s):(gr(s),null)}if(gr(s),s.flags&128)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),kh(s,s.updateQueue),ct(s),null;case 4:return Mn(),r===null&&kp(s.stateNode.containerInfo),ct(s),null;case 10:return Er(s.type),ct(s),null;case 19:if(Oe(Ut),m=s.memoizedState,m===null)return ct(s),null;if(c=(s.flags&128)!==0,g=m.rendering,g===null)if(c)vu(m,!1);else{if(gt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=vh(r),g!==null){for(s.flags|=128,vu(m,!1),r=g.updateQueue,s.updateQueue=r,kh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)RE(o,r),o=o.sibling;return Te(Ut,Ut.current&1|2),s.child}r=r.sibling}m.tail!==null&&bt()>Vh&&(s.flags|=128,c=!0,vu(m,!1),s.lanes=4194304)}else{if(!c)if(r=vh(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,kh(s,r),vu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Qe)return ct(s),null}else 2*bt()-m.renderingStartTime>Vh&&o!==536870912&&(s.flags|=128,c=!0,vu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=bt(),s.sibling=null,r=Ut.current,Te(Ut,c?r&1|2:r&1),s):(ct(s),null);case 22:case 23:return gr(s),wm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?o&536870912&&!(s.flags&128)&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),o=s.updateQueue,o!==null&&kh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&Oe(va),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Er(jt),ct(s),null;case 25:return null}throw Error(i(156,s.tag))}function EI(r,s){switch(_m(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Er(jt),Mn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return qr(s),null;case 13:if(gr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Oe(Ut),null;case 4:return Mn(),null;case 10:return Er(s.type),null;case 22:case 23:return gr(s),wm(),r!==null&&Oe(va),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Er(jt),null;case 25:return null;default:return null}}function IE(r,s){switch(_m(s),s.tag){case 3:Er(jt),Mn();break;case 26:case 27:case 5:qr(s);break;case 4:Mn();break;case 13:gr(s);break;case 19:Oe(Ut);break;case 10:Er(s.type);break;case 22:case 23:gr(s),wm(),r!==null&&Oe(va);break;case 24:Er(jt)}}var TI={getCacheForType:function(r){var s=un(jt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},bI=typeof WeakMap=="function"?WeakMap:Map,ht=0,it=null,je=null,Ge=0,rt=0,Fn=null,Ar=!1,Mo=!1,yp=!1,Rr=0,gt=0,_s=0,xa=0,vp=0,ai=0,ko=0,_u=null,Fi=null,_p=!1,Ep=0,Vh=1/0,Lh=null,Es=null,Uh=!1,Ca=null,Eu=0,Tp=0,bp=null,Tu=0,wp=null;function zn(){if(ht&2&&Ge!==0)return Ge&-Ge;if(C.T!==null){var r=Ro;return r!==0?r:Np()}return qc()}function DE(){ai===0&&(ai=!(Ge&536870912)||Qe?Ol():536870912);var r=ni.current;return r!==null&&(r.flags|=32),ai}function wn(r,s,o){(r===it&&rt===2||r.cancelPendingCommit!==null)&&(Vo(r,0),xr(r,Ge,ai,!1)),St(r,o),(!(ht&2)||r!==it)&&(r===it&&(!(ht&2)&&(xa|=o),gt===4&&xr(r,Ge,ai,!1)),zi(r))}function NE(r,s,o){if(ht&6)throw Error(i(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Kr(r,s),m=c?AI(r,s):xp(r,s,!0),g=c;do{if(m===0){Mo&&!c&&xr(r,s,0,!1);break}else if(m===6)xr(r,s,0,!Ar);else{if(o=r.current.alternate,g&&!wI(o)){m=xp(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=r;m=_u;var k=A.current.memoizedState.isDehydrated;if(k&&(Vo(A,b).flags|=256),b=xp(A,b,!1),b!==2){if(yp&&!k){A.errorRecoveryDisabledLanes|=g,xa|=g,m=4;break e}g=Fi,Fi=m,g!==null&&Sp(g)}m=b}if(g=!1,m!==2)continue}}if(m===1){Vo(r,0),xr(r,s,0,!0);break}e:{switch(c=r,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){xr(c,s,ai,!Ar);break e}break;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(g=Ep+300-bt(),10<g)){if(xr(c,s,ai,!Ar),$n(c,0)!==0)break e;c.timeoutHandle=tT(PE.bind(null,c,o,Fi,Lh,_p,s,ai,xa,ko,Ar,2,-0,0),g);break e}PE(c,o,Fi,Lh,_p,s,ai,xa,ko,Ar,0,-0,0)}}break}while(!0);zi(r)}function Sp(r){Fi===null?Fi=r:Fi.push.apply(Fi,r)}function PE(r,s,o,c,m,g,b,A,k,H,ee,ae,Q){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(xu={stylesheets:null,count:0,unsuspend:rD},bE(s),s=aD(),s!==null)){r.cancelPendingCommit=s(jE.bind(null,r,o,c,m,b,A,k,1,ae,Q)),xr(r,g,b,!H);return}jE(r,o,c,m,b,A,k,ee,ae,Q)}function wI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Un(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xr(r,s,o,c){s&=~vp,s&=~xa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var g=31-_n(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&Qr(r,o,s)}function jh(){return ht&6?!0:(bu(0),!1)}function Ap(){if(je!==null){if(rt===0)var r=je.return;else r=je,_r=wa=null,Nm(r),So=null,nu=0,r=je;for(;r!==null;)IE(r.alternate,r),r=r.return;je=null}}function Vo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,zI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ap(),it=r,je=o=vs(r.current,null),Ge=s,rt=0,Fn=null,Ar=!1,Mo=Kr(r,s),yp=!1,ko=ai=vp=xa=_s=gt=0,Fi=_u=null,_p=!1,s&8&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-_n(c),g=1<<m;s|=r[m],c&=~g}return Rr=s,uh(),o}function OE(r,s){Ve=null,C.H=Bi,s===eu?(s=Y0(),rt=3):s===G0?(s=Y0(),rt=4):rt=s===$_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,je===null&&(gt=1,Ih(r,Jn(s,r.current)))}function ME(){var r=C.H;return C.H=Bi,r===null?Bi:r}function kE(){var r=C.A;return C.A=TI,r}function Rp(){gt=4,Ar||(Ge&4194176)!==Ge&&ni.current!==null||(Mo=!0),!(_s&134217727)&&!(xa&134217727)||it===null||xr(it,Ge,ai,!1)}function xp(r,s,o){var c=ht;ht|=2;var m=ME(),g=kE();(it!==r||Ge!==s)&&(Lh=null,Vo(r,s)),s=!1;var b=gt;e:do try{if(rt!==0&&je!==null){var A=je,k=Fn;switch(rt){case 8:Ap(),b=6;break e;case 3:case 2:case 6:ni.current===null&&(s=!0);var H=rt;if(rt=0,Fn=null,Lo(r,A,k,H),o&&Mo){b=0;break e}break;default:H=rt,rt=0,Fn=null,Lo(r,A,k,H)}}SI(),b=gt;break}catch(ee){OE(r,ee)}while(!0);return s&&r.shellSuspendCounter++,_r=wa=null,ht=c,C.H=m,C.A=g,je===null&&(it=null,Ge=0,uh()),b}function SI(){for(;je!==null;)VE(je)}function AI(r,s){var o=ht;ht|=2;var c=ME(),m=kE();it!==r||Ge!==s?(Lh=null,Vh=bt()+500,Vo(r,s)):Mo=Kr(r,s);e:do try{if(rt!==0&&je!==null){s=je;var g=Fn;t:switch(rt){case 1:rt=0,Fn=null,Lo(r,s,g,1);break;case 2:if($0(g)){rt=0,Fn=null,LE(s);break}s=function(){rt===2&&it===r&&(rt=7),zi(r)},g.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:$0(g)?(rt=0,Fn=null,LE(s)):(rt=0,Fn=null,Lo(r,s,g,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var A=je;if(!b||fT(b)){rt=0,Fn=null;var k=A.sibling;if(k!==null)je=k;else{var H=A.return;H!==null?(je=H,Bh(H)):je=null}break t}}rt=0,Fn=null,Lo(r,s,g,5);break;case 6:rt=0,Fn=null,Lo(r,s,g,6);break;case 8:Ap(),gt=6;break e;default:throw Error(i(462))}}RI();break}catch(ee){OE(r,ee)}while(!0);return _r=wa=null,C.H=c,C.A=m,ht=o,je!==null?0:(it=null,Ge=0,uh(),gt)}function RI(){for(;je!==null&&!rr();)VE(je)}function VE(r){var s=rE(r.alternate,r,Rr);r.memoizedProps=r.pendingProps,s===null?Bh(r):je=s}function LE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Z_(o,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=Z_(o,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:Nm(s);default:IE(o,s),s=je=RE(s,Rr),s=rE(o,s,Rr)}r.memoizedProps=r.pendingProps,s===null?Bh(r):je=s}function Lo(r,s,o,c){_r=wa=null,Nm(s),So=null,nu=0;var m=s.return;try{if(mI(r,m,s,o,Ge)){gt=1,Ih(r,Jn(o,r.current)),je=null;return}}catch(g){if(m!==null)throw je=m,g;gt=1,Ih(r,Jn(o,r.current)),je=null;return}s.flags&32768?(Qe||c===1?r=!0:Mo||Ge&536870912?r=!1:(Ar=r=!0,(c===2||c===3||c===6)&&(c=ni.current,c!==null&&c.tag===13&&(c.flags|=16384))),UE(s,r)):Bh(s)}function Bh(r){var s=r;do{if(s.flags&32768){UE(s,Ar);return}r=s.return;var o=_I(s.alternate,s,Rr);if(o!==null){je=o;return}if(s=s.sibling,s!==null){je=s;return}je=s=r}while(s!==null);gt===0&&(gt=5)}function UE(r,s){do{var o=EI(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);gt=6,je=null}function jE(r,s,o,c,m,g,b,A,k,H){var ee=C.T,ae=fe.p;try{fe.p=2,C.T=null,xI(r,s,o,c,ae,m,g,b,A,k,H)}finally{C.T=ee,fe.p=ae}}function xI(r,s,o,c,m,g,b,A){do Uo();while(Ca!==null);if(ht&6)throw Error(i(327));var k=r.finishedWork;if(c=r.finishedLanes,k===null)return null;if(r.finishedWork=null,r.finishedLanes=0,k===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=k.lanes|k.childLanes;if(H|=gm,zc(r,c,H,g,b,A),r===it&&(je=it=null,Ge=0),!(k.subtreeFlags&10256)&&!(k.flags&10256)||Uh||(Uh=!0,Tp=H,bp=o,NI(fi,function(){return Uo(),null})),o=(k.flags&15990)!==0,k.subtreeFlags&15990||o?(o=C.T,C.T=null,g=fe.p,fe.p=2,b=ht,ht|=4,gI(r,k),_E(k,r),X1(jp,r.containerInfo),Zh=!!Up,jp=Up=null,r.current=k,pE(r,k.alternate,k),kn(),ht=b,fe.p=g,C.T=o):r.current=k,Uh?(Uh=!1,Ca=r,Eu=c):BE(r,H),H=r.pendingLanes,H===0&&(Es=null),Nl(k.stateNode),zi(r),s!==null)for(m=r.onRecoverableError,k=0;k<s.length;k++)H=s[k],m(H.value,{componentStack:H.stack});return Eu&3&&Uo(),H=r.pendingLanes,c&4194218&&H&42?r===wp?Tu++:(Tu=0,wp=r):Tu=0,bu(0),null}function BE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ru(s)))}function Uo(){if(Ca!==null){var r=Ca,s=Tp;Tp=0;var o=Hc(Eu),c=C.T,m=fe.p;try{if(fe.p=32>o?32:o,C.T=null,Ca===null)var g=!1;else{o=bp,bp=null;var b=Ca,A=Eu;if(Ca=null,Eu=0,ht&6)throw Error(i(331));var k=ht;if(ht|=4,SE(b.current),TE(b,b.current,A,o),ht=k,bu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Gr,b)}catch{}g=!0}return g}finally{fe.p=m,C.T=c,BE(r,s)}}return!1}function FE(r,s,o){s=Jn(o,s),s=Gm(r.stateNode,s,2),r=ms(r,s,2),r!==null&&(St(r,2),zi(r))}function nt(r,s,o){if(r.tag===3)FE(r,r,o);else for(;s!==null;){if(s.tag===3){FE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Es===null||!Es.has(c))){r=Jn(o,r),o=q_(2),c=ms(s,o,2),c!==null&&(G_(o,c,s,r),St(c,2),zi(c));break}}s=s.return}}function Cp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new bI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(yp=!0,m.add(o),r=CI.bind(null,r,s,o),s.then(r,r))}function CI(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,it===r&&(Ge&o)===o&&(gt===4||gt===3&&(Ge&62914560)===Ge&&300>bt()-Ep?!(ht&2)&&Vo(r,0):vp|=o,ko===Ge&&(ko=0)),zi(r)}function zE(r,s){s===0&&(s=Yr()),r=as(r,s),r!==null&&(St(r,s),zi(r))}function II(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zE(r,o)}function DI(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),zE(r,o)}function NI(r,s){return Tt(r,s)}var Fh=null,jo=null,Ip=!1,zh=!1,Dp=!1,Ia=0;function zi(r){r!==jo&&r.next===null&&(jo===null?Fh=jo=r:jo=jo.next=r),zh=!0,Ip||(Ip=!0,OI(PI))}function bu(r,s){if(!Dp&&zh){Dp=!0;do for(var o=!1,c=Fh;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-_n(42|r)+1)-1,g&=m&~(b&~A),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,GE(c,g))}else g=Ge,g=$n(c,c===it?g:0),!(g&3)||Kr(c,g)||(o=!0,GE(c,g));c=c.next}while(o);Dp=!1}}function PI(){zh=Ip=!1;var r=0;Ia!==0&&(FI()&&(r=Ia),Ia=0);for(var s=bt(),o=null,c=Fh;c!==null;){var m=c.next,g=HE(c,s);g===0?(c.next=null,o===null?Fh=m:o.next=m,m===null&&(jo=o)):(o=c,(r!==0||g&3)&&(zh=!0)),c=m}bu(r)}function HE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-_n(g),A=1<<b,k=m[b];k===-1?(!(A&o)||A&c)&&(m[b]=no(A,s)):k<=s&&(r.expiredLanes|=A),g&=~A}if(s=it,o=Ge,o=$n(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&rt===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Gn(c),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||Kr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Gn(c),Hc(o)){case 2:case 8:o=Mt;break;case 32:o=fi;break;case 268435456:o=Dl;break;default:o=fi}return c=qE.bind(null,r),o=Tt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Gn(c),r.callbackPriority=2,r.callbackNode=null,2}function qE(r,s){var o=r.callbackNode;if(Uo()&&r.callbackNode!==o)return null;var c=Ge;return c=$n(r,r===it?c:0),c===0?null:(NE(r,c,s),HE(r,bt()),r.callbackNode!=null&&r.callbackNode===o?qE.bind(null,r):null)}function GE(r,s){if(Uo())return null;NE(r,s,!0)}function OI(r){HI(function(){ht&6?Tt(wt,r):r()})}function Np(){return Ia===0&&(Ia=Ol()),Ia}function $E(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ni(""+r)}function KE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function MI(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=$E((m[kt]||null).action),b=c.submitter;b&&(s=(s=b[kt]||null)?$E(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new uo("action","action",null,c,m);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ia!==0){var k=b?KE(m,b):new FormData(m);Bm(o,{pending:!0,data:k,method:m.method,action:g},null,k)}}else typeof g=="function"&&(A.preventDefault(),k=b?KE(m,b):new FormData(m),Bm(o,{pending:!0,data:k,method:m.method,action:g},g,k))},currentTarget:m}]})}}for(var Pp=0;Pp<j0.length;Pp++){var Op=j0[Pp],kI=Op.toLowerCase(),VI=Op[0].toUpperCase()+Op.slice(1);pi(kI,"on"+VI)}pi(M0,"onAnimationEnd"),pi(k0,"onAnimationIteration"),pi(V0,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(J1,"onTransitionRun"),pi(eI,"onTransitionStart"),pi(tI,"onTransitionCancel"),pi(L0,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function YE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],k=A.instance,H=A.currentTarget;if(A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=H;try{g(m)}catch(ee){Ch(ee)}m.currentTarget=null,g=k}else for(b=0;b<c.length;b++){if(A=c[b],k=A.instance,H=A.currentTarget,A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=H;try{g(m)}catch(ee){Ch(ee)}m.currentTarget=null,g=k}}}}function ze(r,s){var o=s[ea];o===void 0&&(o=s[ea]=new Set);var c=r+"__bubble";o.has(c)||(QE(s,r,2,!1),o.add(c))}function Mp(r,s,o){var c=0;s&&(c|=4),QE(o,r,c,s)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function kp(r){if(!r[Hh]){r[Hh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(LI.has(o)||Mp(o,!1,r),Mp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hh]||(s[Hh]=!0,Mp("selectionchange",!1,s))}}function QE(r,s,o,c){switch(vT(s)){case 2:var m=uD;break;case 8:m=cD;break;default:m=Yp}o=m.bind(null,s,o,r),m=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Vp(r,s,o,c,m){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(b===4)for(b=c.return;b!==null;){var k=b.tag;if((k===3||k===4)&&(k=b.stateNode.containerInfo,k===m||k.nodeType===8&&k.parentNode===m))return;b=b.return}for(;A!==null;){if(b=mi(A),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){c=g=b;continue e}A=A.parentNode}}c=c.return}Yc(function(){var H=g,ee=lo(o),ae=[];e:{var Q=U0.get(r);if(Q!==void 0){var J=uo,ve=r;switch(r){case"keypress":if(Oi(o)===0)break e;case"keydown":case"keyup":J=go;break;case"focusin":ve="focus",J=fo;break;case"focusout":ve="blur",J=fo;break;case"beforeblur":case"afterblur":J=fo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=nh;break;case M0:case k0:case V0:J=mo;break;case L0:J=rh;break;case"scroll":case"scrollend":J=Qc;break;case"wheel":J=yo;break;case"copy":case"cut":case"paste":J=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Kl;break;case"toggle":case"beforetoggle":J=ah}var Ne=(s&4)!==0,yt=!Ne&&(r==="scroll"||r==="scrollend"),G=Ne?Q!==null?Q+"Capture":null:Q;Ne=[];for(var z=H,K;z!==null;){var ie=z;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||G===null||(ie=sa(z,G),ie!=null&&Ne.push(Su(z,ie,K))),yt)break;z=z.return}0<Ne.length&&(Q=new J(Q,ve,null,o,ee),ae.push({event:Q,listeners:Ne}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Q&&o!==Qn&&(ve=o.relatedTarget||o.fromElement)&&(mi(ve)||ve[sr]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(ve=o.relatedTarget||o.toElement,J=H,ve=ve?mi(ve):null,ve!==null&&(yt=ne(ve),Ne=ve.tag,ve!==yt||Ne!==5&&Ne!==27&&Ne!==6)&&(ve=null)):(J=null,ve=H),J!==ve)){if(Ne=Xn,ie="onMouseLeave",G="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=Kl,ie="onPointerLeave",G="onPointerEnter",z="pointer"),yt=J==null?Q:Jr(J),K=ve==null?Q:Jr(ve),Q=new Ne(ie,z+"leave",J,o,ee),Q.target=yt,Q.relatedTarget=K,ie=null,mi(ee)===H&&(Ne=new Ne(G,z+"enter",ve,o,ee),Ne.target=K,Ne.relatedTarget=yt,ie=Ne),yt=ie,J&&ve)t:{for(Ne=J,G=ve,z=0,K=Ne;K;K=Bo(K))z++;for(K=0,ie=G;ie;ie=Bo(ie))K++;for(;0<z-K;)Ne=Bo(Ne),z--;for(;0<K-z;)G=Bo(G),K--;for(;z--;){if(Ne===G||G!==null&&Ne===G.alternate)break t;Ne=Bo(Ne),G=Bo(G)}Ne=null}else Ne=null;J!==null&&WE(ae,Q,J,Ne,!1),ve!==null&&yt!==null&&WE(ae,yt,ve,Ne,!0)}}e:{if(Q=H?Jr(H):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ye=w0;else if(Lt(Q))if(S0)ye=Q1;else{ye=K1;var Ue=$1}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Bl(H.elementType)&&(ye=w0):ye=Y1;if(ye&&(ye=ye(r,H))){dr(ae,ye,o,ee);break e}Ue&&Ue(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&oo(Q,"number",Q.value)}switch(Ue=H?Jr(H):window,r){case"focusin":(Lt(Ue)||Ue.contentEditable==="true")&&(vo=Ue,dm=H,Wl=null);break;case"focusout":Wl=dm=vo=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,P0(ae,o,ee);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":P0(ae,o,ee)}var Ee;if(Vi)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else He?W(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(T&&o.locale!=="ko"&&(He||we!=="onCompositionStart"?we==="onCompositionEnd"&&He&&(Ee=zl()):(Pi=ee,ss="value"in Pi?Pi.value:Pi.textContent,He=!0)),Ue=qh(H,we),0<Ue.length&&(we=new Gl(we,r,null,o,ee),ae.push({event:we,listeners:Ue}),Ee?we.data=Ee:(Ee=ce(o),Ee!==null&&(we.data=Ee)))),(Ee=v?Vt(r,o):qe(r,o))&&(we=qh(H,"onBeforeInput"),0<we.length&&(Ue=new Gl("onBeforeInput","beforeinput",null,o,ee),ae.push({event:Ue,listeners:we}),Ue.data=Ee)),MI(ae,r,H,o,ee)}YE(ae,s)})}function Su(r,s,o){return{instance:r,listener:s,currentTarget:o}}function qh(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=sa(r,o),m!=null&&c.unshift(Su(r,m,g)),m=sa(r,s),m!=null&&c.push(Su(r,m,g))),r=r.return}return c}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function WE(r,s,o,c,m){for(var g=s._reactName,b=[];o!==null&&o!==c;){var A=o,k=A.alternate,H=A.stateNode;if(A=A.tag,k!==null&&k===c)break;A!==5&&A!==26&&A!==27||H===null||(k=H,m?(H=sa(o,g),H!=null&&b.unshift(Su(o,H,k))):m||(H=sa(o,g),H!=null&&b.push(Su(o,H,k)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var UI=/\r\n?/g,jI=/\u0000|\uFFFD/g;function XE(r){return(typeof r=="string"?r:""+r).replace(UI,`
`).replace(jI,"")}function ZE(r,s){return s=XE(s),XE(r)===s}function Gh(){}function tt(r,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Yn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Yn(r,""+c);break;case"className":ns(r,"class",c);break;case"tabIndex":ns(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(r,o,c);break;case"style":Kc(r,c,g);break;case"data":if(s!=="object"){ns(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ni(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(r,s,"name",m.name,m,null),tt(r,s,"formEncType",m.formEncType,m,null),tt(r,s,"formMethod",m.formMethod,m,null),tt(r,s,"formTarget",m.formTarget,m,null)):(tt(r,s,"encType",m.encType,m,null),tt(r,s,"method",m.method,m,null),tt(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ni(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Gh);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Ni(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":ze("beforetoggle",r),ze("toggle",r),ts(r,"popover",c);break;case"xlinkActuate":Kn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ts(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=am.get(o)||o,ts(r,o,c))}}function Lp(r,s,o,c,m,g){switch(o){case"style":Kc(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Yn(r,c):(typeof c=="number"||typeof c=="bigint")&&Yn(r,""+c);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):ts(r,o,c)}}}function nn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,g,b,o,null)}}m&&tt(r,s,"srcSet",o.srcSet,o,null),c&&tt(r,s,"src",o.src,o,null);return;case"input":ze("invalid",r);var A=g=b=m=null,k=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":b=ee;break;case"checked":k=ee;break;case"defaultChecked":H=ee;break;case"value":g=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:tt(r,s,c,ee,o,null)}}ia(r,g,A,k,H,b,m,!1),na(r);return;case"select":ze("invalid",r),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:tt(r,s,m,A,o,null)}s=g,o=b,r.multiple=!!c,s!=null?Ye(r,!!c,s,!1):o!=null&&Ye(r,!!c,o,!0);return;case"textarea":ze("invalid",r),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:tt(r,s,b,A,o,null)}rs(r,c,m,g),na(r);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(r,s,k,c,o,null)}return;case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(c=0;c<wu.length;c++)ze(wu[c],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,H,c,o,null)}return;default:if(Bl(s)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Lp(r,s,ee,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(r,s,A,c,o,null))}function BI(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,A=null,k=null,H=null,ee=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=ae;default:c.hasOwnProperty(J)||tt(r,s,J,null,c,ae)}}for(var Q in c){var J=c[Q];if(ae=o[Q],c.hasOwnProperty(Q)&&(J!=null||ae!=null))switch(Q){case"type":g=J;break;case"name":m=J;break;case"checked":H=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ae&&tt(r,s,Q,J,c,ae)}}is(r,b,A,k,H,ee,g,m);return;case"select":J=b=A=Q=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":J=k;default:c.hasOwnProperty(g)||tt(r,s,g,null,c,k)}for(m in c)if(g=c[m],k=o[m],c.hasOwnProperty(m)&&(g!=null||k!=null))switch(m){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==k&&tt(r,s,m,g,c,k)}s=A,o=b,c=J,Q!=null?Ye(r,!!o,Q,!1):!!c!=!!o&&(s!=null?Ye(r,!!o,s,!0):Ye(r,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(r,s,A,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&tt(r,s,b,m,c,g)}ra(r,Q,J);return;case"option":for(var ve in o)if(Q=o[ve],o.hasOwnProperty(ve)&&Q!=null&&!c.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:tt(r,s,ve,null,c,Q)}for(k in c)if(Q=c[k],J=o[k],c.hasOwnProperty(k)&&Q!==J&&(Q!=null||J!=null))switch(k){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(r,s,k,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)Q=o[Ne],o.hasOwnProperty(Ne)&&Q!=null&&!c.hasOwnProperty(Ne)&&tt(r,s,Ne,null,c,Q);for(H in c)if(Q=c[H],J=o[H],c.hasOwnProperty(H)&&Q!==J&&(Q!=null||J!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:tt(r,s,H,Q,c,J)}return;default:if(Bl(s)){for(var yt in o)Q=o[yt],o.hasOwnProperty(yt)&&Q!==void 0&&!c.hasOwnProperty(yt)&&Lp(r,s,yt,void 0,c,Q);for(ee in c)Q=c[ee],J=o[ee],!c.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||Lp(r,s,ee,Q,c,J);return}}for(var G in o)Q=o[G],o.hasOwnProperty(G)&&Q!=null&&!c.hasOwnProperty(G)&&tt(r,s,G,null,c,Q);for(ae in c)Q=c[ae],J=o[ae],!c.hasOwnProperty(ae)||Q===J||Q==null&&J==null||tt(r,s,ae,Q,c,J)}var Up=null,jp=null;function $h(r){return r.nodeType===9?r:r.ownerDocument}function JE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eT(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Bp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fp=null;function FI(){var r=window.event;return r&&r.type==="popstate"?r===Fp?!1:(Fp=r,!0):(Fp=null,!1)}var tT=typeof setTimeout=="function"?setTimeout:void 0,zI=typeof clearTimeout=="function"?clearTimeout:void 0,nT=typeof Promise=="function"?Promise:void 0,HI=typeof queueMicrotask=="function"?queueMicrotask:typeof nT<"u"?function(r){return nT.resolve(null).then(r).catch(qI)}:tT;function qI(r){setTimeout(function(){throw r})}function zp(r,s){var o=s,c=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){r.removeChild(m),Pu(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);Pu(s)}function Hp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hp(o),ta(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function GI(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Zr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=vi(r.nextSibling),r===null)break}return null}function $I(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=vi(r.nextSibling),r===null))return null;return r}function vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function iT(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function rT(r,s,o){switch(s=$h(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var oi=new Map,sT=new Set;function Kh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Cr=fe.d;fe.d={f:KI,r:YI,D:QI,C:WI,L:XI,m:ZI,X:eD,S:JI,M:tD};function KI(){var r=Cr.f(),s=jh();return r||s}function YI(r){var s=ar(r);s!==null&&s.tag===5&&s.type==="form"?P_(s):Cr.r(r)}var Fo=typeof document>"u"?null:document;function aT(r,s,o){var c=Fo;if(c&&typeof s=="string"&&s){var m=mt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),sT.has(m)||(sT.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),nn(s,"link",r),ut(s),c.head.appendChild(s)))}}function QI(r){Cr.D(r),aT("dns-prefetch",r,null)}function WI(r,s){Cr.C(r,s),aT("preconnect",r,s)}function XI(r,s,o){Cr.L(r,s,o);var c=Fo;if(c&&r&&s){var m='link[rel="preload"][as="'+mt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+mt(o.imageSizes)+'"]')):m+='[href="'+mt(r)+'"]';var g=m;switch(s){case"style":g=zo(r);break;case"script":g=Ho(r)}oi.has(g)||(r=M({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),oi.set(g,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Au(g))||s==="script"&&c.querySelector(Ru(g))||(s=c.createElement("link"),nn(s,"link",r),ut(s),c.head.appendChild(s)))}}function ZI(r,s){Cr.m(r,s);var o=Fo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+mt(c)+'"][href="'+mt(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(r)}if(!oi.has(g)&&(r=M({rel:"modulepreload",href:r},s),oi.set(g,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(g)))return}c=o.createElement("link"),nn(c,"link",r),ut(c),o.head.appendChild(c)}}}function JI(r,s,o){Cr.S(r,s,o);var c=Fo;if(c&&r){var m=es(c).hoistableStyles,g=zo(r);s=s||"default";var b=m.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Au(g)))A.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":s},o),(o=oi.get(g))&&qp(r,o);var k=b=c.createElement("link");ut(k),nn(k,"link",r),k._p=new Promise(function(H,ee){k.onload=H,k.onerror=ee}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yh(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(g,b)}}}function eD(r,s){Cr.X(r,s);var o=Fo;if(o&&r){var c=es(o).hoistableScripts,m=Ho(r),g=c.get(m);g||(g=o.querySelector(Ru(m)),g||(r=M({src:r,async:!0},s),(s=oi.get(m))&&Gp(r,s),g=o.createElement("script"),ut(g),nn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function tD(r,s){Cr.M(r,s);var o=Fo;if(o&&r){var c=es(o).hoistableScripts,m=Ho(r),g=c.get(m);g||(g=o.querySelector(Ru(m)),g||(r=M({src:r,async:!0,type:"module"},s),(s=oi.get(m))&&Gp(r,s),g=o.createElement("script"),ut(g),nn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function oT(r,s,o,c){var m=(m=Ot.current)?Kh(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=zo(o.href),o=es(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=zo(o.href);var g=es(m).hoistableStyles,b=g.get(r);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=m.querySelector(Au(r)))&&!g._p&&(b.instance=g,b.state.loading=5),oi.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(r,o),g||nD(m,r,o,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=es(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zo(r){return'href="'+mt(r)+'"'}function Au(r){return'link[rel="stylesheet"]['+r+"]"}function lT(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function nD(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),nn(s,"link",o),ut(s),r.head.appendChild(s))}function Ho(r){return'[src="'+mt(r)+'"]'}function Ru(r){return"script[async]"+r}function uT(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+mt(o.href)+'"]');if(c)return s.instance=c,ut(c),c;var m=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),ut(c),nn(c,"style",m),Yh(c,o.precedence,r),s.instance=c;case"stylesheet":m=zo(o.href);var g=r.querySelector(Au(m));if(g)return s.state.loading|=4,s.instance=g,ut(g),g;c=lT(o),(m=oi.get(m))&&qp(c,m),g=(r.ownerDocument||r).createElement("link"),ut(g);var b=g;return b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),nn(g,"link",c),s.state.loading|=4,Yh(g,o.precedence,r),s.instance=g;case"script":return g=Ho(o.src),(m=r.querySelector(Ru(g)))?(s.instance=m,ut(m),m):(c=o,(m=oi.get(g))&&(c=M({},o),Gp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),ut(m),nn(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(c=s.instance,s.state.loading|=4,Yh(c,o.precedence,r));return s.instance}function Yh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function qp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Qh=null;function cT(r,s,o){if(Qh===null){var c=new Map,m=Qh=new Map;m.set(o,c)}else m=Qh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Zr]||g[qt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function hT(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function iD(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function fT(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var xu=null;function rD(){}function sD(r,s,o){if(xu===null)throw Error(i(475));var c=xu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var m=zo(o.href),g=r.querySelector(Au(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Wh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,ut(g);return}g=r.ownerDocument||r,o=lT(o),(m=oi.get(m))&&qp(o,m),g=g.createElement("link"),ut(g);var b=g;b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),nn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(c.count++,s=Wh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function aD(){if(xu===null)throw Error(i(475));var r=xu;return r.stylesheets&&r.count===0&&$p(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&$p(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xh=null;function $p(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xh=new Map,s.forEach(oD,r),Xh=null,Wh.call(r))}function oD(r,s){if(!(s.state.loading&4)){var o=Xh.get(r);if(o)var c=o.get(null);else{o=new Map,Xh.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=s.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=Wh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Cu={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function lD(r,s,o,c,m,g,b,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=io(0),this.hiddenUpdates=io(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function dT(r,s,o,c,m,g,b,A,k,H,ee,ae){return r=new lD(r,s,o,b,A,k,H,ae),s=1,g===!0&&(s|=24),g=si(3,null,null,s),r.current=g,g.stateNode=r,s=Sm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},rp(g),r}function mT(r){return r?(r=To,r):To}function pT(r,s,o,c,m,g){m=mT(m),c.context===null?c.context=m:c.pendingContext=m,c=ds(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ms(r,c,s),o!==null&&(wn(o,r,s),hu(o,r,s))}function gT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Kp(r,s){gT(r,s),(r=r.alternate)&&gT(r,s)}function yT(r){if(r.tag===13){var s=as(r,67108864);s!==null&&wn(s,r,67108864),Kp(r,67108864)}}var Zh=!0;function uD(r,s,o,c){var m=C.T;C.T=null;var g=fe.p;try{fe.p=2,Yp(r,s,o,c)}finally{fe.p=g,C.T=m}}function cD(r,s,o,c){var m=C.T;C.T=null;var g=fe.p;try{fe.p=8,Yp(r,s,o,c)}finally{fe.p=g,C.T=m}}function Yp(r,s,o,c){if(Zh){var m=Qp(c);if(m===null)Vp(r,s,c,Jh,o),_T(r,c);else if(fD(m,r,s,o,c))c.stopPropagation();else if(_T(r,c),s&4&&-1<hD.indexOf(r)){for(;m!==null;){var g=ar(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=di(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var k=1<<31-_n(b);A.entanglements[1]|=k,b&=~k}zi(g),!(ht&6)&&(Vh=bt()+500,bu(0))}}break;case 13:A=as(g,2),A!==null&&wn(A,g,2),jh(),Kp(g,2)}if(g=Qp(c),g===null&&Vp(r,s,c,Jh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Vp(r,s,c,null,o)}}function Qp(r){return r=lo(r),Wp(r)}var Jh=null;function Wp(r){if(Jh=null,r=mi(r),r!==null){var s=ne(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=le(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Jh=r,null}function vT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(to()){case wt:return 2;case Mt:return 8;case fi:case jc:return 32;case Dl:return 268435456;default:return 32}default:return 32}}var Xp=!1,Ts=null,bs=null,ws=null,Iu=new Map,Du=new Map,Ss=[],hD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _T(r,s){switch(r){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Iu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(s.pointerId)}}function Nu(r,s,o,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=ar(s),s!==null&&yT(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function fD(r,s,o,c,m){switch(s){case"focusin":return Ts=Nu(Ts,r,s,o,c,m),!0;case"dragenter":return bs=Nu(bs,r,s,o,c,m),!0;case"mouseover":return ws=Nu(ws,r,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Iu.set(g,Nu(Iu.get(g)||null,r,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Du.set(g,Nu(Du.get(g)||null,r,s,o,c,m)),!0}return!1}function ET(r){var s=mi(r.target);if(s!==null){var o=ne(s);if(o!==null){if(s=o.tag,s===13){if(s=le(o),s!==null){r.blockedOn=s,Xr(r.priority,function(){if(o.tag===13){var c=zn(),m=as(o,c);m!==null&&wn(m,o,c),Kp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ef(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Qp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Qn=c,o.target.dispatchEvent(c),Qn=null}else return s=ar(o),s!==null&&yT(s),r.blockedOn=o,!1;s.shift()}return!0}function TT(r,s,o){ef(r)&&o.delete(s)}function dD(){Xp=!1,Ts!==null&&ef(Ts)&&(Ts=null),bs!==null&&ef(bs)&&(bs=null),ws!==null&&ef(ws)&&(ws=null),Iu.forEach(TT),Du.forEach(TT)}function tf(r,s){r.blockedOn===s&&(r.blockedOn=null,Xp||(Xp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dD)))}var nf=null;function bT(r){nf!==r&&(nf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===r&&(nf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(Wp(c||o)===null)continue;break}var g=ar(o);g!==null&&(r.splice(s,3),s-=3,Bm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Pu(r){function s(k){return tf(k,r)}Ts!==null&&tf(Ts,r),bs!==null&&tf(bs,r),ws!==null&&tf(ws,r),Iu.forEach(s),Du.forEach(s);for(var o=0;o<Ss.length;o++){var c=Ss[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ss.length&&(o=Ss[0],o.blockedOn===null);)ET(o),o.blockedOn===null&&Ss.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[kt]||null;if(typeof g=="function")b||bT(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[kt]||null)A=b.formAction;else if(Wp(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),bT(o)}}}function Zp(r){this._internalRoot=r}rf.prototype.render=Zp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=zn();pT(o,c,r,s,null,null)},rf.prototype.unmount=Zp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Uo(),pT(r.current,2,null,r,null,null),jh(),s[sr]=null}};function rf(r){this._internalRoot=r}rf.prototype.unstable_scheduleHydration=function(r){if(r){var s=qc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ss.length&&s!==0&&s<Ss[o].priority;o++);Ss.splice(o,0,r),o===0&&ET(r)}};var wT=e.version;if(wT!=="19.0.0")throw Error(i(527,wT,"19.0.0"));fe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=te(s),r=r!==null?me(r):null,r=r===null?null:r.stateNode,r};var mD={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:mi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Gr=sf.inject(mD),ln=sf}catch{}}return Mu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=B_,g=F_,b=z_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=dT(r,1,!1,null,null,o,c,m,g,b,A,null),r[sr]=s.current,kp(r.nodeType===8?r.parentNode:r),new Zp(s)},Mu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",g=B_,b=F_,A=z_,k=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=dT(r,1,!0,s,o??null,c,m,g,b,A,k,H),s.context=mT(null),o=s.current,c=zn(),m=ds(c),m.callback=null,ms(o,m,c),s.current.lanes=c,St(s,c),zi(s),r[sr]=s.current,kp(r),new rf(s)},Mu.version="19.0.0",Mu}var OT;function SD(){if(OT)return tg.exports;OT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tg.exports=wD(),tg.exports}var AD=SD();const RD=JS(AD),Qa=V.createContext({theme:"light",toggleTheme:()=>{}}),xD=({children:t})=>{const[e,n]=V.useState(localStorage.getItem("theme")||"light"),i=()=>{console.log("toggleTheme called, current theme:",e),n(a=>{const l=a==="light"?"dark":"light";return localStorage.setItem("theme",l),console.log("Theme set to:",l),l})};return V.useEffect(()=>{console.log("ThemeProvider useEffect ran, theme:",e);const a=l=>{const u=l.newValue||localStorage.getItem("theme")||"light";n(u),console.log("Storage changed, new theme:",u)};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),console.log("ThemeProvider rendered, current theme:",e),P.jsx(Qa.Provider,{value:{theme:e,toggleTheme:i},children:t})};var ku={},MT;function CD(){if(MT)return ku;MT=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.parse=u,ku.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,w){const S=new l,D=E.length;if(D<2)return S;const R=(w==null?void 0:w.decode)||y;let O=0;do{const B=E.indexOf("=",O);if(B===-1)break;const F=E.indexOf(";",O),Z=F===-1?D:F;if(B>Z){O=E.lastIndexOf(";",B-1)+1;continue}const Y=h(E,O,B),se=d(E,B,Y),L=E.slice(Y,se);if(S[L]===void 0){let I=h(E,B+1,Z),C=d(E,Z,I);const M=R(E.slice(I,C));S[L]=M}O=Z+1}while(O<D);return S}function h(E,w,S){do{const D=E.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<S);return S}function d(E,w,S){for(;w>S;){const D=E.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return S}function p(E,w,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=D(w);if(!e.test(R))throw new TypeError(`argument val is invalid: ${w}`);let O=E+"="+R;if(!S)return O;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);O+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);O+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);O+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);O+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(O+="; HttpOnly"),S.secure&&(O+="; Secure"),S.partitioned&&(O+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return O}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return ku}CD();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kT="popstate";function ID(t={}){function e(i,a){let{pathname:l,search:u,hash:h}=i.location;return Ug("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:nc(a)}return ND(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DD(){return Math.random().toString(36).substring(2,10)}function VT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yl(e):e,state:n,key:e&&e.key||i||DD()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ND(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let R=y(),O=R==null?null:R-p;p=R,d&&d({action:h,location:D.location,delta:O})}function E(R,O){h="PUSH";let B=Ug(D.location,R,O);p=y()+1;let F=VT(B,p),Z=D.createHref(B);try{u.pushState(F,"",Z)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(Z)}l&&d&&d({action:h,location:D.location,delta:1})}function w(R,O){h="REPLACE";let B=Ug(D.location,R,O);p=y();let F=VT(B,p),Z=D.createHref(B);u.replaceState(F,"",Z),l&&d&&d({action:h,location:D.location,delta:0})}function S(R){let O=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof R=="string"?R:nc(R);return B=B.replace(/ $/,"%20"),lt(O,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,O)}let D={get action(){return h},get location(){return t(a,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(kT,_),d=R,()=>{a.removeEventListener(kT,_),d=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let O=S(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:w,go(R){return u.go(R)}};return D}function eA(t,e,n="/"){return PD(t,e,n,!1)}function PD(t,e,n,i){let a=typeof e=="string"?yl(e):e,l=Lr(a.pathname||"/",n);if(l==null)return null;let u=tA(t);OD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=qD(l);h=zD(u[d],p,i)}return h}function tA(t,e=[],n=[],i=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(lt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=Pr([i,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),tA(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:BD(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let d of nA(l.path))a(l,u,d)}),e}function nA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=nA(i.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function OD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MD=/^:[\w-]+$/,kD=3,VD=2,LD=1,UD=10,jD=-2,LT=t=>t==="*";function BD(t,e){let n=t.split("/"),i=n.length;return n.some(LT)&&(i+=jD),e&&(i+=VD),n.filter(a=>!LT(a)).reduce((a,l)=>a+(MD.test(l)?kD:l===""?LD:UD),i)}function FD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function zD(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),E=d.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Pr([l,_.pathname]),pathnameBase:YD(Pr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Pr([l,_.pathnameBase]))}return u}function Lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=HD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let S=h[E]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[E];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function HD(t,e=!1,n=!0){wi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function qD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function GD(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?yl(t):t;return{pathname:n?n.startsWith("/")?n:$D(n,e):e,search:QD(i),hash:WD(a)}}function $D(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t){let e=KD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Vy(t,e,n,i=!1){let a;typeof t=="string"?a=yl(t):(a={...t},lt(!a.pathname||!a.pathname.includes("?"),sg("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),sg("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),sg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=GD(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Pr=t=>t.join("/").replace(/\/\/+/g,"/"),YD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var ZD=["GET",...iA];new Set(ZD);var vl=V.createContext(null);vl.displayName="DataRouter";var vd=V.createContext(null);vd.displayName="DataRouterState";var rA=V.createContext({isTransitioning:!1});rA.displayName="ViewTransition";var JD=V.createContext(new Map);JD.displayName="Fetchers";var eN=V.createContext(null);eN.displayName="Await";var Si=V.createContext(null);Si.displayName="Navigation";var vc=V.createContext(null);vc.displayName="Location";var Ai=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Ly=V.createContext(null);Ly.displayName="RouteError";function tN(t,{relative:e}={}){lt(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Si),{hash:a,pathname:l,search:u}=_c(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Pr([n,l])),i.createHref({pathname:h,search:u,hash:a})}function _l(){return V.useContext(vc)!=null}function Gs(){return lt(_l(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(vc).location}var sA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aA(t){V.useContext(Si).static||V.useLayoutEffect(t)}function Wa(){let{isDataRoute:t}=V.useContext(Ai);return t?mN():nN()}function nN(){lt(_l(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(vl),{basename:e,navigator:n}=V.useContext(Si),{matches:i}=V.useContext(Ai),{pathname:a}=Gs(),l=JSON.stringify(ky(i)),u=V.useRef(!1);return aA(()=>{u.current=!0}),V.useCallback((d,p={})=>{if(wi(u.current,sA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=Vy(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Pr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}V.createContext(null);function Uy(){let{matches:t}=V.useContext(Ai),e=t[t.length-1];return e?e.params:{}}function _c(t,{relative:e}={}){let{matches:n}=V.useContext(Ai),{pathname:i}=Gs(),a=JSON.stringify(ky(n));return V.useMemo(()=>Vy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function iN(t,e){return oA(t,e)}function oA(t,e,n,i){var B;lt(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=V.useContext(Si),{matches:u}=V.useContext(Ai),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";lA(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Gs(),w;if(e){let F=typeof e=="string"?yl(e):e;lt(y==="/"||((B=F.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=E;let S=w.pathname||"/",D=S;if(y!=="/"){let F=y.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=!l&&n&&n.matches&&n.matches.length>0?n.matches:eA(t,{pathname:D});wi(_||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),wi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=lN(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Pr([y,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:Pr([y,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,i);return e&&O?V.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function rN(){let t=dN(),e=XD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var sN=V.createElement(rN,null),aN=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?V.createElement(Ai.Provider,{value:this.props.routeContext},V.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oN({routeContext:t,match:e,children:n}){let i=V.useContext(vl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ai.Provider,{value:t},n)}function lN(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);lt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,y)=>{let _,E=!1,w=null,S=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||sN,u&&(h<0&&y===0?(lA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):h===y&&(E=!0,S=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),R=()=>{let O;return _?O=w:E?O=S:p.route.Component?O=V.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,V.createElement(oN,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?V.createElement(aN,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}function jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uN(t){let e=V.useContext(vl);return lt(e,jy(t)),e}function cN(t){let e=V.useContext(vd);return lt(e,jy(t)),e}function hN(t){let e=V.useContext(Ai);return lt(e,jy(t)),e}function By(t){let e=hN(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fN(){return By("useRouteId")}function dN(){var i;let t=V.useContext(Ly),e=cN("useRouteError"),n=By("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function mN(){let{router:t}=uN("useNavigate"),e=By("useNavigate"),n=V.useRef(!1);return aA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{wi(n.current,sA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var UT={};function lA(t,e,n){!e&&!UT[t]&&(UT[t]=!0,wi(!1,n))}V.memo(pN);function pN({routes:t,future:e,state:n}){return oA(t,void 0,n,e)}function gN({to:t,replace:e,state:n,relative:i}){lt(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Si);wi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(Ai),{pathname:u}=Gs(),h=Wa(),d=Vy(t,ky(l),u,i==="path"),p=JSON.stringify(d);return V.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Na(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){lt(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=yl(n));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,w=V.useMemo(()=>{let S=Lr(d,u);return S==null?null:{location:{pathname:S,search:p,hash:y,state:_,key:E},navigationType:i}},[u,d,p,y,_,E,i]);return wi(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:V.createElement(Si.Provider,{value:h},V.createElement(vc.Provider,{children:e,value:w}))}function vN({children:t,location:e}){return iN(jg(t),e)}function jg(t,e=[]){let n=[];return V.Children.forEach(t,(i,a)=>{if(!V.isValidElement(i))return;let l=[...e,a];if(i.type===V.Fragment){n.push.apply(n,jg(i.props.children,l));return}lt(i.type===Na,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=jg(i.props.children,l)),n.push(u)}),n}var vf="get",_f="application/x-www-form-urlencoded";function _d(t){return t!=null&&typeof t.tagName=="string"}function _N(t){return _d(t)&&t.tagName.toLowerCase()==="button"}function EN(t){return _d(t)&&t.tagName.toLowerCase()==="form"}function TN(t){return _d(t)&&t.tagName.toLowerCase()==="input"}function bN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wN(t,e){return t.button===0&&(!e||e==="_self")&&!bN(t)}var af=null;function SN(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var AN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(t){return t!=null&&!AN.has(t)?(wi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):t}function RN(t,e){let n,i,a,l,u;if(EN(t)){let h=t.getAttribute("action");i=h?Lr(h,e):null,n=t.getAttribute("method")||vf,a=ag(t.getAttribute("enctype"))||_f,l=new FormData(t)}else if(_N(t)||TN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?Lr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||vf,a=ag(t.getAttribute("formenctype"))||ag(h.getAttribute("enctype"))||_f,l=new FormData(h,t),!SN()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(_d(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vf,i=null,a=_f,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}function Fy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IN(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await xN(l,n);return u.links?u.links():[]}return[]}));return ON(i.flat(1).filter(CN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jT(t,e,n,i,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var y;return n[p].pathname!==d.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{var _;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function DN(t,e,{includeHydrateFallback:n}={}){return NN(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NN(t){return[...new Set(t)]}function PN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function ON(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(PN(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function MN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Lr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uA(){let t=V.useContext(vl);return Fy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kN(){let t=V.useContext(vd);return Fy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zy=V.createContext(void 0);zy.displayName="FrameworkContext";function cA(){let t=V.useContext(zy);return Fy(t,"You must render this element inside a <HydratedRouter> element"),t}function VN(t,e){let n=V.useContext(zy),[i,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=O=>{O.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),V.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let w=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Vu(h,w),onBlur:Vu(d,S),onMouseEnter:Vu(p,w),onMouseLeave:Vu(y,S),onTouchStart:Vu(_,w)}]:[!1,E,{}]}function Vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LN({page:t,...e}){let{router:n}=uA(),i=V.useMemo(()=>eA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(jN,{page:t,matches:i,...e}):null}function UN(t){let{manifest:e,routeModules:n}=cA(),[i,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return IN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function jN({page:t,matches:e,...n}){let i=Gs(),{manifest:a,routeModules:l}=cA(),{basename:u}=uA(),{loaderData:h,matches:d}=kN(),p=V.useMemo(()=>jT(t,e,d,a,i,"data"),[t,e,d,a,i]),y=V.useMemo(()=>jT(t,e,d,a,i,"assets"),[t,e,d,a,i]),_=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,D=!1;if(e.forEach(O=>{var F;let B=a.routes[O.route.id];!B||!B.hasLoader||(!p.some(Z=>Z.route.id===O.route.id)&&O.route.id in h&&((F=l[O.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?D=!0:S.add(O.route.id))}),S.size===0)return[];let R=MN(t,u);return D&&S.size>0&&R.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[u,h,i,a,p,e,t,l]),E=V.useMemo(()=>DN(y,a),[y,a]),w=UN(y);return V.createElement(V.Fragment,null,_.map(S=>V.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),E.map(S=>V.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:D})=>V.createElement("link",{key:S,...D})))}function BN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hA&&(window.__reactRouterVersion="7.3.0")}catch{}function FN({basename:t,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=ID({window:n,v5Compat:!0}));let a=i.current,[l,u]=V.useState({action:a.action,location:a.location}),h=V.useCallback(d=>{V.startTransition(()=>u(d))},[u]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(yN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var fA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dA=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:_,...E},w){let{basename:S}=V.useContext(Si),D=typeof p=="string"&&fA.test(p),R,O=!1;if(typeof p=="string"&&D&&(R=p,hA))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),j=Lr(M.pathname,S);M.origin===C.origin&&j!=null?p=j+M.search+M.hash:O=!0}catch{wi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=tN(p,{relative:a}),[F,Z,Y]=VN(i,E),se=GN(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_});function L(C){e&&e(C),C.defaultPrevented||se(C)}let I=V.createElement("a",{...E,...Y,href:R||B,onClick:O||l?e:L,ref:BN(w,Z),target:d,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?V.createElement(V.Fragment,null,I,V.createElement(LN,{page:B})):I});dA.displayName="Link";var zN=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let _=_c(u,{relative:p.relative}),E=Gs(),w=V.useContext(vd),{navigator:S,basename:D}=V.useContext(Si),R=w!=null&&WN(_)&&h===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,B=E.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&D&&(F=Lr(F,D)||F);const Z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=B===O||!a&&B.startsWith(O)&&B.charAt(Z)==="/",se=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),L={isActive:Y,isPending:se,isTransitioning:R},I=Y?e:void 0,C;typeof i=="function"?C=i(L):C=[i,Y?"active":null,se?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(L):l;return V.createElement(dA,{...p,"aria-current":I,className:C,ref:y,style:M,to:u,viewTransition:h},typeof d=="function"?d(L):d)});zN.displayName="NavLink";var HN=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=vf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,...E},w)=>{let S=YN(),D=QN(h,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&fA.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let Z=F.nativeEvent.submitter,Y=(Z==null?void 0:Z.getAttribute("formmethod"))||u;S(Z||F.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return V.createElement("form",{ref:w,method:R,action:D,onSubmit:i?d:B,...E,"data-discover":!O&&t==="render"?"true":void 0})});HN.displayName="Form";function qN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(t){let e=V.useContext(vl);return lt(e,qN(t)),e}function GN(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Wa(),d=Gs(),p=_c(t,{relative:l});return V.useCallback(y=>{if(wN(y,e)){y.preventDefault();let _=n!==void 0?n:nc(d)===nc(p);h(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,i,e,t,a,l,u])}var $N=0,KN=()=>`__${String(++$N)}__`;function YN(){let{router:t}=mA("useSubmit"),{basename:e}=V.useContext(Si),n=fN();return V.useCallback(async(i,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=RN(i,e);if(a.navigate===!1){let y=a.fetcherKey||KN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function QN(t,{relative:e}={}){let{basename:n}=V.useContext(Si),i=V.useContext(Ai);lt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={..._c(t||".",{relative:e})},u=Gs();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Pr([n,l.pathname])),nc(l)}function WN(t,e={}){let n=V.useContext(rA);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mA("useViewTransitionState"),a=_c(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Lr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Lr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lf(a.pathname,u)!=null||Lf(a.pathname,l)!=null}new TextEncoder;const Hy=V.createContext({});function qy(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ed=V.createContext(null),Gy=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class XN extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZN({children:t,isPresent:e,anchorX:n}){const i=V.useId(),a=V.useRef(null),l=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=V.useContext(Gy);return V.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:y,right:_}=l.current;if(e||!a.current||!h||!d)return;const E=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");return u&&(w.nonce=u),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),P.jsx(XN,{isPresent:e,childRef:a,sizeRef:l,children:V.cloneElement(t,{ref:a})})}const JN=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h})=>{const d=qy(eP),p=V.useId(),y=V.useCallback(E=>{d.set(E,!0);for(const w of d.values())if(!w)return;i&&i()},[d,i]),_=V.useMemo(()=>({id:p,initial:e,isPresent:n,custom:a,onExitComplete:y,register:E=>(d.set(E,!1),()=>d.delete(E))}),l?[Math.random(),y]:[n,y]);return V.useMemo(()=>{d.forEach((E,w)=>d.set(w,!1))},[n]),V.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),u==="popLayout"&&(t=P.jsx(ZN,{isPresent:n,anchorX:h,children:t})),P.jsx(Ed.Provider,{value:_,children:t})};function eP(){return new Map}function pA(t=!0){const e=V.useContext(Ed);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const of=t=>t.key||"";function BT(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const $y=typeof window<"u",gA=$y?V.useLayoutEffect:V.useEffect,yA=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left"})=>{const[d,p]=pA(u),y=V.useMemo(()=>BT(t),[t]),_=u&&!d?[]:y.map(of),E=V.useRef(!0),w=V.useRef(y),S=qy(()=>new Map),[D,R]=V.useState(y),[O,B]=V.useState(y);gA(()=>{E.current=!1,w.current=y;for(let Y=0;Y<O.length;Y++){const se=of(O[Y]);_.includes(se)?S.delete(se):S.get(se)!==!0&&S.set(se,!1)}},[O,_.length,_.join("-")]);const F=[];if(y!==D){let Y=[...y];for(let se=0;se<O.length;se++){const L=O[se],I=of(L);_.includes(I)||(Y.splice(se,0,L),F.push(L))}return l==="wait"&&F.length&&(Y=F),B(BT(Y)),R(y),null}const{forceRender:Z}=V.useContext(Hy);return P.jsx(P.Fragment,{children:O.map(Y=>{const se=of(Y),L=u&&!d?!1:y===O||_.includes(se),I=()=>{if(S.has(se))S.set(se,!0);else return;let C=!0;S.forEach(M=>{M||(C=!1)}),C&&(Z==null||Z(),B(w.current),u&&(p==null||p()),i&&i())};return P.jsx(JN,{isPresent:L,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:L?void 0:I,anchorX:h,children:Y},se)})})},qn=t=>t;let vA=qn;function Ky(t){let e;return()=>(e===void 0&&(e=t()),e)}const sl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Or=t=>t*1e3,Mr=t=>t/1e3,tP={useManualTiming:!1},lf=["read","resolveKeyframes","update","preRender","render","postRender"],FT={value:null};function nP(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){u.has(_)&&(y.schedule(_),t()),d++,_(h)}const y={schedule:(_,E=!1,w=!1)=>{const D=w&&a?n:i;return E&&u.add(_),D.has(_)||D.add(_),_},cancel:_=>{i.delete(_),u.delete(_)},process:_=>{if(h=_,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(p),e&&FT.value&&FT.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const iP=40;function _A(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=lf.reduce((O,B)=>(O[B]=nP(l,e?B:void 0),O),{}),{read:h,resolveKeyframes:d,update:p,preRender:y,render:_,postRender:E}=u,w=()=>{const O=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,iP),1),a.timestamp=O,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),_.process(a),E.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(w))},S=()=>{n=!0,i=!0,a.isProcessing||t(w)};return{schedule:lf.reduce((O,B)=>{const F=u[B];return O[B]=(Z,Y=!1,se=!1)=>(n||S(),F.schedule(Z,Y,se)),O},{}),cancel:O=>{for(let B=0;B<lf.length;B++)u[lf[B]].cancel(O)},state:a,steps:u}}const{schedule:st,cancel:Vs,state:rn,steps:og}=_A(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0),EA=V.createContext({strict:!1}),zT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const t in zT)al[t]={isEnabled:e=>zT[t].some(n=>!!e[n])};function rP(t){for(const e in t)al[e]={...al[e],...t[e]}}const sP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sP.has(t)}let TA=t=>!Uf(t);function aP(t){t&&(TA=e=>e.startsWith("on")?!Uf(e):t(e))}try{aP(require("@emotion/is-prop-valid").default)}catch{}function oP(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(TA(a)||n===!0&&Uf(a)||!e&&!Uf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function lP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Td=V.createContext({});function bd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ic(t){return typeof t=="string"||Array.isArray(t)}const Yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qy=["initial",...Yy];function wd(t){return bd(t.animate)||Qy.some(e=>ic(t[e]))}function bA(t){return!!(wd(t)||t.variants)}function uP(t,e){if(wd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ic(n)?n:void 0,animate:ic(i)?i:void 0}}return t.inherit!==!1?e:{}}function cP(t){const{initial:e,animate:n}=uP(t,V.useContext(Td));return V.useMemo(()=>({initial:e,animate:n}),[HT(e),HT(n)])}function HT(t){return Array.isArray(t)?t.join(" "):t}const hP=Symbol.for("motionComponentSymbol");function Yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fP(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Yo(n)&&(n.current=i))},[e])}const Wy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dP="framerAppearId",wA="data-"+Wy(dP),{schedule:Xy}=_A(queueMicrotask,!1),SA=V.createContext({});function mP(t,e,n,i,a){var l,u;const{visualElement:h}=V.useContext(Td),d=V.useContext(EA),p=V.useContext(Ed),y=V.useContext(Gy).reducedMotion,_=V.useRef(null);i=i||d.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,w=V.useContext(SA);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&pP(_.current,n,a,w);const S=V.useRef(!1);V.useInsertionEffect(()=>{E&&S.current&&E.update(n,p)});const D=n[wA],R=V.useRef(!!D&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,D))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,D)));return gA(()=>{E&&(S.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Xy.render(E.render),R.current&&E.animationState&&E.animationState.animateChanges())}),V.useEffect(()=>{E&&(!R.current&&E.animationState&&E.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,D)}),R.current=!1))}),E}function pP(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Yo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:p})}function AA(t){if(t)return t.options.allowProjection!==!1?t.projection:AA(t.parent)}function gP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){var l,u;t&&rP(t);function h(p,y){let _;const E={...V.useContext(Gy),...p,layoutId:yP(p)},{isStatic:w}=E,S=cP(p),D=i(p,w);if(!w&&$y){vP();const R=_P(E);_=R.MeasureLayout,S.visualElement=mP(a,D,E,e,R.ProjectionNode)}return P.jsxs(Td.Provider,{value:S,children:[_&&S.visualElement?P.jsx(_,{visualElement:S.visualElement,...E}):null,n(a,p,fP(D,S.visualElement,y),D,w,S.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(u=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&u!==void 0?u:""})`}`;const d=V.forwardRef(h);return d[hP]=a,d}function yP({layoutId:t}){const e=V.useContext(Hy).id;return e&&t!==void 0?e+"-"+t:t}function vP(t,e){V.useContext(EA).strict}function _P(t){const{drag:e,layout:n}=al;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const RA=t=>e=>typeof e=="string"&&e.startsWith(t),Zy=RA("--"),EP=RA("var(--"),Jy=t=>EP(t)?TP.test(t.split("/*")[0].trim()):!1,TP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rc={};function bP(t){for(const e in t)rc[e]=t[e],Zy(e)&&(rc[e].isCSSVariable=!0)}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xa=new Set(El);function xA(t,{layout:e,layoutId:n}){return Xa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rc[t]||t==="opacity")}const yn=t=>!!(t&&t.getVelocity),CA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ur=(t,e,n)=>n>e?e:n<t?t:n,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sc={...Tl,transform:t=>Ur(0,1,t)},uf={...Tl,default:1},Ec=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xs=Ec("deg"),$i=Ec("%"),Se=Ec("px"),wP=Ec("vh"),SP=Ec("vw"),qT={...$i,parse:t=>$i.parse(t)/100,transform:t=>$i.transform(t*100)},AP={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},RP={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:uf,scaleX:uf,scaleY:uf,scaleZ:uf,skew:xs,skewX:xs,skewY:xs,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:sc,originX:qT,originY:qT,originZ:Se},GT={...Tl,transform:Math.round},ev={...AP,...RP,zIndex:GT,size:Se,fillOpacity:sc,strokeOpacity:sc,numOctaves:GT},xP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CP=El.length;function IP(t,e,n){let i="",a=!0;for(let l=0;l<CP;l++){const u=El[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=CA(h,ev[u]);if(!d){a=!1;const y=xP[u]||u;i+=`${y}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function tv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Xa.has(d)){u=!0;continue}else if(Zy(d)){a[d]=p;continue}else{const y=CA(p,ev[d]);d.startsWith("origin")?(h=!0,l[d]=y):i[d]=y}}if(e.transform||(u||n?i.transform=IP(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${d} ${p} ${y}`}}const nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IA(t,e,n){for(const i in e)!yn(e[i])&&!xA(i,n)&&(t[i]=e[i])}function DP({transformTemplate:t},e){return V.useMemo(()=>{const n=nv();return tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NP(t,e){const n=t.style||{},i={};return IA(i,n,t),Object.assign(i,DP(t,e)),i}function PP(t,e){const n={},i=NP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const OP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iv(t){return typeof t!="string"||t.includes("-")?!1:!!(OP.indexOf(t)>-1||/[A-Z]/u.test(t))}const MP={offset:"stroke-dashoffset",array:"stroke-dasharray"},kP={offset:"strokeDashoffset",array:"strokeDasharray"};function VP(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?MP:kP;t[l.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(n);t[l.array]=`${u} ${h}`}function $T(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function LP(t,e,n){const i=$T(e,t.x,t.width),a=$T(n,t.y,t.height);return`${i} ${a}`}function rv(t,{attrX:e,attrY:n,attrScale:i,originX:a,originY:l,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...p},y,_){if(tv(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:w,dimensions:S}=t;E.transform&&(S&&(w.transform=E.transform),delete E.transform),S&&(a!==void 0||l!==void 0||w.transform)&&(w.transformOrigin=LP(S,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),u!==void 0&&VP(E,u,h,d,!1)}const DA=()=>({...nv(),attrs:{}}),sv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UP(t,e,n,i){const a=V.useMemo(()=>{const l=DA();return rv(l,e,sv(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};IA(l,t.style,t),a.style={...l,...a.style}}return a}function jP(t=!1){return(n,i,a,{latestValues:l},u)=>{const d=(iv(n)?UP:PP)(i,l,u,n),p=oP(i,typeof n=="string",t),y=n!==V.Fragment?{...p,...d,ref:a}:{},{children:_}=i,E=V.useMemo(()=>yn(_)?_.get():_,[_]);return V.createElement(n,{...y,children:E})}}function KT(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function av(t,e,n,i){if(typeof e=="function"){const[a,l]=KT(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=KT(i);e=e(n!==void 0?n:t.custom,a,l)}return e}const Bg=t=>Array.isArray(t),BP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),FP=t=>Bg(t)?t[t.length-1]||0:t;function Ef(t){const e=yn(t)?t.get():t;return BP(e)?e.toValue():e}function zP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,a,l){const u={latestValues:HP(i,a,l,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const NA=t=>(e,n)=>{const i=V.useContext(Td),a=V.useContext(Ed),l=()=>zP(t,e,i,a);return n?l():qy(l)};function HP(t,e,n,i){const a={},l=i(t,{});for(const E in l)a[E]=Ef(l[E]);let{initial:u,animate:h}=t;const d=wd(t),p=bA(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!bd(_)){const E=Array.isArray(_)?_:[_];for(let w=0;w<E.length;w++){const S=av(t,E[w]);if(S){const{transitionEnd:D,transition:R,...O}=S;for(const B in O){let F=O[B];if(Array.isArray(F)){const Z=y?F.length-1:0;F=F[Z]}F!==null&&(a[B]=F)}for(const B in D)a[B]=D[B]}}}return a}function ov(t,e,n){var i;const{style:a}=t,l={};for(const u in a)(yn(a[u])||e.style&&yn(e.style[u])||xA(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=a[u]);return l}const qP={useVisualState:NA({scrapeMotionValuesFromProps:ov,createRenderState:nv})};function PA(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function OA(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const MA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kA(t,e,n,i){OA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(MA.has(a)?a:Wy(a),e.attrs[a])}function VA(t,e,n){const i=ov(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const YT=["x","y","width","height","cx","cy","r"],GP={useVisualState:NA({scrapeMotionValuesFromProps:VA,createRenderState:DA,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in a)if(Xa.has(h)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let h=0;h<YT.length;h++){const d=YT[h];t[d]!==e[d]&&(u=!0)}u&&st.read(()=>{PA(n,i),st.render(()=>{rv(i,a,sv(n.tagName),t.transformTemplate),kA(n,i)})})}})};function $P(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...iv(i)?GP:qP,preloadedFeatures:t,useRender:jP(a),createVisualElement:e,Component:i};return gP(u)}}function ac(t,e,n){const i=t.getProps();return av(i,e,n!==void 0?n:i.custom,t)}const KP=Ky(()=>window.ScrollTimeline!==void 0);class YP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(a=>{if(KP()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class QP extends YP{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function lv(t,e){return t?t[e]||t.default||t:void 0}const Fg=2e4;function LA(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Fg;)e+=n,i=t.next(e);return e>=Fg?1/0:e}function uv(t){return typeof t=="function"}function QT(t,e){t.timeline=e,t.onfinish=null}const cv=t=>Array.isArray(t)&&typeof t[0]=="number",WP={linearEasing:void 0};function XP(t,e){const n=Ky(t);return()=>{var i;return(i=WP[e])!==null&&i!==void 0?i:n()}}const jf=XP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),UA=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=t(sl(0,a-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function jA(t){return!!(typeof t=="function"&&jf()||!t||typeof t=="string"&&(t in zg||jf())||cv(t)||Array.isArray(t)&&t.every(jA))}const Bu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,zg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bu([0,.65,.55,1]),circOut:Bu([.55,0,1,.45]),backIn:Bu([.31,.01,.66,-.59]),backOut:Bu([.33,1.53,.69,.99])};function BA(t,e){if(t)return typeof t=="function"&&jf()?UA(t,e):cv(t)?Bu(t):Array.isArray(t)?t.map(n=>BA(n,e)||zg.easeOut):zg[t]}const _i={x:!1,y:!1};function FA(){return _i.x||_i.y}function ZP(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function zA(t,e){const n=ZP(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function WT(t){return!(t.pointerType==="touch"||FA())}function JP(t,e,n={}){const[i,a,l]=zA(t,n),u=h=>{if(!WT(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=_=>{WT(_)&&(p(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}function Bf(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const HA=(t,e)=>e?t===e?!0:HA(t,e.parentElement):!1,hv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tO(t){return eO.has(t.tagName)||t.tabIndex!==-1}const Fu=new WeakSet;function XT(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=XT(()=>{if(Fu.has(n))return;lg(n,"down");const a=XT(()=>{lg(n,"up")}),l=()=>lg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function ZT(t){return hv(t)&&!FA()}function iO(t,e,n={}){const[i,a,l]=zA(t,n),u=h=>{const d=h.currentTarget;if(!d||!ZT(h)||Fu.has(d))return;Fu.add(d),Bf(h,"set");const p=e(d,h),y=(w,S)=>{d.removeEventListener("pointerup",_),d.removeEventListener("pointercancel",E),Bf(w,"release"),!(!ZT(w)||!Fu.has(d))&&(Fu.delete(d),typeof p=="function"&&p(w,{success:S}))},_=w=>{(w.isTrusted?rO(w,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(w,!1):y(w,!(d instanceof Element)||HA(d,w.target))},E=w=>{y(w,!1)};d.addEventListener("pointerup",_,a),d.addEventListener("pointercancel",E,a),d.addEventListener("lostpointercapture",E,a)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let d=!1;h instanceof HTMLElement&&(d=!0,!tO(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,a),d&&h.addEventListener("focus",p=>nO(p,a),a)}),l}function rO(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function sO(t){return t==="x"||t==="y"?_i[t]?null:(_i[t]=!0,()=>{_i[t]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}const qA=new Set(["width","height","top","left","right","bottom",...El]);let Tf;function aO(){Tf=void 0}const Ki={now:()=>(Tf===void 0&&Ki.set(rn.isProcessing||tP.useManualTiming?rn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(aO)}};function fv(t,e){t.indexOf(e)===-1&&t.push(e)}function dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mv{constructor(){this.subscriptions=[]}add(e){return fv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function GA(t,e){return e?t*(1e3/e):0}const JT=30,oO=t=>!isNaN(parseFloat(t));class lO{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=Ki.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ki.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new mv);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JT);return GA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(t,e){return new lO(t,e)}function uO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oc(n))}function cO(t,e){const n=ac(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=FP(l[u]);uO(t,u,h)}}function hO(t){return!!(yn(t)&&t.add)}function Hg(t,e){const n=t.getValue("willChange");if(hO(n))return n.add(e)}function $A(t){return t.props[wA]}const KA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fO=1e-7,dO=12;function mO(t,e,n,i,a){let l,u,h=0;do u=e+(n-e)/2,l=KA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>fO&&++h<dO);return u}function Tc(t,e,n,i){if(t===e&&n===i)return qn;const a=l=>mO(l,0,1,t,n);return l=>l===0||l===1?l:KA(a(l),e,i)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QA=t=>e=>1-t(1-e),WA=Tc(.33,1.53,.69,.99),pv=QA(WA),XA=YA(pv),ZA=t=>(t*=2)<1?.5*pv(t):.5*(2-Math.pow(2,-10*(t-1))),gv=t=>1-Math.sin(Math.acos(t)),JA=QA(gv),eR=YA(gv),tR=t=>/^0[^.\s]+$/u.test(t);function pO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tR(t):!0}const Yu=t=>Math.round(t*1e5)/1e5,yv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gO(t){return t==null}const yO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vv=(t,e)=>n=>!!(typeof n=="string"&&yO.test(n)&&n.startsWith(t)||e&&!gO(n)&&Object.prototype.hasOwnProperty.call(n,e)),nR=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(yv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},vO=t=>Ur(0,255,t),ug={...Tl,transform:t=>Math.round(vO(t))},ka={test:vv("rgb","red"),parse:nR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Yu(sc.transform(i))+")"};function _O(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const qg={test:vv("#"),parse:_O,transform:ka.transform},Qo={test:vv("hsl","hue"),parse:nR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+$i.transform(Yu(e))+", "+$i.transform(Yu(n))+", "+Yu(sc.transform(i))+")"},fn={test:t=>ka.test(t)||qg.test(t)||Qo.test(t),parse:t=>ka.test(t)?ka.parse(t):Qo.test(t)?Qo.parse(t):qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ka.transform(t):Qo.transform(t)},EO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(EO))===null||n===void 0?void 0:n.length)||0)>0}const iR="number",rR="color",bO="var",wO="var(",eb="${}",SO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(SO,d=>(fn.test(d)?(i.color.push(l),a.push(rR),n.push(fn.parse(d))):d.startsWith(wO)?(i.var.push(l),a.push(bO),n.push(d)):(i.number.push(l),a.push(iR),n.push(parseFloat(d))),++l,eb)).split(eb);return{values:n,split:h,indexes:i,types:a}}function sR(t){return lc(t).values}function aR(t){const{split:e,types:n}=lc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===iR?l+=Yu(a[u]):h===rR?l+=fn.transform(a[u]):l+=a[u]}return l}}const AO=t=>typeof t=="number"?0:t;function RO(t){const e=sR(t);return aR(t)(e.map(AO))}const Ls={test:TO,parse:sR,createTransformer:aR,getAnimatableNone:RO},xO=new Set(["brightness","contrast","saturate","opacity"]);function CO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(yv)||[];if(!i)return t;const a=n.replace(i,"");let l=xO.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const IO=/\b([a-z-]*)\(.*?\)/gu,Gg={...Ls,getAnimatableNone:t=>{const e=t.match(IO);return e?e.map(CO).join(" "):t}},DO={...ev,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:Gg,WebkitFilter:Gg},_v=t=>DO[t];function oR(t,e){let n=_v(t);return n!==Gg&&(n=Ls),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NO=new Set(["auto","none","0"]);function PO(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!NO.has(l)&&lc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=oR(n,a)}const tb=t=>t===Tl||t===Se,nb=(t,e)=>parseFloat(t.split(", ")[e]),ib=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return nb(a[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?nb(l[1],t):0}},OO=new Set(["x","y","z"]),MO=El.filter(t=>!OO.has(t));function kO(t){const e=[];return MO.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ol={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ib(4,13),y:ib(5,14)};ol.translateX=ol.x;ol.translateY=ol.y;const Ba=new Set;let $g=!1,Kg=!1;function lR(){if(Kg){const t=Array.from(Ba).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=kO(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var h;(h=i.getValue(l))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Kg=!1,$g=!1,Ba.forEach(t=>t.complete()),Ba.clear()}function uR(){Ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kg=!0)})}function VO(){uR(),lR()}class Ev{constructor(e,n,i,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ba.add(this),$g||($g=!0,st.read(uR),st.resolveKeyframes(lR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const d=i.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),LO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UO(t){const e=LO.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function hR(t,e,n=1){const[i,a]=UO(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return cR(u)?parseFloat(u):u}return Jy(a)?hR(a,e,n+1):a}const fR=t=>e=>e.test(t),jO={test:t=>t==="auto",parse:t=>t},dR=[Tl,Se,$i,xs,SP,wP,jO],rb=t=>dR.find(fR(t));class mR extends Ev{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Jy(p))){const y=hR(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!qA.has(i)||e.length!==2)return;const[a,l]=e,u=rb(a),h=rb(l);if(u!==h)if(tb(u)&&tb(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)pO(e[a])&&i.push(a);i.length&&PO(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ol[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,h=a[u];a[u]=ol[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const sb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ls.test(t)||t==="0")&&!t.startsWith("url("));function BO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FO(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=sb(a,e),h=sb(l,e);return!u||!h?!1:BO(t)||(n==="spring"||uv(n))&&i}const zO=t=>t!==null;function Sd(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(zO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const HO=40;class pR{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ki.now(),this.options={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>HO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ki.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:u,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!FO(e,i,a,l))if(u)this.options.duration=0;else{d&&d(Sd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qO({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=cg(d,h,t+1/3),l=cg(d,h,t),u=cg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Ff(t,e){return n=>n>0?e:t}const hg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},GO=[qg,ka,Qo],$O=t=>GO.find(e=>e.test(t));function ab(t){const e=$O(t);if(!e)return!1;let n=e.parse(t);return e===Qo&&(n=qO(n)),n}const ob=(t,e)=>{const n=ab(t),i=ab(e);if(!n||!i)return Ff(t,e);const a={...n};return l=>(a.red=hg(n.red,i.red,l),a.green=hg(n.green,i.green,l),a.blue=hg(n.blue,i.blue,l),a.alpha=ft(n.alpha,i.alpha,l),ka.transform(a))},KO=(t,e)=>n=>e(t(n)),bc=(...t)=>t.reduce(KO),Yg=new Set(["none","hidden"]);function YO(t,e){return Yg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QO(t,e){return n=>ft(t,e,n)}function Tv(t){return typeof t=="number"?QO:typeof t=="string"?Jy(t)?Ff:fn.test(t)?ob:ZO:Array.isArray(t)?gR:typeof t=="object"?fn.test(t)?ob:WO:Ff}function gR(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>Tv(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function WO(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Tv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function XO(t,e){var n;const i=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],h=t.indexes[u][a[u]],d=(n=t.values[h])!==null&&n!==void 0?n:0;i[l]=d,a[u]++}return i}const ZO=(t,e)=>{const n=Ls.createTransformer(e),i=lc(t),a=lc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Yg.has(t)&&!a.values.length||Yg.has(e)&&!i.values.length?YO(t,e):bc(gR(XO(i,a),a.values),n):Ff(t,e)};function yR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):Tv(t)(t,e)}const JO=5;function vR(t,e,n){const i=Math.max(e-JO,0);return GA(n-t(i),e-i)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lb=.001;function e2({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:i=vt.mass}){let a,l,u=1-e;u=Ur(vt.minDamping,vt.maxDamping,u),t=Ur(vt.minDuration,vt.maxDuration,Mr(t)),u<1?(a=p=>{const y=p*u,_=y*t,E=y-n,w=Qg(p,u),S=Math.exp(-_);return lb-E/w*S},l=p=>{const _=p*u*t,E=_*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,S=Math.exp(-_),D=Qg(Math.pow(p,2),u);return(-a(p)+lb>0?-1:1)*((E-w)*S)/D}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,d=n2(a,l,h);if(t=Or(t),isNaN(d))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const t2=12;function n2(t,e,n){let i=n;for(let a=1;a<t2;a++)i=i-t(i)/e(i);return i}function Qg(t,e){return t*Math.sqrt(1-e*e)}const i2=["duration","bounce"],r2=["stiffness","damping","mass"];function ub(t,e){return e.some(n=>t[n]!==void 0)}function s2(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!ub(t,r2)&&ub(t,i2))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Ur(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=e2(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function _R(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:w}=s2({...n,velocity:-Mr(n.velocity||0)}),S=E||0,D=p/(2*Math.sqrt(d*y)),R=u-l,O=Mr(Math.sqrt(d/y)),B=Math.abs(R)<5;i||(i=B?vt.restSpeed.granular:vt.restSpeed.default),a||(a=B?vt.restDelta.granular:vt.restDelta.default);let F;if(D<1){const Y=Qg(O,D);F=se=>{const L=Math.exp(-D*O*se);return u-L*((S+D*O*R)/Y*Math.sin(Y*se)+R*Math.cos(Y*se))}}else if(D===1)F=Y=>u-Math.exp(-O*Y)*(R+(S+O*R)*Y);else{const Y=O*Math.sqrt(D*D-1);F=se=>{const L=Math.exp(-D*O*se),I=Math.min(Y*se,300);return u-L*((S+D*O*R)*Math.sinh(I)+Y*R*Math.cosh(I))/Y}}const Z={calculatedDuration:w&&_||null,next:Y=>{const se=F(Y);if(w)h.done=Y>=_;else{let L=0;D<1&&(L=Y===0?Or(S):vR(F,Y,se));const I=Math.abs(L)<=i,C=Math.abs(u-se)<=a;h.done=I&&C}return h.value=h.done?u:se,h},toString:()=>{const Y=Math.min(LA(Z),Fg),se=UA(L=>Z.next(Y*L).value,Y,30);return Y+"ms "+se}};return Z}function cb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},w=I=>h!==void 0&&I<h||d!==void 0&&I>d,S=I=>h===void 0?d:d===void 0||Math.abs(h-I)<Math.abs(d-I)?h:d;let D=n*e;const R=_+D,O=u===void 0?R:u(R);O!==R&&(D=O-_);const B=I=>-D*Math.exp(-I/i),F=I=>O+B(I),Z=I=>{const C=B(I),M=F(I);E.done=Math.abs(C)<=p,E.value=E.done?O:M};let Y,se;const L=I=>{w(E.value)&&(Y=I,se=_R({keyframes:[E.value,S(E.value)],velocity:vR(F,I,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return L(0),{calculatedDuration:null,next:I=>{let C=!1;return!se&&Y===void 0&&(C=!0,Z(I),L(I)),Y!==void 0&&I>=Y?se.next(I-Y):(!C&&Z(I),E)}}}const a2=Tc(.42,0,1,1),o2=Tc(0,0,.58,1),ER=Tc(.42,0,.58,1),l2=t=>Array.isArray(t)&&typeof t[0]!="number",u2={linear:qn,easeIn:a2,easeInOut:ER,easeOut:o2,circIn:gv,circInOut:eR,circOut:JA,backIn:pv,backInOut:XA,backOut:WA,anticipate:ZA},hb=t=>{if(cv(t)){vA(t.length===4);const[e,n,i,a]=t;return Tc(e,n,i,a)}else if(typeof t=="string")return u2[t];return t};function c2(t,e,n){const i=[],a=n||yR,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||qn:e;h=bc(d,h)}i.push(h)}return i}function h2(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(vA(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=c2(e,i,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=sl(t[_],t[_+1],y);return h[_](E)};return n?y=>p(Ur(t[0],t[l-1],y)):p}function f2(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=sl(0,e,i);t.push(ft(n,1,a))}}function d2(t){const e=[0];return f2(e,t.length-1),e}function m2(t,e){return t.map(n=>n*e)}function p2(t,e){return t.map(()=>e||ER).splice(0,t.length-1)}function zf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=l2(i)?i.map(hb):hb(i),l={done:!1,value:e[0]},u=m2(n&&n.length===e.length?n:d2(e),t),h=h2(u,e,{ease:Array.isArray(a)?a:p2(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const g2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>Vs(e),now:()=>rn.isProcessing?rn.timestamp:Ki.now()}},y2={decay:cb,inertia:cb,tween:zf,keyframes:zf,spring:_R},v2=t=>t/100;class bv extends pR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||Ev,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new u(l,h,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,h=uv(n)?n:y2[n]||zf;let d,p;h!==zf&&typeof e[0]!="number"&&(d=bc(v2,yR(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});l==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=LA(y));const{calculatedDuration:_}=y,E=_+a,w=E*(i+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:E,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=i;if(this.startTime===null)return l.next(0);const{delay:E,repeat:w,repeatType:S,repeatDelay:D,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-E*(this.speed>=0?1:-1),B=this.speed>=0?O<0:O>y;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let F=this.currentTime,Z=l;if(w){const I=Math.min(this.currentTime,y)/_;let C=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(S==="reverse"?(M=1-M,D&&(M-=D/_)):S==="mirror"&&(Z=u)),F=Ur(0,1,M)*_}const Y=B?{done:!1,value:d[0]}:Z.next(F);h&&(Y.value=h(Y.value));let{done:se}=Y;!B&&p!==null&&(se=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return L&&a!==void 0&&(Y.value=Sd(d,this.options,a)),R&&R(Y.value),L&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?Mr(e.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(e){e=Or(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=g2,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _2=new Set(["opacity","clipPath","filter","transform"]);function E2(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const y=BA(h,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const T2=Ky(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hf=10,b2=2e4;function w2(t){return uv(t.type)||t.type==="spring"||!jA(t.ease)}function S2(t,e){const n=new bv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let l=0;for(;!i.done&&l<b2;)i=n.sample(l),a.push(i.value),l+=Hf;return{times:void 0,keyframes:a,duration:l-Hf,ease:"linear"}}const TR={anticipate:ZA,backInOut:XA,circInOut:eR};function A2(t){return t in TR}class fb extends pR{constructor(e){super(e);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new mR(l,(u,h)=>this.onKeyframesResolved(u,h),n,i,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:a,ease:l,type:u,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&jf()&&A2(l)&&(l=TR[l]),w2(this.options)){const{onComplete:_,onUpdate:E,motionValue:w,element:S,...D}=this.options,R=S2(e,D);e=R.keyframes,e.length===1&&(e[1]=e[0]),i=R.duration,a=R.times,l=R.ease,u="keyframes"}const y=E2(h.owner.current,d,e,{...this.options,duration:i,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(QT(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;h.set(Sd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Mr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Mr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Or(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qn;const{animation:i}=n;QT(i,e)}return qn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:a,type:l,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:E,...w}=this.options,S=new bv({...w,keyframes:i,duration:a,type:l,ease:u,times:h,isGenerator:!0}),D=Or(this.time);p.setWithVelocity(S.sample(D-Hf).value,S.sample(D).value,Hf)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return T2()&&i&&_2.has(i)&&!d&&!p&&!a&&l!=="mirror"&&u!==0&&h!=="inertia"}}const R2={type:"spring",stiffness:500,damping:25,restSpeed:10},x2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),C2={type:"keyframes",duration:.8},I2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D2=(t,{keyframes:e})=>e.length>2?C2:Xa.has(t)?t.startsWith("scale")?x2(e[1]):R2:I2;function N2({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const wv=(t,e,n,i={},a,l)=>u=>{const h=lv(i,t)||{},d=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Or(d);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};N2(h)||(y={...y,...D2(t,y)}),y.duration&&(y.duration=Or(y.duration)),y.repeatDelay&&(y.repeatDelay=Or(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),_&&!l&&e.get()!==void 0){const E=Sd(y.keyframes,h);if(E!==void 0)return st.update(()=>{y.onUpdate(E),y.onComplete()}),new QP([])}return!l&&fb.supports(y)?new fb(y):new bv(y)};function P2({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function bR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...d}=e;i&&(u=i);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const _ in d){const E=t.getValue(_,(l=t.latestValues[_])!==null&&l!==void 0?l:null),w=d[_];if(w===void 0||y&&P2(y,_))continue;const S={delay:n,...lv(u||{},_)};let D=!1;if(window.MotionHandoffAnimation){const O=$A(t);if(O){const B=window.MotionHandoffAnimation(O,_,st);B!==null&&(S.startTime=B,D=!0)}}Hg(t,_),E.start(wv(_,E,w,t.shouldReduceMotion&&qA.has(_)?{type:!1}:S,t,D));const R=E.animation;R&&p.push(R)}return h&&Promise.all(p).then(()=>{st.update(()=>{h&&cO(t,h)})}),p}function Wg(t,e,n={}){var i;const a=ac(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const u=a?()=>Promise.all(bR(t,a,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=l;return O2(t,e,y+p,_,E,n)}:()=>Promise.resolve(),{when:d}=l;if(d){const[p,y]=d==="beforeChildren"?[u,h]:[h,u];return p().then(()=>y())}else return Promise.all([u(),h(n.delay)])}function O2(t,e,n=0,i=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*i,d=a===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(M2).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(Wg(p,e,{...l,delay:n+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function M2(t,e){return t.sortNodePosition(e)}function k2(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Wg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Wg(t,e,n);else{const a=typeof e=="function"?ac(t,e,n.custom):e;i=Promise.all(bR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function wR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const V2=Qy.length;function SR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<V2;n++){const i=Qy[n],a=t.props[i];(ic(a)||a===!1)&&(e[i]=a)}return e}const L2=[...Yy].reverse(),U2=Yy.length;function j2(t){return e=>Promise.all(e.map(({animation:n,options:i})=>k2(t,n,i)))}function B2(t){let e=j2(t),n=db(),i=!0;const a=d=>(p,y)=>{var _;const E=ac(t,y,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:w,transitionEnd:S,...D}=E;p={...p,...D,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=SR(t.parent)||{},_=[],E=new Set;let w={},S=1/0;for(let R=0;R<U2;R++){const O=L2[R],B=n[O],F=p[O]!==void 0?p[O]:y[O],Z=ic(F),Y=O===d?B.isActive:null;Y===!1&&(S=R);let se=F===y[O]&&F!==p[O]&&Z;if(se&&i&&t.manuallyAnimateOnMount&&(se=!1),B.protectedKeys={...w},!B.isActive&&Y===null||!F&&!B.prevProp||bd(F)||typeof F=="boolean")continue;const L=F2(B.prevProp,F);let I=L||O===d&&B.isActive&&!se&&Z||R>S&&Z,C=!1;const M=Array.isArray(F)?F:[F];let j=M.reduce(a(O),{});Y===!1&&(j={});const{prevResolvedValues:q={}}=B,U={...q,...j},Je=de=>{I=!0,E.has(de)&&(C=!0,E.delete(de)),B.needsAnimating[de]=!0;const ne=t.getValue(de);ne&&(ne.liveStyle=!1)};for(const de in U){const ne=j[de],le=q[de];if(w.hasOwnProperty(de))continue;let N=!1;Bg(ne)&&Bg(le)?N=!wR(ne,le):N=ne!==le,N?ne!=null?Je(de):E.add(de):ne!==void 0&&E.has(de)?Je(de):B.protectedKeys[de]=!0}B.prevProp=F,B.prevResolvedValues=j,B.isActive&&(w={...w,...j}),i&&t.blockInitialAnimation&&(I=!1),I&&(!(se&&L)||C)&&_.push(...M.map(de=>({animation:de,options:{type:O}})))}if(E.size){const R={};if(typeof p.initial!="boolean"){const O=ac(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(R.transition=O.transition)}E.forEach(O=>{const B=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),R[O]=B??null}),_.push({animation:R})}let D=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(_):Promise.resolve()}function h(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(E=>{var w;return(w=E.animationState)===null||w===void 0?void 0:w.setActive(d,p)}),n[d].isActive=p;const _=u(d);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=db(),i=!0}}}function F2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wR(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function db(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class $s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z2 extends $s{constructor(e){super(e),e.animationState||(e.animationState=B2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let H2=0;class q2 extends $s{constructor(){super(...arguments),this.id=H2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const G2={animation:{Feature:z2},exit:{Feature:q2}};function uc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function wc(t){return{point:{x:t.pageX,y:t.pageY}}}const $2=t=>e=>hv(e)&&t(e,wc(e));function Wo(t,e,n,i){return uc(t,e,$2(n),i)}function AR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function K2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Y2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const RR=1e-4,Q2=1-RR,W2=1+RR,xR=.01,X2=0-xR,Z2=0+xR;function Sn(t){return t.max-t.min}function J2(t,e,n){return Math.abs(t-e)<=n}function mb(t,e,n,i=.5){t.origin=i,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Q2&&t.scale<=W2||isNaN(t.scale))&&(t.scale=1),(t.translate>=X2&&t.translate<=Z2||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,i){mb(t.x,e.x,n.x,i?i.originX:void 0),mb(t.y,e.y,n.y,i?i.originY:void 0)}function pb(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function eM(t,e,n){pb(t.x,e.x,n.x),pb(t.y,e.y,n.y)}function gb(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Wu(t,e,n){gb(t.x,e.x,n.x),gb(t.y,e.y,n.y)}const yb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:yb(),y:yb()}),vb=()=>({min:0,max:0}),Rt=()=>({x:vb(),y:vb()});function ui(t){return[t("x"),t("y")]}function fg(t){return t===void 0||t===1}function Xg({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function Pa(t){return Xg(t)||CR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CR(t){return _b(t.x)||_b(t.y)}function _b(t){return t&&t!=="0%"}function qf(t,e,n){const i=t-n,a=e*i;return n+a}function Eb(t,e,n,i,a){return a!==void 0&&(t=qf(t,a,i)),qf(t,n,i)+e}function Zg(t,e=0,n=1,i,a){t.min=Eb(t.min,e,n,i,a),t.max=Eb(t.max,e,n,i,a)}function IR(t,{x:e,y:n}){Zg(t.x,e.translate,e.scale,e.originPoint),Zg(t.y,n.translate,n.scale,n.originPoint)}const Tb=.999999999999,bb=1.0000000000001;function tM(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Jo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,IR(t,u)),i&&Pa(l.latestValues)&&Jo(t,l.latestValues))}e.x<bb&&e.x>Tb&&(e.x=1),e.y<bb&&e.y>Tb&&(e.y=1)}function Zo(t,e){t.min=t.min+e,t.max=t.max+e}function wb(t,e,n,i,a=.5){const l=ft(t.min,t.max,a);Zg(t,e,n,l,i)}function Jo(t,e){wb(t.x,e.x,e.scaleX,e.scale,e.originX),wb(t.y,e.y,e.scaleY,e.scale,e.originY)}function DR(t,e){return AR(Y2(t.getBoundingClientRect(),e))}function nM(t,e,n){const i=DR(t,n),{scroll:a}=e;return a&&(Zo(i.x,a.offset.x),Zo(i.y,a.offset.y)),i}const Sb=(t,e)=>Math.abs(t-e);function iM(t,e){const n=Sb(t.x,e.x),i=Sb(t.y,e.y);return Math.sqrt(n**2+i**2)}class NR{constructor(e,n,{transformPagePoint:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=mg(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=iM(y.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:w}=y,{timestamp:S}=rn;this.history.push({...w,timestamp:S});const{onStart:D,onMove:R}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{if(y.target instanceof Element&&y.target.hasPointerCapture&&y.pointerId!==void 0)try{if(!y.target.hasPointerCapture(y.pointerId))return}catch{}this.lastMoveEvent=y,this.lastMoveEventInfo=dg(_,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{Bf(y,"release"),this.end();const{onEnd:E,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=mg(y.type==="pointercancel"||y.type==="lostpointercapture"?this.lastMoveEventInfo:dg(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,D),w&&w(y,D)},!hv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i;const l=wc(e),u=dg(l,this.transformPagePoint),{point:h}=u,{timestamp:d}=rn;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,mg(u,this.history)),Bf(e,"set"),this.removeListeners=bc(Wo(e.currentTarget,"pointermove",this.handlePointerMove),Wo(e.currentTarget,"pointerup",this.handlePointerUp),Wo(e.currentTarget,"pointercancel",this.handlePointerUp),Wo(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function Ab(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:Ab(t,PR(e)),offset:Ab(t,rM(e)),velocity:sM(e,.1)}}function rM(t){return t[0]}function PR(t){return t[t.length-1]}function sM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=PR(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Or(e)));)n--;if(!i)return{x:0,y:0};const l=Mr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function aM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ft(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ft(n,t,i.max):Math.min(t,n)),t}function Rb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function oM(t,{top:e,left:n,bottom:i,right:a}){return{x:Rb(t.x,n,a),y:Rb(t.y,e,i)}}function xb(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function lM(t,e){return{x:xb(t.x,e.x),y:xb(t.y,e.y)}}function uM(t,e){let n=.5;const i=Sn(t),a=Sn(e);return a>i?n=sl(e.min,e.max-i,t.min):i>a&&(n=sl(t.min,t.max-a,e.min)),Ur(0,1,n)}function cM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jg=.35;function hM(t=Jg){return t===!1?t=0:t===!0&&(t=Jg),{x:Cb(t,"left","right"),y:Cb(t,"top","bottom")}}function Cb(t,e,n){return{min:Ib(t,e),max:Ib(t,n)}}function Ib(t,e){return typeof t=="number"?t:t[e]||0}const fM=new WeakMap;class dM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:w,onDragStart:S}=this.getProps();if(E&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sO(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(R=>{let O=this.getAxisMotionValue(R).get()||0;if($i.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[R];F&&(O=Sn(F)*(parseFloat(O)/100))}}this.originPoint[R]=O}),S&&st.postRender(()=>S(y,_)),Hg(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(y,_)=>{const{dragPropagation:E,dragDirectionLock:w,onDirectionLock:S,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=_;if(w&&this.currentDirection===null){this.currentDirection=mM(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),D&&D(y,_)},h=(y,_)=>this.stop(y,_),d=()=>ui(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new NR(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&st.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!cf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=aM(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Yo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=oM(a.layoutBox,n):this.constraints=!1,this.elastic=hM(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ui(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=cM(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=nM(i,a.root,this.visualElement.getTransformPagePoint());let u=lM(a.layout.layoutBox,l);if(n){const h=n(K2(u));this.hasMutatedConstraints=!!h,h&&(u=AR(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ui(y=>{if(!cf(y,n,this.currentDirection))return;let _=d&&d[y]||{};u&&(_={min:0,max:0});const E=a?200:1e6,w=a?40:1e7,S={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Hg(this.visualElement,e),i.start(wv(e,i,0,n,this.visualElement,!1))}stopAnimation(){ui(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ui(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ui(n=>{const{drag:i}=this.getProps();if(!cf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-ft(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Yo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ui(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=uM({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ui(u=>{if(!cf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(ft(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;fM.set(this.visualElement,this);const e=this.visualElement.current,n=Wo(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Yo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),st.read(i);const u=uc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ui(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Jg,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function cf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pM extends $s{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new dM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Db=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class gM extends $s{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new NR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Db(e),onStart:Db(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&st.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=Nb(t,e.target.x),i=Nb(t,e.target.y);return`${n}% ${i}%`}},yM={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ls.parse(t);if(a.length>5)return i;const l=Ls.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=ft(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};class vM extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;bP(_M),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||st.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OR(t){const[e,n]=pA(),i=V.useContext(Hy);return P.jsx(vM,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(SA),isPresent:e,safeToRemove:n})}const _M={borderRadius:{...Lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lu,borderTopRightRadius:Lu,borderBottomLeftRadius:Lu,borderBottomRightRadius:Lu,boxShadow:yM};function EM(t,e,n){const i=yn(t)?t:oc(t);return i.start(wv("",i,e,n)),i.animation}function TM(t){return t instanceof SVGElement&&t.tagName!=="svg"}const bM=(t,e)=>t.depth-e.depth;class wM{constructor(){this.children=[],this.isDirty=!1}add(e){fv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bM),this.isDirty=!1,this.children.forEach(e)}}function SM(t,e){const n=Ki.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Vs(i),t(l-e))};return st.read(i,!0),()=>Vs(i)}const MR=["TopLeft","TopRight","BottomLeft","BottomRight"],AM=MR.length,Pb=t=>typeof t=="string"?parseFloat(t):t,Ob=t=>typeof t=="number"||Se.test(t);function RM(t,e,n,i,a,l){a?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,xM(i)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,CM(i))):l&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<AM;u++){const h=`border${MR[u]}Radius`;let d=Mb(e,h),p=Mb(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Ob(d)===Ob(p)?(t[h]=Math.max(ft(Pb(d),Pb(p),i),0),($i.test(p)||$i.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,i))}function Mb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xM=kR(0,.5,JA),CM=kR(.5,.95,qn);function kR(t,e,n){return i=>i<t?0:i>e?1:n(sl(t,e,i))}function kb(t,e){t.min=e.min,t.max=e.max}function li(t,e){kb(t.x,e.x),kb(t.y,e.y)}function Vb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lb(t,e,n,i,a){return t-=e,t=qf(t,1/n,i),a!==void 0&&(t=qf(t,1/a,i)),t}function IM(t,e=0,n=1,i=.5,a,l=t,u=t){if($i.test(e)&&(e=parseFloat(e),e=ft(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=ft(l.min,l.max,i);t===l&&(h-=e),t.min=Lb(t.min,e,n,h,a),t.max=Lb(t.max,e,n,h,a)}function Ub(t,e,[n,i,a],l,u){IM(t,e[n],e[i],e[a],e.scale,l,u)}const DM=["x","scaleX","originX"],NM=["y","scaleY","originY"];function jb(t,e,n,i){Ub(t.x,e,DM,n?n.x:void 0,i?i.x:void 0),Ub(t.y,e,NM,n?n.y:void 0,i?i.y:void 0)}function Bb(t){return t.translate===0&&t.scale===1}function VR(t){return Bb(t.x)&&Bb(t.y)}function Fb(t,e){return t.min===e.min&&t.max===e.max}function PM(t,e){return Fb(t.x,e.x)&&Fb(t.y,e.y)}function zb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LR(t,e){return zb(t.x,e.x)&&zb(t.y,e.y)}function Hb(t){return Sn(t.x)/Sn(t.y)}function qb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class OM{constructor(){this.members=[]}add(e){fv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MM(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:w,skewY:S}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),E&&(i+=`rotateY(${E}deg) `),w&&(i+=`skewX(${w}deg) `),S&&(i+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const pg=["","X","Y","Z"],kM={visibility:"hidden"},Gb=1e3;let VM=0;function gg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function UR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$A(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&UR(i)}function jR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=VM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jM),this.nodes.forEach(qM),this.nodes.forEach(GM),this.nodes.forEach(BM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new wM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new mv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TM(u),this.instance=u;const{layoutId:d,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=SM(E,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(Kb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||WM,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=y.getProps(),B=!this.targetLayout||!LR(this.targetLayout,S),F=!E&&w;if(this.options.layoutRoot||this.resumeFrom||F||E&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,F);const Z={...lv(D,"layout"),onPlay:R,onComplete:O};(y.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else E||Kb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($M),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($b);return}this.isUpdating||this.nodes.forEach(zM),this.isUpdating=!1,this.nodes.forEach(HM),this.nodes.forEach(LM),this.nodes.forEach(UM),this.clearAllSnapshots();const h=Ki.now();rn.delta=Ur(0,1e3/60,h-rn.timestamp),rn.timestamp=h,rn.isProcessing=!0,og.update.process(rn),og.preRender.process(rn),og.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FM),this.sharedNodes.forEach(KM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!VR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(h||Pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),XM(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return Rt();const d=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(ZM))){const{scroll:y}=this.root;y&&(Zo(d.x,y.offset.x),Zo(d.y,y.offset.y))}return d}removeElementScroll(u){var h;const d=Rt();if(li(d,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&li(d,u),Zo(d.x,_.offset.x),Zo(d.y,_.offset.y))}return d}applyTransform(u,h=!1){const d=Rt();li(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Jo(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Pa(y.latestValues)&&Jo(d,y.latestValues)}return Pa(this.latestValues)&&Jo(d,this.latestValues),d}removeTransform(u){const h=Rt();li(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Pa(p.latestValues))continue;Xg(p.latestValues)&&p.updateSnapshot();const y=Rt(),_=p.measurePageBox();li(y,_),jb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Pa(this.latestValues)&&jb(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),IR(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Wu(this.relativeTargetOrigin,this.target,w.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xg(this.parent.latestValues)||CR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;li(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,w=this.treeScale.y;tM(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Rt());const{target:S}=h;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vb(this.prevProjectionDelta.x,this.projectionDelta.x),Vb(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==w||!qb(this.projectionDelta.x,this.prevProjectionDelta.x)||!qb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},_=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Rt(),w=d?d.source:void 0,S=this.layout?this.layout.source:void 0,D=w!==S,R=this.getStack(),O=!R||R.members.length<=1,B=!!(D&&!O&&this.options.crossfade===!0&&!this.path.some(QM));this.animationProgress=0;let F;this.mixTargetDelta=Z=>{const Y=Z/1e3;Yb(_.x,u.x,Y),Yb(_.y,u.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YM(this.relativeTarget,this.relativeTargetOrigin,E,Y),F&&PM(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Rt()),li(F,this.relativeTarget)),D&&(this.animationValues=y,RM(y,p,this.latestValues,Y,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=EM(0,Gb,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&BR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Rt();const _=Sn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+_;const E=Sn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}li(h,d),Jo(h,y),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new OM),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&gg("z",u,p,this.animationValues);for(let y=0;y<pg.length;y++)gg(`rotate${pg[y]}`,u,p,this.animationValues),gg(`skew${pg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kM;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ef(u==null?void 0:u.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=Ef(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(D.transform=y?y({},""):"none",this.hasProjected=!1),D}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=MM(this.projectionDeltaWithTransform,this.treeScale,E),y&&(p.transform=y(E,p.transform));const{x:w,y:S}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in rc){if(E[D]===void 0)continue;const{correct:R,applyTo:O,isCSSVariable:B}=rc[D],F=p.transform==="none"?E[D]:R(E[D],_);if(O){const Z=O.length;for(let Y=0;Y<Z;Y++)p[O[Y]]=F}else B?this.options.visualElement.renderState.vars[D]=F:p[D]=F}return this.options.layoutId&&(p.pointerEvents=_===this?Ef(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach($b),this.root.sharedNodes.clear()}}}function LM(t){t.updateLayout()}function UM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?ui(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],w=Sn(E);E.min=i[_].min,E.max=E.min+w}):BR(l,n.layoutBox,i)&&ui(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],w=Sn(i[_]);E.max=E.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+w)});const h=Xo();Qu(h,i,n.layoutBox);const d=Xo();u?Qu(d,t.applyTransform(a,!0),n.measuredBox):Qu(d,i,n.layoutBox);const p=!VR(h);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:w}=_;if(E&&w){const S=Rt();Wu(S,n.layoutBox,E.layoutBox);const D=Rt();Wu(D,i,w.layoutBox),LR(S,D)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function jM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FM(t){t.clearSnapshot()}function $b(t){t.clearMeasurements()}function zM(t){t.isLayoutDirty=!1}function HM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qM(t){t.resolveTargetDelta()}function GM(t){t.calcProjection()}function $M(t){t.resetSkewAndRotation()}function KM(t){t.removeLeadSnapshot()}function Yb(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qb(t,e,n,i){t.min=ft(e.min,n.min,i),t.max=ft(e.max,n.max,i)}function YM(t,e,n,i){Qb(t.x,e.x,n.x,i),Qb(t.y,e.y,n.y,i)}function QM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WM={duration:.45,ease:[.4,0,.1,1]},Wb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xb=Wb("applewebkit/")&&!Wb("chrome/")?Math.round:qn;function Zb(t){t.min=Xb(t.min),t.max=Xb(t.max)}function XM(t){Zb(t.x),Zb(t.y)}function BR(t,e,n){return t==="position"||t==="preserve-aspect"&&!J2(Hb(e),Hb(n),.2)}function ZM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const JM=jR({attachResizeListener:(t,e)=>uc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},FR=jR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new JM({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ek={pan:{Feature:gM},drag:{Feature:pM,ProjectionNode:FR,MeasureLayout:OR}};function Jb(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&st.postRender(()=>l(e,wc(e)))}class tk extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=JP(e,(n,i)=>(Jb(this.node,i,"Start"),a=>Jb(this.node,a,"End"))))}unmount(){}}class nk extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ew(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&st.postRender(()=>l(e,wc(e)))}class ik extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=iO(e,(n,i)=>(ew(this.node,i,"Start"),(a,{success:l})=>ew(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ey=new WeakMap,vg=new WeakMap,rk=t=>{const e=ey.get(t.target);e&&e(t)},sk=t=>{t.forEach(rk)};function ak({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const i=vg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(sk,{root:t,...e})),i[a]}function ok(t,e,n){const i=ak(e);return ey.set(t,n),i.observe(t),()=>{ey.delete(t),i.unobserve(t)}}const lk={some:0,all:1};class uk extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:lk[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(d)};return ok(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ck(e,n))&&this.startObserver()}unmount(){}}function ck({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hk={inView:{Feature:uk},tap:{Feature:ik},focus:{Feature:nk},hover:{Feature:tk}},fk={layout:{ProjectionNode:FR,MeasureLayout:OR}},ty={current:null},zR={current:!1};function dk(){if(zR.current=!0,!!$y)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ty.current=t.matches;t.addListener(e),e()}else ty.current=!1}const mk=[...dR,fn,Ls],pk=t=>mk.find(fR(t)),gk=new WeakMap;function yk(t,e,n){for(const i in e){const a=e[i],l=n[i];if(yn(a))t.addValue(i,a);else if(yn(l))t.addValue(i,oc(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,oc(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vk{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ev,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ki.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,st.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:y}=u;this.onUpdate=y,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=wd(n),this.isVariantNode=bA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in E){const S=E[w];d[w]!==void 0&&yn(S)&&S.set(d[w],!1)}}mount(e){this.current=e,gk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),zR.current||dk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ty.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Xa.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in al){const n=al[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<tw.length;i++){const a=tw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=yk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=oc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(cR(a)||tR(a))?a=parseFloat(a):!pk(a)&&Ls.test(n)&&(a=oR(e,n)),this.setBaseTarget(e,yn(a)?a.get():a)),yn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=av(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!yn(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new mv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class HR extends vk{constructor(){super(...arguments),this.KeyframeResolver=mR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _k(t){return window.getComputedStyle(t)}class Ek extends HR{constructor(){super(...arguments),this.type="html",this.renderInstance=OA}readValueFromInstance(e,n){if(Xa.has(n)){const i=_v(n);return i&&i.default||0}else{const i=_k(e),a=(Zy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DR(e,n)}build(e,n,i){tv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ov(e,n,i)}}class Tk extends HR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&PA(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xa.has(n)){const i=_v(n);return i&&i.default||0}return n=MA.has(n)?n:Wy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return VA(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&st.postRender(this.updateDimensions)}build(e,n,i){rv(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,a){kA(e,n,i,a)}mount(e){this.isSVGTag=sv(e.tagName),super.mount(e)}}const bk=(t,e)=>iv(t)?new Tk(e):new Ek(e,{allowProjection:t!==V.Fragment}),wk=$P({...G2,...hk,...ek,...fk},bk),wf=lP(wk);var _g={exports:{}},Eg,nw;function Sk(){if(nw)return Eg;nw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Eg=t,Eg}var Tg,iw;function Ak(){if(iw)return Tg;iw=1;var t=Sk();function e(){}function n(){}return n.resetWarningCache=e,Tg=function(){function i(u,h,d,p,y,_){if(_!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Tg}var rw;function Rk(){return rw||(rw=1,_g.exports=Ak()()),_g.exports}var xk=Rk();const Gi=JS(xk),qR=({comics:t=[]})=>{var h,d,p,y;const[e,n]=V.useState(0),[i,a]=V.useState(!1);V.useEffect(()=>{if(t.length<=1||i)return;const _=setInterval(()=>{n(E=>(E+1)%t.length)},5e3);return()=>clearInterval(_)},[t.length,i]),V.useEffect(()=>{t.length===0&&n(0)},[t]);const l=()=>{t.length>0&&n(_=>(_+1)%t.length)},u=()=>{t.length>0&&n(_=>_===0?t.length-1:_-1)};return console.log("ComicSlider comics:",t),console.log("Current Index:",e),console.log("Current Comic:",t[e]),P.jsx("div",{className:"w-full h-[600px] bg-cover bg-center flex justify-center items-center",style:{backgroundImage:"url('https://www.shutterstock.com/shutterstock/photos/1552346156/display_1500/stock-photo-blue-background-texture-blue-background-1552346156.jpg')"},children:P.jsxs("div",{className:"w-full max-w-5xl mt-6 flex justify-center items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[P.jsx(wf.button,{onClick:u,className:"px-4 py-12 bg-black text-white rounded-lg shadow-lg disabled:opacity-50 hover:bg-gray-900 transition-all duration-300 flex items-center justify-center",disabled:t.length===0,"aria-label":"Previous comic",whileHover:{scale:1.1},whileTap:{scale:.95},children:P.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})})}),P.jsx("div",{className:"w-full md:w-[1100px] h-[450px] bg-white shadow-md flex items-center mx-6 rounded-lg overflow-hidden relative",children:t.length>0?P.jsx(yA,{mode:"wait",children:P.jsxs(wf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute w-full h-full flex",children:[P.jsx("img",{src:(h=t[e])==null?void 0:h.img,alt:((d=t[e])==null?void 0:d.title)||"Comic image",onError:_=>_.target.src="/fallback-image.jpg",className:"w-1/2 h-full object-cover"}),P.jsxs("div",{className:"w-1/2 h-full flex flex-col justify-center items-center text-center px-8",children:[P.jsx("h2",{className:"font-bold text-3xl mb-4",children:((p=t[e])==null?void 0:p.title)||"Untitled"}),P.jsx("p",{className:"text-gray-600 text-lg overflow-wrap break-word",children:(y=t[e])==null?void 0:y.info})]})]},e)}):P.jsx("div",{className:"w-full h-full flex justify-center items-center",children:P.jsx("p",{className:"text-gray-500 text-xl",children:"No comics available"})})}),P.jsx(wf.button,{onClick:l,className:"px-4 py-12 bg-black text-white rounded-lg shadow-lg disabled:opacity-50 hover:bg-gray-900 transition-all duration-300 flex items-center justify-center",disabled:t.length===0,"aria-label":"Next comic",whileHover:{scale:1.1},whileTap:{scale:.95},children:P.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 5l7 7-7 7"})})})]})})};qR.propTypes={comics:Gi.arrayOf(Gi.shape({img:Gi.string.isRequired,title:Gi.string.isRequired,info:Gi.string.isRequired}))};const Ad=({comic:t,onClick:e})=>{const[n,i]=V.useState(!1);return P.jsxs("div",{className:"group relative w-full h-40 bg-white shadow-lg rounded-lg flex items-center justify-center overflow-hidden cursor-pointer","aria-label":`Comic: ${t.title}`,onClick:()=>e(t),role:"button",tabIndex:0,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[P.jsx("img",{src:t.img,alt:t.title,onError:a=>a.target.src="/fallback-image.jpg",className:"absolute w-full h-full object-cover"}),P.jsx(yA,{mode:"wait",children:n&&P.jsxs(wf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute w-full h-full bg-black bg-opacity-50 flex flex-col justify-center items-center text-center p-2",children:[P.jsx("h2",{className:"font-bold text-lg text-white mb-1",children:t.title}),P.jsx("p",{className:"text-sm text-white overflow-wrap break-word line-clamp-3",children:t.info})]})})]})};Ad.propTypes={comic:Gi.shape({img:Gi.string.isRequired,title:Gi.string.isRequired,info:Gi.string.isRequired}).isRequired,onClick:Gi.func};Ad.defaultProps={onClick:()=>{}};const Ck=()=>{};var sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Ik=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},$R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;d||(w=64,u||(E=64)),i.push(n[y],n[_],n[E],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ik(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new Dk;const E=l<<2|h>>4;if(i.push(E),p!==64){const w=h<<4&240|p>>2;if(i.push(w),_!==64){const S=p<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nk=function(t){const e=GR(t);return $R.encodeByteArray(e,!0)},Gf=function(t){return Nk(t).replace(/\./g,"")},KR=function(t){try{return $R.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=()=>Pk().__FIREBASE_DEFAULTS__,Mk=()=>{if(typeof process>"u"||typeof sw>"u")return;const t=sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KR(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return Ck()||Ok()||Mk()||kk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YR=t=>{var e,n;return(n=(e=Rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QR=t=>{const e=YR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},WR=()=>{var t;return(t=Rd())===null||t===void 0?void 0:t.config},XR=t=>{var e;return(e=Rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gf(JSON.stringify(n)),Gf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function Uk(){var t;const e=(t=Rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zk(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hk(){return!Uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qk(){try{return typeof indexedDB=="object"}catch{return!1}}function Gk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="FirebaseError";class nr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=$k,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Kk(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new nr(a,h,i)}}function Kk(t,e){return t.replace(Yk,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Yk=/\{\$([^}]+)}/g;function Qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(aw(l)&&aw(u)){if(!jr(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Hu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Wk(t,e){const n=new Xk(t,e);return n.subscribe.bind(n)}class Xk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Zk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=bg),a.error===void 0&&(a.error=bg),a.complete===void 0&&(a.complete=bg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Vk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tV(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eV(t){return t===Oa?void 0:t}function tV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const iV={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},rV=Be.INFO,sV={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},aV=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=sV[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sv{constructor(e){this.name=e,this._logLevel=rV,this._logHandler=aV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const oV=(t,e)=>e.some(n=>t instanceof n);let ow,lw;function lV(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uV(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JR=new WeakMap,ny=new WeakMap,ex=new WeakMap,wg=new WeakMap,Av=new WeakMap;function cV(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ps(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&JR.set(n,t)}).catch(()=>{}),Av.set(e,t),e}function hV(t){if(ny.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ny.set(t,e)}let iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ex.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fV(t){iy=t(iy)}function dV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Sg(this),e,...n);return ex.set(i,e.sort?e.sort():[e]),Ps(i)}:uV().includes(t)?function(...e){return t.apply(Sg(this),e),Ps(JR.get(this))}:function(...e){return Ps(t.apply(Sg(this),e))}}function mV(t){return typeof t=="function"?dV(t):(t instanceof IDBTransaction&&hV(t),oV(t,lV())?new Proxy(t,iy):t)}function Ps(t){if(t instanceof IDBRequest)return cV(t);if(wg.has(t))return wg.get(t);const e=mV(t);return e!==t&&(wg.set(t,e),Av.set(e,t)),e}const Sg=t=>Av.get(t);function pV(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ps(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ps(u.result),d.oldVersion,d.newVersion,Ps(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gV=["get","getKey","getAll","getAllKeys","count"],yV=["put","add","delete","clear"],Ag=new Map;function uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ag.get(e))return Ag.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=yV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||gV.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Ag.set(e,l),l}fV(t=>({...t,get:(e,n,i)=>uw(e,n)||t.get(e,n,i),has:(e,n)=>!!uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_V(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _V(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ry="@firebase/app",cw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Sv("@firebase/app"),EV="@firebase/app-compat",TV="@firebase/analytics-compat",bV="@firebase/analytics",wV="@firebase/app-check-compat",SV="@firebase/app-check",AV="@firebase/auth",RV="@firebase/auth-compat",xV="@firebase/database",CV="@firebase/data-connect",IV="@firebase/database-compat",DV="@firebase/functions",NV="@firebase/functions-compat",PV="@firebase/installations",OV="@firebase/installations-compat",MV="@firebase/messaging",kV="@firebase/messaging-compat",VV="@firebase/performance",LV="@firebase/performance-compat",UV="@firebase/remote-config",jV="@firebase/remote-config-compat",BV="@firebase/storage",FV="@firebase/storage-compat",zV="@firebase/firestore",HV="@firebase/vertexai",qV="@firebase/firestore-compat",GV="firebase",$V="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",KV={[ry]:"fire-core",[EV]:"fire-core-compat",[bV]:"fire-analytics",[TV]:"fire-analytics-compat",[SV]:"fire-app-check",[wV]:"fire-app-check-compat",[AV]:"fire-auth",[RV]:"fire-auth-compat",[xV]:"fire-rtdb",[CV]:"fire-data-connect",[IV]:"fire-rtdb-compat",[DV]:"fire-fn",[NV]:"fire-fn-compat",[PV]:"fire-iid",[OV]:"fire-iid-compat",[MV]:"fire-fcm",[kV]:"fire-fcm-compat",[VV]:"fire-perf",[LV]:"fire-perf-compat",[UV]:"fire-rc",[jV]:"fire-rc-compat",[BV]:"fire-gcs",[FV]:"fire-gcs-compat",[zV]:"fire-fst",[qV]:"fire-fst-compat",[HV]:"fire-vertex","fire-js":"fire-js",[GV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,YV=new Map,ay=new Map;function hw(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(ay.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const n of $f.values())hw(n,t);for(const n of YV.values())hw(n,t);return!0}function xd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Sc("app","Firebase",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=$V;function tx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(n||(n=WR()),!n)throw Os.create("no-options");const l=$f.get(a);if(l){if(jr(n,l.options)&&jr(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const u=new nV(a);for(const d of ay.values())u.addComponent(d);const h=new WV(n,i,u);return $f.set(a,h),h}function Rv(t=sy){const e=$f.get(t);if(!e&&t===sy&&WR())return tx();if(!e)throw Os.create("no-app",{appName:t});return e}function Yi(t,e,n){var i;let a=(i=KV[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(h.join(" "));return}za(new Us(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="firebase-heartbeat-database",ZV=1,cc="firebase-heartbeat-store";let Rg=null;function nx(){return Rg||(Rg=pV(XV,ZV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function JV(t){try{const n=(await nx()).transaction(cc),i=await n.objectStore(cc).get(ix(t));return await n.done,i}catch(e){if(e instanceof nr)Br.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function fw(t,e){try{const i=(await nx()).transaction(cc,"readwrite");await i.objectStore(cc).put(e,ix(t)),await i.done}catch(n){if(n instanceof nr)Br.warn(n.message);else{const i=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(i.message)}}}function ix(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=1024,tL=30;class nL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>tL){const u=sL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dw(),{heartbeatsToSend:i,unsentEntries:a}=iL(this._heartbeatsCache.heartbeats),l=Gf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Br.warn(n),""}}}function dw(){return new Date().toISOString().substring(0,10)}function iL(t,e=eL){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),mw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class rL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qk()?Gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function mw(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function sL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){za(new Us("platform-logger",e=>new vV(e),"PRIVATE")),za(new Us("heartbeat",e=>new nL(e),"PRIVATE")),Yi(ry,cw,t),Yi(ry,cw,"esm2017"),Yi("fire-js","")}aL("");var oL="firebase",lL="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(oL,lL,"app");function xv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function rx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=rx,sx=new Sc("auth","Firebase",rx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Sv("@firebase/auth");function cL(t,...e){Kf.logLevel<=Be.WARN&&Kf.warn(`Auth (${Za}): ${t}`,...e)}function Sf(t,...e){Kf.logLevel<=Be.ERROR&&Kf.error(`Auth (${Za}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw Iv(t,...e)}function bi(t,...e){return Iv(t,...e)}function Cv(t,e,n){const i=Object.assign(Object.assign({},uL()),{[e]:n});return new Sc("auth","Firebase",i).create(e,{appName:t.name})}function kr(t){return Cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hL(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&hi(t,"argument-error"),Cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sx.create(t,...e)}function Ae(t,e,...n){if(!t)throw Iv(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Fr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fL(){return pw()==="http:"||pw()==="https:"}function pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||Bk()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lk()||Fk()}get(){return dL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yL=new Rc(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ys(t,e,n,i,a={}){return ox(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=Ac(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return jk()||(p.referrerPolicy="no-referrer"),ax.fetch()(await lx(t,t.config.apiHost,n,h),p)})}async function ox(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},pL),e);try{const a=new _L(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw hf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw hf(t,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cv(t,y,p);hi(t,y)}}catch(a){if(a instanceof nr)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function xc(t,e,n,i,a={}){const l=await Ys(t,e,n,i,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function lx(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Dv(t.config,a):`${t.config.apiScheme}://${a}`;return gL.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function vL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bi(this.auth,"network-request-failed")),yL.get())})}}function hf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=bi(t,e,i);return a.customData._tokenResponse=n,a}function gw(t){return t!==void 0&&t.enterprise!==void 0}class EL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TL(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wL(t,e=!1){const n=Ht(t),i=await n.getIdToken(e),a=Nv(i);Ae(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Xu(xg(a.auth_time)),issuedAtTime:Xu(xg(a.iat)),expirationTime:Xu(xg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xg(t){return Number(t)*1e3}function Nv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=KR(n);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function yw(t){const e=Nv(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof nr&&SL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function SL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t){var e;const n=t.auth,i=await t.getIdToken(),a=await hc(t,Yf(n,{idToken:i}));Ae(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ux(l.providerUserInfo):[],h=xL(t.providerData,u),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new ly(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function RL(t){const e=Ht(t);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ux(t){return t.map(e=>{var{providerId:n}=e,i=xv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){const n=await ox(t,{},async()=>{const i=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await lx(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ax.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IL(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=yw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await CL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new tl;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ly(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wL(this,e)}reload(){return RL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await hc(this,bL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,h,d,p,y;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,B=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:Z,isAnonymous:Y,providerData:se,stsTokenManager:L}=n;Ae(F&&L,e,"internal-error");const I=tl.fromJSON(this.name,L);Ae(typeof F=="string",e,"internal-error"),Rs(_,e.name),Rs(E,e.name),Ae(typeof Z=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),Rs(w,e.name),Rs(S,e.name),Rs(D,e.name),Rs(R,e.name),Rs(O,e.name),Rs(B,e.name);const C=new Ei({uid:F,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:Y,photoURL:S,phoneNumber:w,tenantId:D,stsTokenManager:I,createdAt:O,lastLoginAt:B});return se&&Array.isArray(se)&&(C.providerData=se.map(M=>Object.assign({},M))),R&&(C._redirectEventId=R),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new tl;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Qf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ux(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new tl;h.updateFromIdToken(i);const d=new Ei({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Nr(t){Fr(t instanceof Function,"Expected a class definition");let e=vw.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cx.type="NONE";const _w=cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new nl(Nr(_w),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Nr(_w);const u=Af(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const E=await Yf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Ei._fromGetAccountInfoResponse(e,E,y)}else _=Ei._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new nl(l,e,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new nl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gx(e))return"Blackberry";if(yx(e))return"Webos";if(fx(e))return"Safari";if((e.includes("chrome/")||dx(e))&&!e.includes("edge/"))return"Chrome";if(px(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hx(t=vn()){return/firefox\//i.test(t)}function fx(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dx(t=vn()){return/crios\//i.test(t)}function mx(t=vn()){return/iemobile/i.test(t)}function px(t=vn()){return/android/i.test(t)}function gx(t=vn()){return/blackberry/i.test(t)}function yx(t=vn()){return/webos/i.test(t)}function Pv(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DL(t=vn()){var e;return Pv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NL(){return zk()&&document.documentMode===10}function vx(t=vn()){return Pv(t)||px(t)||yx(t)||gx(t)||/windows phone/i.test(t)||mx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e=[]){let n;switch(t){case"Browser":n=Ew(vn());break;case"Worker":n=`${Ew(vn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=6;class kL{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:ML,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tw(this),this.idTokenSubscription=new Tw(this),this.beforeStateQueue=new PL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),i=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(In(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(kr(this));const n=e?Ht(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OL(this),n=new kL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await IL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qs(t){return Ht(t)}class Tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wk(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(t){Cd=t}function Ex(t){return Cd.loadJS(t)}function UL(){return Cd.recaptchaEnterpriseScript}function jL(){return Cd.gapiScript}function BL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class FL{constructor(){this.enterprise=new zL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HL="recaptcha-enterprise",Tx="NO_RECAPTCHA";class qL{constructor(e){this.type=HL,this.auth=Qs(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{TL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new EL(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;gw(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(Tx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FL().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&gw(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=UL();d.length!==0&&(d+=h),Ex(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function bw(t,e,n,i=!1,a=!1){const l=new qL(t);let u;if(a)u=Tx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function uy(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await bw(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await bw(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e){const n=xd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(jr(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function $L(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function KL(t,e,n){const i=Qs(t);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=bx(e),{host:u,port:h}=YL(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(jr(p,i.config.emulator)&&jr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,QL()}function bx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YL(t){const e=bx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:ww(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:ww(u)}}}function ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function WL(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){return xc(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function JL(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Ov{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new fc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(e,n,"signInWithPassword",XL);case"emailLink":return ZL(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(e,i,"signUpPassword",WL);case"emailLink":return JL(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t,e){return xc(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="http://localhost";class Ha extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=xv(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Ha(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,il(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:eU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nU(t){const e=zu(Hu(t)).link,n=e?zu(Hu(e)).deep_link_id:null,i=zu(Hu(t)).deep_link_id;return(i?zu(Hu(i)).link:null)||i||n||e||t}class Mv{constructor(e){var n,i,a,l,u,h;const d=zu(Hu(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(i=d.oobCode)!==null&&i!==void 0?i:null,_=tU((a=d.mode)!==null&&a!==void 0?a:null);Ae(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=nU(e);try{return new Mv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Mv.parseLink(n);return Ae(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Cc{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ir.credential(n,i)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Cc{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Cc{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e){return xc(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ei._fromIdTokenResponse(e,i,a),u=Sw(i);return new qa({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Sw(i);return new qa({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Sw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends nr{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Wf(e,n,i,a)}}function wx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,l,e,i):l})}async function rU(t,e,n=!1){const i=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e,n=!1){const{auth:i}=t;if(In(i.app))return Promise.reject(kr(i));const a="reauthenticate";try{const l=await hc(t,wx(i,a,e,t),n);Ae(l.idToken,i,"internal-error");const u=Nv(l.idToken);Ae(u,i,"internal-error");const{sub:h}=u;return Ae(t.uid===h,i,"user-mismatch"),qa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e,n=!1){if(In(t.app))return Promise.reject(kr(t));const i="signIn",a=await wx(t,i,e),l=await qa._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function aU(t,e){return Sx(Qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t){const e=Qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oU(t,e,n){if(In(t.app))return Promise.reject(kr(t));const i=Qs(t),u=await uy(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Ax(t),d}),h=await qa._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function lU(t,e,n){return In(t.app)?Promise.reject(kr(t)):aU(Ht(t),bl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Ax(t),i})}function uU(t,e,n,i){return Ht(t).onIdTokenChanged(e,n,i)}function cU(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function hU(t,e,n,i){return Ht(t).onAuthStateChanged(e,n,i)}function fU(t){return Ht(t).signOut()}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=1e3,mU=10;class xx extends Rx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);NL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mU):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xx.type="LOCAL";const pU=xx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Rx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Cx.type="SESSION";const Ix=Cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Id(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await gU(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Vv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function vU(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function _U(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TU(){return Dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firebaseLocalStorageDb",bU=1,Zf="firebaseLocalStorage",Px="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dd(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function wU(){const t=indexedDB.deleteDatabase(Nx);return new Ic(t).toPromise()}function cy(){const t=indexedDB.open(Nx,bU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Zf,{keyPath:Px})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Zf)?e(i):(i.close(),await wU(),e(await cy()))})})}async function Aw(t,e,n){const i=Dd(t,!0).put({[Px]:e,value:n});return new Ic(i).toPromise()}async function SU(t,e){const n=Dd(t,!1).get(e),i=await new Ic(n).toPromise();return i===void 0?null:i.value}function Rw(t,e){const n=Dd(t,!0).delete(e);return new Ic(n).toPromise()}const AU=800,RU=3;class Ox{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>RU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance(TU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _U(),!this.activeServiceWorker)return;this.sender=new yU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await Aw(e,Xf,"1"),await Rw(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Aw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>SU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Dd(a,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ox.type="LOCAL";const xU=Ox;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){return e?Nr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CU(t){return Sx(t.auth,new Lv(t),t.bypassAuthState)}function IU(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),sU(n,new Lv(t),t.bypassAuthState)}async function DU(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),rU(n,new Lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CU;case"linkViaPopup":case"linkViaRedirect":return DU;case"reauthViaPopup":case"reauthViaRedirect":return IU;default:hi(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new Rc(2e3,1e4);async function PU(t,e,n){if(In(t.app))return Promise.reject(bi(t,"operation-not-supported-in-this-environment"));const i=Qs(t);hL(t,e,kv);const a=Mx(i,n);return new Va(i,"signInViaPopup",e,a).executeNotNull()}class Va extends kx{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NU.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="pendingRedirect",Rf=new Map;class MU extends kx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const i=await kU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kU(t,e){const n=UU(e),i=LU(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function VU(t,e){Rf.set(t._key(),e)}function LU(t){return Nr(t._redirectPersistence)}function UU(t){return Af(OU,t.config.apiKey,t.name)}async function jU(t,e,n=!1){if(In(t.app))return Promise.reject(kr(t));const i=Qs(t),a=Mx(i,e),u=await new MU(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=10*60*1e3;class FU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Vx(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(bi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BU&&this.cachedEventUids.clear(),this.cachedEventUids.has(xw(e))}saveEventToCache(e){this.cachedEventUids.add(xw(e)),this.lastProcessedEventTime=Date.now()}}function xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GU=/^https?/;async function $U(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HU(t);for(const n of e)try{if(KU(n))return}catch{}hi(t,"unauthorized-domain")}function KU(t){const e=oy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!GU.test(n))return!1;if(qU.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Rc(3e4,6e4);function Cw(){const t=Qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QU(t){return new Promise((e,n)=>{var i,a,l;function u(){Cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cw(),n(bi(t,"network-request-failed"))},timeout:YU.get()})}if(!((a=(i=Qi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Qi().gapi)===null||l===void 0)&&l.load)u();else{const h=BL("iframefcb");return Qi()[h]=()=>{gapi.load?u():n(bi(t,"network-request-failed"))},Ex(`${jL()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw xf=null,e})}let xf=null;function WU(t){return xf=xf||QU(t),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new Rc(5e3,15e3),ZU="__/auth/iframe",JU="emulator/auth/iframe",e4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n4(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dv(e,JU):`https://${t.config.authDomain}/${ZU}`,i={apiKey:e.apiKey,appName:t.name,v:Za},a=t4.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ac(i).slice(1)}`}async function i4(t){const e=await WU(t),n=Qi().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:n4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e4,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=bi(t,"network-request-failed"),h=Qi().setTimeout(()=>{l(u)},XU.get());function d(){Qi().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s4=500,a4=600,o4="_blank",l4="http://localhost";class Iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u4(t,e,n,i=s4,a=a4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},r4),{width:i.toString(),height:a.toString(),top:l,left:u}),p=vn().toLowerCase();n&&(h=dx(p)?o4:n),hx(p)&&(e=e||l4,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[w,S])=>`${E}${w}=${S},`,"");if(DL(p)&&h!=="_self")return c4(e||"",h),new Iw(null);const _=window.open(e||"",h,y);Ae(_,t,"popup-blocked");try{_.focus()}catch{}return new Iw(_)}function c4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="__/auth/handler",f4="emulator/auth/handler",d4=encodeURIComponent("fac");async function Dw(t,e,n,i,a,l){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Za,eventId:a};if(e instanceof kv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Qk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Cc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${d4}=${encodeURIComponent(d)}`:"";return`${m4(t)}?${Ac(h).slice(1)}${p}`}function m4({config:t}){return t.emulator?Dv(t,f4):`https://${t.authDomain}/${h4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class p4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ix,this._completeRedirectFn=jU,this._overrideRedirectResult=VU}async _openPopup(e,n,i,a){var l;Fr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Dw(e,n,i,oy(),a);return u4(e,u,Vv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Dw(e,n,i,oy(),a);return vU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await i4(e),i=new FU(e);return n.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Cg];u!==void 0&&n(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vx()||fx()||Pv()}}const g4=p4;var Nw="@firebase/auth",Pw="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(t){za(new Us("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_x(t)},p=new VL(i,a,l,d);return $L(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),za(new Us("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(i=>new y4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Nw,Pw,v4(t)),Yi(Nw,Pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=5*60,T4=XR("authIdTokenMaxAge")||E4;let Ow=null;const b4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>T4)return;const a=n==null?void 0:n.token;Ow!==a&&(Ow=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function w4(t=Rv()){const e=xd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GL(t,{popupRedirectResolver:g4,persistence:[xU,pU,Ix]}),i=XR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=b4(l.toString());cU(n,u,()=>u(n.currentUser)),uU(n,h=>u(h))}}const a=YR("auth");return a&&KL(n,`http://${a}`),n}function S4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=bi("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",S4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");var Mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,Lx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,I){function C(){}C.prototype=I.prototype,L.D=I.prototype,L.prototype=new C,L.prototype.constructor=L,L.C=function(M,j,q){for(var U=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)U[Je-2]=arguments[Je];return I.prototype[j].apply(M,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,I,C){C||(C=0);var M=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)M[j]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(j=0;16>j;++j)M[j]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=L.g[0],C=L.g[1],j=L.g[2];var q=L.g[3],U=I+(q^C&(j^q))+M[0]+3614090360&4294967295;I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[2]+606105819&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[3]+3250441966&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(q^C&(j^q))+M[4]+4118548399&4294967295,I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[6]+2821735955&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[7]+4249261313&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(q^C&(j^q))+M[8]+1770035416&4294967295,I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[10]+4294925233&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[11]+2304563134&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(q^C&(j^q))+M[12]+1804603682&4294967295,I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[14]+2792965006&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[15]+1236535329&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(j^q&(C^j))+M[1]+4129170786&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[11]+643717713&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[0]+3921069994&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(C^j))+M[5]+3593408605&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[15]+3634488961&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[4]+3889429448&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(C^j))+M[9]+568446438&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[3]+4107603335&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[8]+1163531501&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(C^j))+M[13]+2850285829&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[7]+1735328473&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[12]+2368359562&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(C^j^q)+M[5]+4294588738&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[11]+1839030562&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[14]+4259657740&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(C^j^q)+M[1]+2763975236&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[7]+4139469664&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[10]+3200236656&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(C^j^q)+M[13]+681279174&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[3]+3572445317&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[6]+76029189&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(C^j^q)+M[9]+3654602809&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[15]+530742520&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[2]+3299628645&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(j^(C|~q))+M[0]+4096336452&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[14]+2878612391&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[5]+4237533241&4294967295,C=j+(U<<21&4294967295|U>>>11),U=I+(j^(C|~q))+M[12]+1700485571&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[10]+4293915773&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[1]+2240044497&4294967295,C=j+(U<<21&4294967295|U>>>11),U=I+(j^(C|~q))+M[8]+1873313359&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[6]+2734768916&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[13]+1309151649&4294967295,C=j+(U<<21&4294967295|U>>>11),U=I+(j^(C|~q))+M[4]+4149444226&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[2]+718787259&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,L.g[2]=L.g[2]+j&4294967295,L.g[3]=L.g[3]+q&4294967295}i.prototype.u=function(L,I){I===void 0&&(I=L.length);for(var C=I-this.blockSize,M=this.B,j=this.h,q=0;q<I;){if(j==0)for(;q<=C;)a(this,L,q),q+=this.blockSize;if(typeof L=="string"){for(;q<I;)if(M[j++]=L.charCodeAt(q++),j==this.blockSize){a(this,M),j=0;break}}else for(;q<I;)if(M[j++]=L[q++],j==this.blockSize){a(this,M),j=0;break}}this.h=j,this.o+=I},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;var C=8*this.o;for(I=L.length-8;I<L.length;++I)L[I]=C&255,C/=256;for(this.u(L),L=Array(16),I=C=0;4>I;++I)for(var M=0;32>M;M+=8)L[C++]=this.g[I]>>>M&255;return L};function l(L,I){var C=h;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=I(L)}function u(L,I){this.h=I;for(var C=[],M=!0,j=L.length-1;0<=j;j--){var q=L[j]|0;M&&q==I||(C[j]=q,M=!1)}this.g=C}var h={};function d(L){return-128<=L&&128>L?l(L,function(I){return new u([I|0],0>I?-1:0)}):new u([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return _;if(0>L)return R(p(-L));for(var I=[],C=1,M=0;L>=C;M++)I[M]=L/C|0,C*=4294967296;return new u(I,0)}function y(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return R(y(L.substring(1),I));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(I,8)),M=_,j=0;j<L.length;j+=8){var q=Math.min(8,L.length-j),U=parseInt(L.substring(j,j+q),I);8>q?(q=p(Math.pow(I,q)),M=M.j(q).add(p(U))):(M=M.j(C),M=M.add(p(U)))}return M}var _=d(0),E=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-R(this).m();for(var L=0,I=1,C=0;C<this.g.length;C++){var M=this.i(C);L+=(0<=M?M:4294967296+M)*I,I*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(S(this))return"0";if(D(this))return"-"+R(this).toString(L);for(var I=p(Math.pow(L,6)),C=this,M="";;){var j=Z(C,I).g;C=O(C,j.j(I));var q=((0<C.g.length?C.g[0]:C.h)>>>0).toString(L);if(C=j,S(C))return q+M;for(;6>q.length;)q="0"+q;M=q+M}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function S(L){if(L.h!=0)return!1;for(var I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function D(L){return L.h==-1}t.l=function(L){return L=O(this,L),D(L)?-1:S(L)?0:1};function R(L){for(var I=L.g.length,C=[],M=0;M<I;M++)C[M]=~L.g[M];return new u(C,~L.h).add(E)}t.abs=function(){return D(this)?R(this):this},t.add=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0,j=0;j<=I;j++){var q=M+(this.i(j)&65535)+(L.i(j)&65535),U=(q>>>16)+(this.i(j)>>>16)+(L.i(j)>>>16);M=U>>>16,q&=65535,U&=65535,C[j]=U<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function O(L,I){return L.add(R(I))}t.j=function(L){if(S(this)||S(L))return _;if(D(this))return D(L)?R(this).j(R(L)):R(R(this).j(L));if(D(L))return R(this.j(R(L)));if(0>this.l(w)&&0>L.l(w))return p(this.m()*L.m());for(var I=this.g.length+L.g.length,C=[],M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<L.g.length;j++){var q=this.i(M)>>>16,U=this.i(M)&65535,Je=L.i(j)>>>16,Ke=L.i(j)&65535;C[2*M+2*j]+=U*Ke,B(C,2*M+2*j),C[2*M+2*j+1]+=q*Ke,B(C,2*M+2*j+1),C[2*M+2*j+1]+=U*Je,B(C,2*M+2*j+1),C[2*M+2*j+2]+=q*Je,B(C,2*M+2*j+2)}for(M=0;M<I;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=I;M<2*I;M++)C[M]=0;return new u(C,0)};function B(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function F(L,I){this.g=L,this.h=I}function Z(L,I){if(S(I))throw Error("division by zero");if(S(L))return new F(_,_);if(D(L))return I=Z(R(L),I),new F(R(I.g),R(I.h));if(D(I))return I=Z(L,R(I)),new F(R(I.g),I.h);if(30<L.g.length){if(D(L)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,M=I;0>=M.l(L);)C=Y(C),M=Y(M);var j=se(C,1),q=se(M,1);for(M=se(M,2),C=se(C,2);!S(M);){var U=q.add(M);0>=U.l(L)&&(j=j.add(C),q=U),M=se(M,1),C=se(C,1)}return I=O(L,j.j(I)),new F(j,I)}for(j=_;0<=L.l(I);){for(C=Math.max(1,Math.floor(L.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),q=p(C),U=q.j(I);D(U)||0<U.l(L);)C-=M,q=p(C),U=q.j(I);S(q)&&(q=E),j=j.add(q),L=O(L,U)}return new F(j,L)}t.A=function(L){return Z(this,L).h},t.and=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)&L.i(M);return new u(C,this.h&L.h)},t.or=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)|L.i(M);return new u(C,this.h|L.h)},t.xor=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)^L.i(M);return new u(C,this.h^L.h)};function Y(L){for(var I=L.g.length+1,C=[],M=0;M<I;M++)C[M]=L.i(M)<<1|L.i(M-1)>>>31;return new u(C,L.h)}function se(L,I){var C=I>>5;I%=32;for(var M=L.g.length-C,j=[],q=0;q<M;q++)j[q]=0<I?L.i(q+C)>>>I|L.i(q+C+1)<<32-I:L.i(q+C);return new u(j,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Lx=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ms=u}).apply(typeof Mw<"u"?Mw:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ux,qu,jx,Cf,hy,Bx,Fx,zx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)e:{var T=i;f=f.split(".");for(var x=0;x<f.length-1;x++){var $=f[x];if(!($ in T))break e;T=T[$]}f=f[f.length-1],x=T[f],v=v(x),v!=x&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var T=0,x=!1,$={next:function(){if(!x&&T<f.length){var W=T++;return{value:v(W,f[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,T){return f.call.apply(f.bind,arguments)}function _(f,v,T){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),f.apply(v,$)}}return function(){return f.apply(v,arguments)}}function E(f,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function w(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function S(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(x,$,W){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return v.prototype[$].apply(x,ce)}}function D(f){const v=f.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=f[x];return T}return[]}function R(f,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(d(x)){const $=f.length||0,W=x.length||0;f.length=$+W;for(let ce=0;ce<W;ce++)f[$+ce]=x[ce]}else f.push(x)}}class O{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function se(f,v,T){for(const x in f)v.call(T,f[x],x,f)}function L(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function I(f){const v={};for(const T in f)v[T]=f[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,v){let T,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(T in x)f[T]=x[T];for(let W=0;W<C.length;W++)T=C[W],Object.prototype.hasOwnProperty.call(x,T)&&(f[T]=x[T])}}function j(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function q(f){h.setTimeout(()=>{throw f},0)}function U(){var f=le;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Je{constructor(){this.h=this.g=null}add(v,T){const x=Ke.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var Ke=new O(()=>new ue,f=>f.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ne=!1,le=new Je,N=()=>{const f=h.Promise.resolve(void 0);de=()=>{f.then(te)}};var te=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(T){q(T)}var v=Ke;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ne=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return f}();function Ie(f,v){if(he.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(Y){e:{try{Z(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:De[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ie.aa.h.call(this)}}S(Ie,he);var De={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Oe(f,v,T,x,$){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=$,this.key=++xe,this.da=this.fa=!1}function Te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function at(f){this.src=f,this.g={},this.h=0}at.prototype.add=function(f,v,T,x,$){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var ce=Ot(f,v,x,$);return-1<ce?(v=f[ce],T||(v.fa=!1)):(v=new Oe(v,this.src,W,!!x,$),v.fa=T,f.push(v)),v};function Xt(f,v){var T=v.type;if(T in f.g){var x=f.g[T],$=Array.prototype.indexOf.call(x,v,void 0),W;(W=0<=$)&&Array.prototype.splice.call(x,$,1),W&&(Te(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ot(f,v,T,x){for(var $=0;$<f.length;++$){var W=f[$];if(!W.da&&W.listener==v&&W.capture==!!T&&W.ha==x)return $}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),On={};function Mn(f,v,T,x,$){if(Array.isArray(v)){for(var W=0;W<v.length;W++)Mn(f,v[W],T,x,$);return null}return T=to(T),f&&f[ge]?f.K(v,T,p(x)?!!x.capture:!1,$):Zs(f,v,T,!1,x,$)}function Zs(f,v,T,x,$,W){if(!v)throw Error("Invalid event type");var ce=p($)?!!$.capture:!!$,He=kn(f);if(He||(f[Zt]=He=new at(f)),T=He.add(v,T,x,ce,W),T.proxy)return T;if(x=qr(),T.proxy=x,x.src=f,x.listener=T,f.addEventListener)fe||($=ce),$===void 0&&($=!1),f.addEventListener(v.toString(),x,$);else if(f.attachEvent)f.attachEvent(Gn(v.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function qr(){function f(T){return v.call(f.src,f.listener,T)}const v=rr;return f}function Et(f,v,T,x,$){if(Array.isArray(v))for(var W=0;W<v.length;W++)Et(f,v[W],T,x,$);else x=p(x)?!!x.capture:!!x,T=to(T),f&&f[ge]?(f=f.i,v=String(v).toString(),v in f.g&&(W=f.g[v],T=Ot(W,T,x,$),-1<T&&(Te(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete f.g[v],f.h--)))):f&&(f=kn(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Ot(v,T,x,$)),(T=-1<f?v[f]:null)&&Tt(T))}function Tt(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ge])Xt(v.i,f);else{var T=f.type,x=f.proxy;v.removeEventListener?v.removeEventListener(T,x,f.capture):v.detachEvent?v.detachEvent(Gn(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=kn(v))?(Xt(T,f),T.h==0&&(T.src=null,v[Zt]=null)):Te(f)}}}function Gn(f){return f in On?On[f]:On[f]="on"+f}function rr(f,v){if(f.da)f=!0;else{v=new Ie(v,this);var T=f.listener,x=f.ha||f.src;f.fa&&Tt(f),f=T.call(x,v)}return f}function kn(f){return f=f[Zt],f instanceof at?f:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(f){return typeof f=="function"?f:(f[bt]||(f[bt]=function(v){return f.handleEvent(v)}),f[bt])}function wt(){me.call(this),this.i=new at(this),this.M=this,this.F=null}S(wt,me),wt.prototype[ge]=!0,wt.prototype.removeEventListener=function(f,v,T,x){Et(this,f,v,T,x)};function Mt(f,v){var T,x=f.F;if(x)for(T=[];x;x=x.F)T.push(x);if(f=f.M,x=v.type||v,typeof v=="string")v=new he(v,f);else if(v instanceof he)v.target=v.target||f;else{var $=v;v=new he(x,f),M(v,$)}if($=!0,T)for(var W=T.length-1;0<=W;W--){var ce=v.g=T[W];$=fi(ce,x,!0,v)&&$}if(ce=v.g=f,$=fi(ce,x,!0,v)&&$,$=fi(ce,x,!1,v)&&$,T)for(W=0;W<T.length;W++)ce=v.g=T[W],$=fi(ce,x,!1,v)&&$}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],x=0;x<T.length;x++)Te(T[x]);delete f.g[v],f.h--}}this.F=null},wt.prototype.K=function(f,v,T,x){return this.i.add(String(f),v,!1,T,x)},wt.prototype.L=function(f,v,T,x){return this.i.add(String(f),v,!0,T,x)};function fi(f,v,T,x){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,W=0;W<v.length;++W){var ce=v[W];if(ce&&!ce.da&&ce.capture==T){var He=ce.listener,Vt=ce.ha||ce.src;ce.fa&&Xt(f.i,ce),$=He.call(Vt,x)!==!1&&$}}return $&&!x.defaultPrevented}function jc(f,v,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function Dl(f){f.g=jc(()=>{f.g=null,f.i&&(f.i=!1,Dl(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class nm extends me{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Dl(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(f){me.call(this),this.h=f,this.g={}}S(Js,me);var Gr=[];function ln(f){se(f.g,function(v,T){this.g.hasOwnProperty(T)&&Tt(v)},f),f.g={}}Js.prototype.N=function(){Js.aa.N.call(this),ln(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nl=h.JSON.stringify,xi=h.JSON.parse,_n=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Pl(){}Pl.prototype.h=null;function Bc(f){return f.h||(f.h=f.i())}function Fc(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){he.call(this,"d")}S($r,he);function di(){he.call(this,"c")}S(di,he);var $n={},Kr=null;function no(){return Kr=Kr||new wt}$n.La="serverreachability";function Ol(f){he.call(this,$n.La,f)}S(Ol,he);function Yr(f){const v=no();Mt(v,new Ol(v))}$n.STAT_EVENT="statevent";function io(f,v){he.call(this,$n.STAT_EVENT,f),this.stat=v}S(io,he);function St(f){const v=no();Mt(v,new io(v,f))}$n.Ma="timingevent";function zc(f,v){he.call(this,$n.Ma,f),this.size=v}S(zc,he);function Qr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Wr(){this.g=!0}Wr.prototype.xa=function(){this.g=!1};function Hc(f,v,T,x,$,W){f.info(function(){if(f.g)if(W)for(var ce="",He=W.split("&"),Vt=0;Vt<He.length;Vt++){var qe=He[Vt].split("=");if(1<qe.length){var $t=qe[0];qe=qe[1];var Lt=$t.split("_");ce=2<=Lt.length&&Lt[1]=="type"?ce+($t+"="+qe+"&"):ce+($t+"=redacted&")}}else ce=null;else ce=W;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+v+`
`+T+`
`+ce})}function qc(f,v,T,x,$,W,ce){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+v+`
`+T+`
`+W+" "+ce})}function Xr(f,v,T,x){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+qt(f,T)+(x?" "+x:"")})}function Ii(f,v){f.info(function(){return"TIMEOUT: "+v})}Wr.prototype.info=function(){};function qt(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var x=T[f];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return Nl(T)}catch{return v}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ea;function ro(){}S(ro,Pl),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},ea=new ro;function Di(f,v,T,x){this.j=f,this.i=v,this.l=T,this.R=x||1,this.U=new Js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ml}function Ml(){this.i=null,this.g="",this.h=!1}var Zr={},ta={};function mi(f,v,T){f.L=1,f.v=ra(mt(v)),f.m=T,f.P=!0,ar(f,null)}function ar(f,v){f.F=Date.now(),ut(f),f.A=mt(f.v);var T=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),ur(T.i,"t",x),f.C=0,T=f.j.J,f.h=new Ml,f.g=rh(f.j,T?v:null,!f.m),0<f.O&&(f.M=new nm(E(f.Y,f,f.g),f.O)),v=f.U,T=f.g,x=f.ca;var $="readystatechange";Array.isArray($)||($&&(Gr[0]=$.toString()),$=Gr);for(var W=0;W<$.length;W++){var ce=Mn(T,$[W],x||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Yr(),Hc(f.i,f.u,f.A,f.l,f.R,f.m)}Di.prototype.ca=function(f){f=f.target;const v=this.M;v&&Xn(f)==3?v.j():this.Y(f)},Di.prototype.Y=function(f){try{if(f==this.g)e:{const Lt=Xn(this.g);var v=this.g.Ba();const dr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||Lt!=4||v==7||(v==8||0>=dr?Yr(3):Yr(2)),so(this);var T=this.g.Z();this.X=T;t:if(Jr(this)){var x=Wc(this.g);f="";var $=x.length,W=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Vn(this);var ce="";break t}this.h.i=new h.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,f+=this.h.i.decode(x[v],{stream:!(W&&v==$-1)});x.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,qc(this.i,this.u,this.A,this.l,this.R,Lt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Vt=this.g;if((He=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(He)){var qe=He;break t}}qe=null}if(T=qe)Xr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,T);else{this.o=!1,this.s=3,St(12),Rn(this),Vn(this);break e}}if(this.P){T=!0;let Jt;for(;!this.J&&this.C<ce.length;)if(Jt=es(this,ce),Jt==ta){Lt==4&&(this.s=4,St(14),T=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Zr){this.s=4,St(15),Xr(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else Xr(this.i,this.l,Jt,null),Ln(this,Jt);if(Jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ce.length!=0||this.h.h||(this.s=1,St(16),T=!1),this.o=this.o&&T,!T)Xr(this.i,this.l,ce,"[Invalid Chunked Response]"),Rn(this),Vn(this);else if(0<ce.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ha($t),$t.M=!0,St(11))}}else Xr(this.i,this.l,ce,null),Ln(this,ce);Lt==4&&Rn(this),this.o&&!this.J&&(Lt==4?th(this.j,this):(this.o=!1,ut(this)))}else lm(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Rn(this),Vn(this)}}}catch{}finally{}};function Jr(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function es(f,v){var T=f.C,x=v.indexOf(`
`,T);return x==-1?ta:(T=Number(v.substring(T,x)),isNaN(T)?Zr:(x+=1,x+T>v.length?ta:(v=v.slice(x,x+T),f.C=x+T,v)))}Di.prototype.cancel=function(){this.J=!0,Rn(this)};function ut(f){f.S=Date.now()+f.I,kl(f,f.I)}function kl(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Qr(E(f.ba,f),v)}function so(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Di.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ii(this.i,this.A),this.L!=2&&(Yr(),St(17)),Rn(this),this.s=2,Vn(this)):kl(this,this.S-f)};function Vn(f){f.j.G==0||f.J||th(f.j,f)}function Rn(f){so(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,ln(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Ln(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||ts(T.h,f))){if(!f.K&&ts(T.h,f)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)go(T),mo(T);else break e;$l(T),St(18)}}else T.za=$[1],0<T.za-T.T&&37500>$[2]&&T.F&&T.v==0&&!T.C&&(T.C=Qr(E(T.Za,T),6e3));if(1>=Gc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fr(T,11)}else if((f.K||T.g==f)&&go(T),!B(v))for($=T.Da.g.parse(v),v=0;v<$.length;v++){let qe=$[v];if(T.T=qe[0],qe=qe[1],T.G==2)if(qe[0]=="c"){T.K=qe[1],T.ia=qe[2];const $t=qe[3];$t!=null&&(T.la=$t,T.j.info("VER="+T.la));const Lt=qe[4];Lt!=null&&(T.Aa=Lt,T.j.info("SVER="+T.Aa));const dr=qe[5];dr!=null&&typeof dr=="number"&&0<dr&&(x=1.5*dr,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Jt=f.g;if(Jt){const Li=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var W=x.h;W.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ns(W,W.h),W.h=null))}if(x.D){const Yl=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(x.ya=Yl,Ye(x.I,x.D,Yl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var ce=f;if(x.qa=ih(x,x.J?x.ia:null,x.W),ce.K){Kn(x.h,ce);var He=ce,Vt=x.L;Vt&&(He.I=Vt),He.B&&(so(He),ut(He)),x.g=ce}else Jc(x);0<T.i.length&&po(T)}else qe[0]!="stop"&&qe[0]!="close"||fr(T,7);else T.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?fr(T,7):ql(T):qe[0]!="noop"&&T.l&&T.l.ta(qe),T.v=0)}}Yr(4)}catch{}}var im=class{constructor(f,v){this.g=f,this.map=v}};function Vl(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Gc(f){return f.h?1:f.g?f.g.size:0}function ts(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function ns(f,v){f.g?f.g.add(v):f.h=v}function Kn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function En(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return D(f.i)}function $c(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],T=f.length,x=0;x<T;x++)v.push(f[x]);return v}v=[],T=0;for(x in f)v[T++]=f[x];return v}function rm(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const x in f)v[T++]=x;return v}}}function na(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=rm(f),x=$c(f),$=x.length,W=0;W<$;W++)v.call(void 0,x[W],T&&T[W],f)}var Ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var x=f[T].indexOf("="),$=null;if(0<=x){var W=f[T].substring(0,x);$=f[T].substring(x+1)}else W=f[T];v(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function or(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof or){this.h=f.h,is(this,f.j),this.o=f.o,this.g=f.g,ia(this,f.s),this.l=f.l;var v=f.i,T=new Ni;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),oo(this,T),this.m=f.m}else f&&(v=String(f).match(Ul))?(this.h=!1,is(this,v[1]||"",!0),this.o=rs(v[2]||""),this.g=rs(v[3]||"",!0),ia(this,v[4]),this.l=rs(v[5]||"",!0),oo(this,v[6]||"",!0),this.m=rs(v[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}or.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Yn(v,jl,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Yn(v,jl,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Yn(T,T.charAt(0)=="/"?Bl:Kc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Yn(T,om)),f.join("")};function mt(f){return new or(f)}function is(f,v,T){f.j=T?rs(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ia(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function oo(f,v,T){v instanceof Ni?(f.i=v,Fl(f.i,f.h)):(T||(v=Yn(v,am)),f.i=new Ni(v,f.h))}function Ye(f,v,T){f.i.set(v,T)}function ra(f){return Ye(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function rs(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Yn(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,sm),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function sm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var jl=/[#\/\?@]/g,Kc=/[#\?:]/g,Bl=/[#\?]/g,am=/[#\?@]/g,om=/#/g;function Ni(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Qn(f){f.g||(f.g=new Map,f.h=0,f.i&&ao(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Ni.prototype,t.add=function(f,v){Qn(this),this.i=null,f=cr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function lo(f,v){Qn(f),v=cr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function lr(f,v){return Qn(f),v=cr(f,v),f.g.has(v)}t.forEach=function(f,v){Qn(this),this.g.forEach(function(T,x){T.forEach(function($){f.call(v,$,x,this)},this)},this)},t.na=function(){Qn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const $=f[x];for(let W=0;W<$.length;W++)T.push(v[x])}return T},t.V=function(f){Qn(this);let v=[];if(typeof f=="string")lr(this,f)&&(v=v.concat(this.g.get(cr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},t.set=function(f,v){return Qn(this),this.i=null,f=cr(this,f),lr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function ur(f,v,T){lo(f,v),0<T.length&&(f.i=null,f.g.set(cr(f,v),D(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const W=encodeURIComponent(String(x)),ce=this.V(x);for(x=0;x<ce.length;x++){var $=W;ce[x]!==""&&($+="="+encodeURIComponent(String(ce[x]))),f.push($)}}return this.i=f.join("&")};function cr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Fl(f,v){v&&!f.j&&(Qn(f),f.i=null,f.g.forEach(function(T,x){var $=x.toLowerCase();x!=$&&(lo(this,x),ur(this,$,T))},f)),f.j=v}function Yc(f,v){const T=new Wr;if(h.Image){const x=new Image;x.onload=w(Wn,T,"TestLoadImage: loaded",!0,v,x),x.onerror=w(Wn,T,"TestLoadImage: error",!1,v,x),x.onabort=w(Wn,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=w(Wn,T,"TestLoadImage: timeout",!1,v,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else v(!1)}function sa(f,v){const T=new Wr,x=new AbortController,$=setTimeout(()=>{x.abort(),Wn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:x.signal}).then(W=>{clearTimeout($),W.ok?Wn(T,"TestPingServer: ok",!0,v):Wn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Wn(T,"TestPingServer: error",!1,v)})}function Wn(f,v,T,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(T)}catch{}}function aa(){this.g=new _n}function Pi(f,v,T){const x=T||"";try{na(f,function($,W){let ce=$;p($)&&(ce=Nl($)),v.push(x+W+"="+encodeURIComponent(ce))})}catch($){throw v.push(x+"type="+encodeURIComponent("_badmap")),$}}function ss(f){this.l=f.Ub||null,this.j=f.eb||!1}S(ss,Pl),ss.prototype.g=function(){return new hr(this.l,this.j)},ss.prototype.i=function(f){return function(){return f}}({});function hr(f,v){wt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(hr,wt),t=hr.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Mi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Oi(this):Mi(this),this.readyState==3&&zl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Oi(this))},t.Qa=function(f){this.g&&(this.response=f,Oi(this))},t.ga=function(){this.g&&Oi(this)};function Oi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Mi(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Mi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hl(f){let v="";return se(f,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Gt(f,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Hl(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Ye(f,v,T))}function Xe(f){wt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,wt);var uo=/^https?$/i,oa=["POST","PUT"];t=Xe.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ea.g(),this.v=this.o?Bc(this.o):Bc(ea),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(W){Qc(this,W);return}if(f=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)T.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())T.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),$=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(oa,v,void 0))||x||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ce]of T)this.g.setRequestHeader(W,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){Qc(this,W)}};function Qc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,co(f),ki(f)}function co(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),ki(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},t.bb=function(){ho(this)};function ho(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)jc(f.Ea,0,f);else if(Mt(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=ce===0){var $=String(f.D).match(Ul)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),x=!uo.test($?$.toLowerCase():"")}T=x}if(T)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var W=2<Xn(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",co(f)}}finally{ki(f)}}}}function ki(f,v){if(f.g){la(f);const T=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Mt(f,"ready");try{T.onreadystatechange=x}catch{}}}function la(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),xi(v)}};function Wc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lm(f){const v={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(B(f[x]))continue;var T=j(f[x]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=v[$]||[];v[$]=W,W.push(T)}L(v,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function fo(f){this.Aa=0,this.i=[],this.j=new Wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,f),this.cb=ua("retryDelaySeedMs",1e4,f),this.Wa=ua("forwardChannelMaxRetries",2,f),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Vl(f&&f.concurrentRequestLimit),this.Da=new aa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fo.prototype,t.la=8,t.G=1,t.connect=function(f,v,T,x){St(0),this.W=f,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=ih(this,null,this.W),po(this)};function ql(f){if(Xc(f),f.G==3){var v=f.U++,T=mt(f.I);if(Ye(T,"SID",f.K),Ye(T,"RID",v),Ye(T,"TYPE","terminate"),ca(f,T),v=new Di(f,f.j,v),v.L=2,v.v=ra(mt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=rh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}nh(f)}function mo(f){f.g&&(ha(f),f.g.cancel(),f.g=null)}function Xc(f){mo(f),f.u&&(h.clearTimeout(f.u),f.u=null),go(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function po(f){if(!Ll(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||N(),ne||(de(),ne=!0),le.add(v,f),f.B=0}}function um(f,v){return Gc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Qr(E(f.Ga,f,v),Kl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Di(this,this.j,f);let W=this.o;if(this.S&&(W?(W=I(W),M(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Zc(this,$,v),T=mt(this.I),Ye(T,"RID",f),Ye(T,"CVER",22),this.D&&Ye(T,"X-HTTP-Session-Id",this.D),ca(this,T),W&&(this.O?v="headers="+encodeURIComponent(String(Hl(W)))+"&"+v:this.m&&Gt(T,this.m,W)),ns(this.h,$),this.Ua&&Ye(T,"TYPE","init"),this.P?(Ye(T,"$req",v),Ye(T,"SID","null"),$.T=!0,mi($,T,null)):mi($,T,v),this.G=2}}else this.G==3&&(f?Gl(this,f):this.i.length==0||Ll(this.h)||Gl(this))};function Gl(f,v){var T;v?T=v.l:T=f.U++;const x=mt(f.I);Ye(x,"SID",f.K),Ye(x,"RID",T),Ye(x,"AID",f.T),ca(f,x),f.m&&f.o&&Gt(x,f.m,f.o),T=new Di(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Zc(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ns(f.h,T),mi(T,x,v)}function ca(f,v){f.H&&se(f.H,function(T,x){Ye(v,x,T)}),f.l&&na({},function(T,x){Ye(v,x,T)})}function Zc(f,v,T){T=Math.min(f.i.length,T);var x=f.l?E(f.l.Na,f.l,f):null;e:{var $=f.i;let W=-1;for(;;){const ce=["count="+T];W==-1?0<T?(W=$[0].g,ce.push("ofs="+W)):W=0:ce.push("ofs="+W);let He=!0;for(let Vt=0;Vt<T;Vt++){let qe=$[Vt].g;const $t=$[Vt].map;if(qe-=W,0>qe)W=Math.max(0,$[Vt].g-100),He=!1;else try{Pi($t,ce,"req"+qe+"_")}catch{x&&x($t)}}if(He){x=ce.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,x}function Jc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||N(),ne||(de(),ne=!0),le.add(v,f),f.v=0}}function $l(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Qr(E(f.Fa,f),Kl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Qr(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),mo(this),eh(this))};function ha(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function eh(f){f.g=new Di(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=mt(f.qa);Ye(v,"RID","rpc"),Ye(v,"SID",f.K),Ye(v,"AID",f.T),Ye(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ye(v,"TO",f.ja),Ye(v,"TYPE","xmlhttp"),ca(f,v),f.m&&f.o&&Gt(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ra(mt(v)),T.m=null,T.P=!0,ar(T,f)}t.Za=function(){this.C!=null&&(this.C=null,mo(this),$l(this),St(19))};function go(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function th(f,v){var T=null;if(f.g==v){go(f),ha(f),f.g=null;var x=2}else if(ts(f.h,v))T=v.D,Kn(f.h,v),x=1;else return;if(f.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var $=f.B;x=no(),Mt(x,new zc(x,T)),po(f)}else Jc(f);else if($=v.s,$==3||$==0&&0<v.X||!(x==1&&um(f,v)||x==2&&$l(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),$){case 1:fr(f,5);break;case 4:fr(f,10);break;case 3:fr(f,6);break;default:fr(f,2)}}}function Kl(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function fr(f,v){if(f.j.info("Error code "+v),v==2){var T=E(f.fb,f),x=f.Xa;const $=!x;x=new or(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||is(x,"https"),ra(x),$?Yc(x.toString(),T):sa(x.toString(),T)}else St(2);f.G=0,f.l&&f.l.sa(v),nh(f),Xc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function nh(f){if(f.G=0,f.ka=[],f.l){const v=En(f.h);(v.length!=0||f.i.length!=0)&&(R(f.ka,v),R(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function ih(f,v,T){var x=T instanceof or?mt(T):new or(T);if(x.g!="")v&&(x.g=v+"."+x.g),ia(x,x.s);else{var $=h.location;x=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var W=new or(null);x&&is(W,x),v&&(W.g=v),$&&ia(W,$),T&&(W.l=T),x=W}return T=f.D,v=f.ya,T&&v&&Ye(x,T,v),Ye(x,"VER",f.la),ca(f,x),x}function rh(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Xe(new ss({eb:T})):new Xe(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}t=sh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yo(){}yo.prototype.g=function(f,v){return new Tn(f,v)};function Tn(f,v){wt.call(this),this.g=new fo(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!B(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Vi(this)}S(Tn,wt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ql(this.g)},Tn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Nl(f),f=T);v.i.push(new im(v.Ya++,f)),v.G==3&&po(v)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,Tn.aa.N.call(this)};function ah(f){$r.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}S(ah,$r);function oh(){di.call(this),this.status=1}S(oh,di);function Vi(f){this.g=f}S(Vi,sh),Vi.prototype.ua=function(){Mt(this.g,"a")},Vi.prototype.ta=function(f){Mt(this.g,new ah(f))},Vi.prototype.sa=function(f){Mt(this.g,new oh)},Vi.prototype.ra=function(){Mt(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,zx=function(){return new yo},Fx=function(){return no()},Bx=$n,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Cf=kt,sr.COMPLETE="complete",jx=sr,Fc.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",wt.prototype.listen=wt.prototype.K,qu=Fc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Ux=Xe}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const kw="@firebase/firestore",Vw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Sv("@firebase/firestore");function qo(){return Ga.logLevel}function pe(t,...e){if(Ga.logLevel<=Be.DEBUG){const n=e.map(Uv);Ga.debug(`Firestore (${wl}): ${t}`,...n)}}function zr(t,...e){if(Ga.logLevel<=Be.ERROR){const n=e.map(Uv);Ga.error(`Firestore (${wl}): ${t}`,...n)}}function ll(t,...e){if(Ga.logLevel<=Be.WARN){const n=e.map(Uv);Ga.warn(`Firestore (${wl}): ${t}`,...n)}}function Uv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Hx(t,i,n)}function Hx(t,e,n){let i=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw zr(i),new Error(i)}function Ze(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||Hx(e,a,i)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class R4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x4{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new qx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class C4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new C4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=N4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Le(t,e){return t<e?-1:t>e?1:0}function fy(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Le(i,a);{const l=Gx(),u=P4(l.encode(Uw(t,n)),l.encode(Uw(e,n)));return u!==0?u:Le(i,a)}}n+=i>65535?2:1}return Le(t.length,e.length)}function Uw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function P4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function ul(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=-62135596800,Bw=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Bw);return new Ft(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jw)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ft(0,0))}static max(){return new Ce(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__name__";class qi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const i=qi.isNumericId(e),a=qi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?qi.extractNumericId(e).compare(qi.extractNumericId(n)):fy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class ot extends qi{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const O4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends qi{construct(e,n,i){return new an(e,n,i)}static isValidIdentifier(e){return O4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fw}static keyField(){return new an([Fw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function M4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(i===1e9?new Ft(n+1,0):new Ft(n,i));return new js(a,be.empty(),e)}function k4(t){return new js(t.readTime,t.key,dc)}class js{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new js(Ce.min(),be.empty(),dc)}static max(){return new js(Ce.max(),be.empty(),dc)}}function V4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==L4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,i)=>{n(e)})}static reject(e){return new re((n,i)=>{i(e)})}static waitFor(e){return new re((n,i)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},d=>i(d))}),u=!0,l===a&&n()})}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next(a=>a?re.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new re((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(y=>{u[p]=y,++h,h===l&&i(u)},y=>a(y))}})}static doWhile(e,n){return new re((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function j4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Nd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-1;function Pd(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function B4(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="";function F4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zw(e)),e=z4(t.get(n),e);return zw(e)}function z4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Kx:n+="";break;default:n+=l}}return n}function zw(t){return t+Kx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new sn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new zt(an.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Qx("Invalid base64 string: "+l):l}}(e);return new on(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=H4.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="server_timestamp",Xx="__type__",Zx="__previous_value__",Jx="__local_write_time__";function Bv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xx])===null||n===void 0?void 0:n.stringValue)===Wx}function Od(t){const e=t.mapValue.fields[Zx];return Bv(e)?Od(e):e}function mc(t){const e=Bs(t.mapValue.fields[Jx].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,i,a,l,u,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const ed="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__type__",G4="__max__",mf={mapValue:{}},tC="__vector__",td="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:K4(t)?9007199254740991:$4(t)?10:11:Re(28295,{value:t})}function Ji(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Bs(a.timestampValue),h=Bs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Fs(a.bytesValue).isEqual(Fs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=xt(a.doubleValue),h=xt(l.doubleValue);return u===h?Jf(u)===Jf(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Hw(u)!==Hw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Ji(u[d],h[d])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function gc(t,e){return(t.values||[]).find(n=>Ji(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=zs(t),i=zs(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=xt(l.integerValue||l.doubleValue),d=xt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return Gw(t.timestampValue,e.timestampValue);case 4:return Gw(mc(t),mc(e));case 5:return fy(t.stringValue,e.stringValue);case 6:return function(l,u){const h=Fs(l),d=Fs(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=Le(h[p],d[p]);if(y!==0)return y}return Le(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Le(xt(l.latitude),xt(u.latitude));return h!==0?h:Le(xt(l.longitude),xt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $w(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,y;const _=l.fields||{},E=u.fields||{},w=(h=_[td])===null||h===void 0?void 0:h.arrayValue,S=(d=E[td])===null||d===void 0?void 0:d.arrayValue,D=Le(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:$w(w,S)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===mf.mapValue&&u===mf.mapValue)return 0;if(l===mf.mapValue)return 1;if(u===mf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=fy(d[_],y[_]);if(E!==0)return E;const w=cl(h[d[_]],p[y[_]]);if(w!==0)return w}return Le(d.length,y.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{Pe:n})}}function Gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Bs(t),i=Bs(e),a=Le(n.seconds,i.seconds);return a!==0?a:Le(n.nanos,i.nanos)}function $w(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=cl(n[a],i[a]);if(l)return l}return Le(n.length,i.length)}function hl(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Bs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=dy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${dy(n.fields[u])}`;return a+"}"}(t.mapValue):Re(61005,{value:t})}function If(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+If(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Ws(i.fields,(l,u)=>{a+=l.length+If(u)}),a}(t.mapValue);default:throw Re(13486,{value:t})}}function my(t){return!!t&&"integerValue"in t}function Fv(t){return!!t&&"arrayValue"in t}function Kw(t){return!!t&&"nullValue"in t}function Yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function $4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eC])===null||n===void 0?void 0:n.stringValue)===tC}function Zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Zu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===G4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=an.emptyPath(),i={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Zu(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ws(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Dn(Zu(this.value))}}function nC(t){const e=[];return Ws(t.fields,(n,i)=>{const a=new an([n]);if(Df(i)){const l=nC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Ce.min(),Ce.min(),Ce.min(),Dn.empty(),0)}static newFoundDocument(e,n,i,a){return new pn(e,1,n,Ce.min(),i,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Ce.min(),Ce.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ce.min(),Ce.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function Qw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(u.referenceValue),n.key):i=cl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ww(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class Bt extends iC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new W4(e,n,i):n==="array-contains"?new J4(e,i):n==="in"?new ej(e,i):n==="not-in"?new tj(e,i):n==="array-contains-any"?new nj(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new X4(e,i):new Z4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends iC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new er(e,n)}matches(e){return rC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rC(t){return t.op==="and"}function sC(t){return Q4(t)&&rC(t)}function Q4(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function py(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(sC(t))return t.filters.map(e=>py(e)).join(",");{const e=t.filters.map(n=>py(n)).join(",");return`${t.op}(${e})`}}function aC(t,e){return t instanceof Bt?function(i,a){return a instanceof Bt&&i.op===a.op&&i.field.isEqual(a.field)&&Ji(i.value,a.value)}(t,e):t instanceof er?function(i,a){return a instanceof er&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,h)=>l&&aC(u,a.filters[h]),!0):!1}(t,e):void Re(19439)}function oC(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(oC).join(" ,")+"}"}(t):"Filter"}class W4 extends Bt{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class X4 extends Bt{constructor(e,n){super(e,"in",n),this.keys=lC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z4 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=lC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>be.fromName(i.referenceValue))}class J4 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fv(n)&&gc(n.arrayValue,this.value)}}class ej extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class tj extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gc(this.value.arrayValue,n)}}class nj extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Ie=null}}function Xw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new ij(t,e,n,i,a,l,u)}function zv(t){const e=Pe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>py(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>hl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>hl(i)).join(",")),e.Ie=n}return e.Ie}function Hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ww(t.startAt,e.startAt)&&Ww(t.endAt,e.endAt)}function gy(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rj(t,e,n,i,a,l,u,h){return new Md(t,e,n,i,a,l,u,h)}function kd(t){return new Md(t)}function Zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sj(t){return t.collectionGroup!==null}function Ju(t){const e=Pe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new zt(an.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new id(l,i))}),n.has(an.keyField().canonicalString())||e.Ee.push(new id(an.keyField(),i))}return e.Ee}function Wi(t){const e=Pe(t);return e.de||(e.de=aj(e,Ju(t))),e.de}function aj(t,e){if(t.limitType==="F")return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new id(a.field,l)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function yy(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return Hv(Wi(t),Wi(e))&&t.limitType===e.limitType}function uC(t){return`${zv(Wi(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>oC(a)).join(", ")}]`),Pd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>hl(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>hl(a)).join(",")),`Target(${i})`}(Wi(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Ju(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(u,h,d){const p=Qw(u,h,d);return u.inclusive?p<=0:p<0}(i.startAt,Ju(i),a)||i.endAt&&!function(u,h,d){const p=Qw(u,h,d);return u.inclusive?p>=0:p>0}(i.endAt,Ju(i),a))}(t,e)}function oj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cC(t){return(e,n)=>{let i=!1;for(const a of Ju(t)){const l=lj(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function lj(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?cl(d,p):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new dt(be.comparator);function Hr(){return uj}const hC=new dt(be.comparator);function Gu(...t){let e=hC;for(const n of t)e=e.insert(n.key,n);return e}function fC(t){let e=hC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function La(){return ec()}function dC(){return ec()}function ec(){return new Ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const cj=new dt(be.comparator),hj=new zt(be.comparator);function Fe(...t){let e=hj;for(const n of t)e=e.add(n);return e}const fj=new zt(Le);function dj(){return fj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function mC(t){return{integerValue:""+t}}function mj(t,e){return B4(e)?mC(e):qv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function pj(t,e,n){return t instanceof rd?function(a,l){const u={fields:{[Xx]:{stringValue:Wx},[Jx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Bv(l)&&(l=Od(l)),l&&(u.fields[Zx]=l),{mapValue:u}}(n,e):t instanceof fl?gC(t,e):t instanceof dl?yC(t,e):function(a,l){const u=pC(a,l),h=Jw(u)+Jw(a.Re);return my(u)&&my(a.Re)?mC(h):qv(a.serializer,h)}(t,e)}function gj(t,e,n){return t instanceof fl?gC(t,e):t instanceof dl?yC(t,e):n}function pC(t,e){return t instanceof sd?function(i){return my(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class rd extends Ud{}class fl extends Ud{constructor(e){super(),this.elements=e}}function gC(t,e){const n=vC(e);for(const i of t.elements)n.some(a=>Ji(a,i))||n.push(i);return{arrayValue:{values:n}}}class dl extends Ud{constructor(e){super(),this.elements=e}}function yC(t,e){let n=vC(e);for(const i of t.elements)n=n.filter(a=>!Ji(a,i));return{arrayValue:{values:n}}}class sd extends Ud{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Jw(t){return xt(t.integerValue||t.doubleValue)}function vC(t){return Fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.field=e,this.transform=n}}function yj(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof fl&&a instanceof fl||i instanceof dl&&a instanceof dl?ul(i.elements,a.elements,Ji):i instanceof sd&&a instanceof sd?Ji(i.Re,a.Re):i instanceof rd&&a instanceof rd}(t.transform,e.transform)}class vj{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jd{}function EC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bC(t.key,Xi.none()):new Dc(t.key,t.data,Xi.none());{const n=t.data,i=Dn.empty();let a=new zt(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Xs(t.key,i,new Hn(a.toArray()),Xi.none())}}function _j(t,e,n){t instanceof Dc?function(a,l,u){const h=a.value.clone(),d=tS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(a,l,u){if(!Nf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=tS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(TC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function tc(t,e,n,i){return t instanceof Dc?function(l,u,h,d){if(!Nf(l.precondition,u))return h;const p=l.value.clone(),y=nS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Xs?function(l,u,h,d){if(!Nf(l.precondition,u))return h;const p=nS(l.fieldTransforms,d,u),y=u.data;return y.setAll(TC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,u,h){return Nf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function Ej(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=pC(i.transform,a||null);l!=null&&(n===null&&(n=Dn.empty()),n.set(i.field,l))}return n||null}function eS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ul(i,a,(l,u)=>yj(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends jd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xs extends jd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function TC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function tS(t,e,n){const i=new Map;Ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,gj(u,h,n[a]))}return i}function nS(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,pj(l,u,e))}return i}class bC extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tj extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&_j(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=tc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=tc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dC();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=EC(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,i)=>eS(n,i))&&ul(this.baseMutations,e.baseMutations,(n,i)=>eS(n,i))}}class Gv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Ze(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return cj}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Gv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,$e;function Aj(t){switch(t){case oe.OK:return Re(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function wC(t){if(t===void 0)return zr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Nt.OK:return oe.OK;case Nt.CANCELLED:return oe.CANCELLED;case Nt.UNKNOWN:return oe.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return oe.INTERNAL;case Nt.UNAVAILABLE:return oe.UNAVAILABLE;case Nt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Nt.NOT_FOUND:return oe.NOT_FOUND;case Nt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Nt.ABORTED:return oe.ABORTED;case Nt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Nt.DATA_LOSS:return oe.DATA_LOSS;default:return Re(39323,{code:t})}}($e=Nt||(Nt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new Ms([4294967295,4294967295],0);function iS(t){const e=Gx().encode(t),n=new Lx;return n.update(e),new Uint8Array(n.digest())}function rS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([n,i],0),new Ms([a,l],0)]}class $v{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(i<0)throw new $u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ms.fromNumber(this.pe)}we(e,n,i){let a=e.add(n.multiply(Ms.fromNumber(i)));return a.compare(Rj)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=iS(e),[i,a]=rS(n);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);if(!this.be(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new $v(l,a,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=iS(e),[i,a]=rS(n);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Bd(Ce.min(),a,new dt(Le),Hr(),Fe())}}class Nc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Nc(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,i,a){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=a}}class SC{constructor(e,n){this.targetId=e,this.Ce=n}}class AC{constructor(e,n,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class sS{constructor(){this.Fe=0,this.Me=aS(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),n=Fe(),i=Fe();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}}),new Nc(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=aS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xj{constructor(e){this.ze=e,this.je=new Map,this.He=Hr(),this.Je=pf(),this.Ye=pf(),this.Ze=new dt(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,i=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(gy(l))if(i===0){const u=new be(l.path);this.tt(n,u,pn.newNoDocument(u,Ce.min()))}else Ze(i===1,20013,{expectedCount:i});else{const u=this.ut(n);if(u!==i){const h=this.ct(e),d=h?this.lt(h,e,u):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Fs(i).toUint8Array()}catch(d){if(d instanceof Qx)return ll("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new $v(u,a,l)}catch(d){return ll(d instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const h=this._t(u);if(h){if(l.current&&gy(h.target)){const d=new be(h.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,pn.newNoDocument(d,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let i=Fe();this.Ye.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Bd(e,n,this.Ze,this.He,i);return this.He=Hr(),this.Je=pf(),this.Ye=pf(),this.Ze=new dt(Le),a}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new sS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new zt(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new zt(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new sS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function pf(){return new dt(be.comparator)}function aS(){return new dt(be.comparator)}const Cj={asc:"ASCENDING",desc:"DESCENDING"},Ij={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dj={and:"AND",or:"OR"};class Nj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Pj(t,e){return ad(t,e.toTimestamp())}function Zi(t){return Ze(!!t,49232),Ce.fromTimestamp(function(n){const i=Bs(n);return new Ft(i.seconds,i.nanos)}(t))}function Kv(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xC(t){const e=ot.fromString(t);return Ze(PC(e),10190,{key:e.toString()}),e}function Ey(t,e){return Kv(t.databaseId,e.path)}function Ig(t,e){const n=xC(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(IC(n))}function CC(t,e){return Kv(t.databaseId,e)}function Oj(t){const e=xC(t);return e.length===4?ot.emptyPath():IC(e)}function Ty(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oS(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function Mj(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?oe.UNKNOWN:wC(p.code);return new _e(y,p.message||"")}(u);n=new AC(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ig(t,i.document.name),l=Zi(i.document.updateTime),u=i.document.createTime?Zi(i.document.createTime):Ce.min(),h=new Dn({mapValue:{fields:i.document.fields}}),d=pn.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Pf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ig(t,i.document),l=i.readTime?Zi(i.readTime):Ce.min(),u=pn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Pf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ig(t,i.document),l=i.removedTargetIds||[];n=new Pf([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new Sj(a,l),h=i.targetId;n=new SC(h,u)}}return n}function kj(t,e){let n;if(e instanceof Dc)n={update:oS(t,e.key,e.value)};else if(e instanceof bC)n={delete:Ey(t,e.key)};else if(e instanceof Xs)n={update:oS(t,e.key,e.data),updateMask:qj(e.fieldMask)};else{if(!(e instanceof Tj))return Re(16599,{ft:e.type});n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const h=u.transform;if(h instanceof rd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sd)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Re(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Pj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(t,e.precondition)),n}function Vj(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?Zi(a.updateTime):Zi(l);return u.isEqual(Ce.min())&&(u=Zi(l)),new vj(u,a.transformResults||[])}(n,e))):[]}function Lj(t,e){return{documents:[CC(t,e.path)]}}function Uj(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=CC(t,a);const l=function(p){if(p.length!==0)return NC(er.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:$o(E.field),direction:Fj(E.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=vy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function jj(t){let e=Oj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Ze(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=DC(_);return E instanceof er&&sC(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(S){return new id(Ko(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Pd(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,w=_.values||[];return new nd(w,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,w=_.values||[];return new nd(w,E)}(n.endAt)),rj(e,a,u,l,h,"F",d,p)}function Bj(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ko(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(n.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(Ko(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(i=>DC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function Fj(t){return Cj[t]}function zj(t){return Ij[t]}function Hj(t){return Dj[t]}function $o(t){return{fieldPath:t.canonicalString()}}function Ko(t){return an.fromServerFormat(t.fieldPath)}function NC(t){return t instanceof Bt?function(n){if(n.op==="=="){if(Yw(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(Kw(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yw(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(Kw(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:zj(n.op),value:n.value}}}(t):t instanceof er?function(n){const i=n.getFilters().map(a=>NC(a));return i.length===1?i[0]:{compositeFilter:{op:Hj(n.op),filters:i}}}(t):Re(54877,{filter:t})}function qj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,i,a,l=Ce.min(),u=Ce.min(),h=on.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.wt=e}}function $j(t){const e=jj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.yn=new Yj}addToCollectionParentIndex(e,n){return this.yn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(js.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(js.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new zt(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OC=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(OC,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ml(0)}static ir(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="LruGarbageCollector",Qj=1048576;function cS([t,e],[n,i]){const a=Le(t,n);return a===0?Le(e,i):a}class Wj{constructor(e){this.cr=e,this.buffer=new zt(cS),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();cS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(uS,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?pe(uS,"Ignoring IndexedDB error during garbage collection: ",n):await Sl(n)}await this.Ir(3e5)})}}class Zj{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Nd.le);const i=new Wj(n);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(lS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),qo()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function Jj(t,e){return new Zj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&tc(i.mutation,a,Hn.empty(),Ft.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Fe()){const a=La();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let u=Gu();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=La();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Fe()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,a){let l=Hr();const u=ec(),h=function(){return ec()}();return n.forEach((d,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Xs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),tc(y.mutation,p,y.mutation.getFieldMask(),Ft.now())):u.set(p.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>u.set(p,y)),n.forEach((p,y)=>{var _;return h.set(p,new t6(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const i=ec();let a=new dt((u,h)=>u-h),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let y=i.get(d)||Hn.empty();y=h.applyToLocalView(p,y),i.set(d,y);const _=(a.get(h.batchId)||Fe()).add(d);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,_=dC();y.forEach(E=>{if(!l.has(E)){const w=EC(n.get(E),i.get(E));w!==null&&_.set(E,w),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(La());let h=dc,d=l;return u.next(p=>re.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,Fe())).next(y=>({batchId:h,changes:fC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(i=>{let a=Gu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Gu();return this.indexManager.getCollectionParents(e,l).next(h=>re.forEach(h,d=>{const p=function(_,E){return new Md(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(u=>{l.forEach((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pn.newInvalidDocument(y)))});let h=Gu();return u.forEach((d,p)=>{const y=l.get(d);y!==void 0&&tc(y.mutation,p,Hn.empty(),Ft.now()),Ld(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return re.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:$j(a.bundledQuery),readTime:Zi(a.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.overlays=new dt(be.comparator),this.Or=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=La();return re.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.St(e,n,l)}),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=La(),l=n.length+1,u=new be(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new dt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=La(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=La(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return re.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new wj(n,i));let l=this.Or.get(n);l===void 0&&(l=Fe(),this.Or.set(n,l)),this.Or.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.Nr=new zt(Wt.Br),this.Lr=new zt(Wt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new Wt(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new Wt(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new be(new ot([])),i=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Lr.forEachInRange([i,a],u=>{this.Qr(u),l.push(u.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new be(new ot([])),i=new Wt(n,e),a=new Wt(n,e+1);let l=Fe();return this.Lr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Wt(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return be.comparator(e.key,n.key)||Le(e.Gr,n.Gr)}static kr(e,n){return Le(e.Gr,n.Gr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Wt.Br)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bj(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new Wt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Hr(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?jv:this.Jn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,a],u=>{const h=this.jr(u.Gr);l.push(h)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new zt(Le);return n.forEach(a=>{const l=new Wt(a,0),u=new Wt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,u],h=>{i=i.add(h.Gr)})}),re.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new be(l),0);let h=new zt(Le);return this.zr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Gr)),!0)},u),re.resolve(this.Jr(h))}Jr(e){const n=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ze(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return re.forEach(n.mutations,a=>{const l=new Wt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new Wt(n,0),a=this.zr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Zr=e,this.docs=function(){return new dt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=Hr();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Hr();const u=n.path,h=new be(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||V4(k4(y),i)<=0||(a.has(y.key)||Ld(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}Xr(e,n){return re.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new l6(this)}getSize(e){return re.resolve(this.size)}}class l6 extends e6{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),re.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.persistence=e,this.ei=new Ja(n=>zv(n),Hv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Yv,this.targetCount=0,this.ri=ml.rr()}forEachTarget(e,n){return this.ei.forEach((i,a)=>n(a)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),re.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.ar(n),re.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ei.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),re.waitFor(l).next(()=>a)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.ii={},this.overlays={},this.si=new Nd(0),this.oi=!1,this.oi=!0,this._i=new s6,this.referenceDelegate=e(this),this.ai=new u6(this),this.indexManager=new Kj,this.remoteDocumentCache=function(a){return new o6(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new Gj(n),this.ci=new i6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new a6(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const a=new c6(this.si.next());return this.referenceDelegate.li(),i(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,n){return re.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class c6 extends U4{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Ti=new Yv,this.Ii=null}static Ei(e){return new Qv(e)}get di(){if(this.Ii)return this.Ii;throw Re(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,i=>{const a=be.fromPath(i);return this.Ai(e,a).next(l=>{l||n.removeEntry(a,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return re.or([()=>re.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class od{constructor(e,n){this.persistence=e,this.Ri=new Ja(i=>F4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=Jj(this,n)}static Ei(e,n){return new od(e,n)}li(){}hi(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return re.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(l=>l?re.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,n).next(h=>{h||(i++,l.removeEntry(u,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),re.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}gr(e,n,i){return re.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.Ri.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=a}static Ps(e,n){let i=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Wv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Hk()?8:j4(vn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.Rs(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Vs(e,n,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new h6;return this.fs(e,n,u).next(h=>{if(l.result=h,this.Is)return this.gs(e,n,u,h.size)})}).next(()=>l.result)}gs(e,n,i,a){return i.documentReadCount<this.Es?(qo()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),re.resolve()):(qo()<=Be.DEBUG&&pe("QueryEngine","Query:",Go(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(qo()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):re.resolve())}Rs(e,n){if(Zw(n))return re.resolve(null);let i=Wi(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),i=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Fe(...l);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.ps(n,h);return this.ys(n,p,u,d.readTime)?this.Rs(e,yy(n,null,"F")):this.ws(e,p,n,d)}))})))}Vs(e,n,i,a){return Zw(n)||a.isEqual(Ce.min())?re.resolve(null):this.As.getDocuments(e,i).next(l=>{const u=this.ps(n,l);return this.ys(n,u,i,a)?re.resolve(null):(qo()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.ws(e,u,n,M4(a,dc)).next(h=>h))})}ps(e,n){let i=new zt(cC(e));return n.forEach((a,l)=>{Ld(e,l)&&(i=i.add(l))}),i}ys(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,n,i){return qo()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Go(n)),this.As.getDocumentsMatchingQuery(e,n,js.min(),i)}ws(e,n,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LocalStore",d6=3e8;class m6{constructor(e,n,i,a){this.persistence=e,this.bs=n,this.serializer=a,this.Ss=new dt(Le),this.Ds=new Ja(l=>zv(l),Hv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function p6(t,e,n,i){return new m6(t,e,n,i)}async function kC(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],h=[];let d=Fe();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:h}))})})}function g6(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(h,d,p,y){const _=p.batch,E=_.keys();let w=re.resolve();return E.forEach(S=>{w=w.next(()=>y.getEntry(d,S)).next(D=>{const R=p.docVersions.get(S);Ze(R!==null,48541),D.version.compareTo(R)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Fe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function VC(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function y6(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(n.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.ai.addMatchingKeys(l,y.addedDocuments,_)));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(on.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(_,w),function(D,R,O){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=d6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,w,y)&&h.push(n.ai.updateTargetData(l,w))});let d=Hr(),p=Fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(v6(l,u,e.documentUpdates).next(y=>{d=y.xs,p=y.Os})),!i.isEqual(Ce.min())){const y=n.ai.getLastRemoteSnapshotVersion(l).next(_=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return re.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.Ss=a,l))}function v6(t,e,n){let i=Fe(),a=Fe();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=Hr();return n.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(Xv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{xs:u,Os:a}})}function _6(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=jv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function E6(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.ai.getTargetData(i,e).next(l=>l?(a=l,re.resolve(a)):n.ai.allocateTargetId(i).next(u=>(a=new Ns(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function by(t,e,n){const i=Pe(t),a=i.Ss.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Al(u))throw u;pe(Xv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function hS(t,e,n){const i=Pe(t);let a=Ce.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,y){const _=Pe(d),E=_.Ds.get(y);return E!==void 0?re.resolve(_.Ss.get(E)):_.ai.getTargetData(p,y)}(i,u,Wi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>i.bs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Fe())).next(h=>(T6(i,oj(e),h),{documents:h,Ns:l})))}function T6(t,e,n){let i=t.vs.get(e)||Ce.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.vs.set(e,i)}class fS{constructor(){this.activeTargetIds=dj()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b6{constructor(){this.So=new fS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new fS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="ConnectivityMonitor";class mS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(dS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(dS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function wy(){return gf===null?gf=function(){return 268435456+Math.round(2147483648*Math.random())}():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="RestConnection",S6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A6{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===ed?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,n,i,a,l){const u=wy(),h=this.$o(e,n.toUriEncodedString());pe(Dg,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,a,l),this.Ko(e,h,d,i).then(p=>(pe(Dg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw ll(Dg,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",i),p})}Wo(e,n,i,a,l,u){return this.Qo(e,n,i,a,l)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}$o(e,n){const i=S6[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class x6 extends A6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,a){const l=wy();return new Promise((u,h)=>{const d=new Ux;d.setWithCredentials(!0),d.listenOnce(jx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cf.NO_ERROR:const y=d.getResponseJson();pe(hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case Cf.TIMEOUT:pe(hn,`RPC '${e}' ${l} timed out`),h(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const _=d.getStatus();if(pe(hn,`RPC '${e}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const S=function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(O)>=0?O:oe.UNKNOWN}(w.status);h(new _e(S,w.message))}else h(new _e(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{s_:e,streamId:l,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{pe(hn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);pe(hn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",p,i,15)})}a_(e,n,i){const a=wy(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=zx(),h=Fx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=l.join("");pe(hn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=u.createWebChannel(y,d);let E=!1,w=!1;const S=new R6({Go:R=>{w?pe(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(E||(pe(hn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),pe(hn,`RPC '${e}' stream ${a} sending:`,R),_.send(R))},zo:()=>_.close()}),D=(R,O,B)=>{R.listen(O,F=>{try{B(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return D(_,qu.EventType.OPEN,()=>{w||(pe(hn,`RPC '${e}' stream ${a} transport opened.`),S.t_())}),D(_,qu.EventType.CLOSE,()=>{w||(w=!0,pe(hn,`RPC '${e}' stream ${a} transport closed`),S.r_())}),D(_,qu.EventType.ERROR,R=>{w||(w=!0,ll(hn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),S.r_(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),D(_,qu.EventType.MESSAGE,R=>{var O;if(!w){const B=R.data[0];Ze(!!B,16349);const F=B,Z=(F==null?void 0:F.error)||((O=F[0])===null||O===void 0?void 0:O.error);if(Z){pe(hn,`RPC '${e}' stream ${a} received error:`,Z);const Y=Z.status;let se=function(C){const M=Nt[C];if(M!==void 0)return wC(M)}(Y),L=Z.message;se===void 0&&(se=oe.INTERNAL,L="Unknown error status: "+Y+" with message "+Z.message),w=!0,S.r_(new _e(se,L)),_.close()}else pe(hn,`RPC '${e}' stream ${a} received:`,B),S.i_(B)}}),D(h,Bx.STAT_EVENT,R=>{R.stat===hy.PROXY?pe(hn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===hy.NOPROXY&&pe(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new Nj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="PersistentStream";class UC{constructor(e,n,i,a,l,u,h,d){this.bi=e,this.R_=i,this.V_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new LC(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===n&&this.B_(i,a)},i=>{e(()=>{const a=new _e(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(pS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(pe(pS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C6 extends UC{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Mj(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Zi(u.readTime):Ce.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=Ty(this.serializer),n.addTarget=function(l,u){let h;const d=u.target;if(h=gy(d)?{documents:Lj(l,d)}:{query:Uj(l,d).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=RC(l,u.resumeToken);const p=vy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=ad(l,u.snapshotVersion.toTimestamp());const p=vy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=Bj(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.F_(n)}}class I6 extends UC{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Vj(e.writeResults,e.commitTime),i=Zi(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=Ty(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>kj(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{}class N6 extends D6{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Qo(e,_y(n,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(oe.UNKNOWN,l.toString())})}Wo(e,n,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,_y(n,i),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(oe.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class P6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zr(n),this.ea=!1):pe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class O6{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(u=>{i.enqueueAndForget(async()=>{eo(this)&&(pe($a,"Restarting streams for network reachability change."),await async function(d){const p=Pe(d);p.aa.add(4),await Pc(p),p.la.set("Unknown"),p.aa.delete(4),await zd(p)}(this))})}),this.la=new P6(i,a)}}async function zd(t){if(eo(t))for(const e of t.ua)await e(!0)}async function Pc(t){for(const e of t.ua)await e(!1)}function jC(t,e){const n=Pe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),t0(n)?e0(n):Rl(n).b_()&&Jv(n,e))}function Zv(t,e){const n=Pe(t),i=Rl(n);n._a.delete(e),i.b_()&&BC(n,e),n._a.size===0&&(i.b_()?i.v_():eo(n)&&n.la.set("Unknown"))}function Jv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(t).U_(e)}function BC(t,e){t.ha.Ke(e),Rl(t).K_(e)}function e0(t){t.ha=new xj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Rl(t).start(),t.la.ta()}function t0(t){return eo(t)&&!Rl(t).w_()&&t._a.size>0}function eo(t){return Pe(t).aa.size===0}function FC(t){t.ha=void 0}async function M6(t){t.la.set("Online")}async function k6(t){t._a.forEach((e,n)=>{Jv(t,e)})}async function V6(t,e){FC(t),t0(t)?(t.la.ia(e),e0(t)):t.la.set("Unknown")}async function L6(t,e,n){if(t.la.set("Online"),e instanceof AC&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(t,e)}catch(i){pe($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ld(t,i)}else if(e instanceof Pf?t.ha.Xe(e):e instanceof SC?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ce.min()))try{const i=await VC(t.localStore);n.compareTo(i)>=0&&await function(l,u){const h=l.ha.It(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l._a.get(p);y&&l._a.set(p,y.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const y=l._a.get(d);if(!y)return;l._a.set(d,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),BC(l,d);const _=new Ns(y.target,d,p,y.sequenceNumber);Jv(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){pe($a,"Failed to raise snapshot:",i),await ld(t,i)}}async function ld(t,e,n){if(!Al(e))throw e;t.aa.add(1),await Pc(t),t.la.set("Offline"),n||(n=()=>VC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe($a,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await zd(t)})}function zC(t,e){return e().catch(n=>ld(t,n,e))}async function Hd(t){const e=Pe(t),n=Hs(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:jv;for(;U6(e);)try{const a=await _6(e.localStore,i);if(a===null){e.oa.length===0&&n.v_();break}i=a.batchId,j6(e,a)}catch(a){await ld(e,a)}HC(e)&&qC(e)}function U6(t){return eo(t)&&t.oa.length<10}function j6(t,e){t.oa.push(e);const n=Hs(t);n.b_()&&n.W_&&n.G_(e.mutations)}function HC(t){return eo(t)&&!Hs(t).w_()&&t.oa.length>0}function qC(t){Hs(t).start()}async function B6(t){Hs(t).H_()}async function F6(t){const e=Hs(t);for(const n of t.oa)e.G_(n.mutations)}async function z6(t,e,n){const i=t.oa.shift(),a=Gv.from(i,e,n);await zC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Hd(t)}async function H6(t,e){e&&Hs(t).W_&&await async function(i,a){if(function(u){return Aj(u)&&u!==oe.ABORTED}(a.code)){const l=i.oa.shift();Hs(i).D_(),await zC(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Hd(i)}}(t,e),HC(t)&&qC(t)}async function gS(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),pe($a,"RemoteStore received new credentials");const i=eo(n);n.aa.add(3),await Pc(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await zd(n)}async function q6(t,e){const n=Pe(t);e?(n.aa.delete(2),await zd(n)):e||(n.aa.add(2),await Pc(n),n.la.set("Unknown"))}function Rl(t){return t.Pa||(t.Pa=function(n,i,a){const l=Pe(n);return l.Y_(),new C6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{jo:M6.bind(null,t),Jo:k6.bind(null,t),Zo:V6.bind(null,t),Q_:L6.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),t0(t)?e0(t):t.la.set("Unknown")):(await t.Pa.stop(),FC(t))})),t.Pa}function Hs(t){return t.Ta||(t.Ta=function(n,i,a){const l=Pe(n);return l.Y_(),new I6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:B6.bind(null,t),Zo:H6.bind(null,t),z_:F6.bind(null,t),j_:z6.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Hd(t)):(await t.Ta.stop(),t.oa.length>0&&(pe($a,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new n0(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i0(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Al(t))return new _e(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Gu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Ia=new dt(be.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class pl{constructor(e,n,i,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new pl(e,n,rl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class $6{constructor(){this.queries=vS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=vS(),l.forEach((u,h)=>{for(const d of h.Ra)d.onError(i)})})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function vS(){return new Ja(t=>uC(t),Vd)}async function r0(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Va()&&e.ma()&&(i=2):(l=new G6,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await n.onListen(a,!0);break;case 1:l.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=i0(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Ra.push(e),e.ga(n.onlineState),l.Aa&&e.pa(l.Aa)&&a0(n)}async function s0(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Ra.indexOf(e);u>=0&&(l.Ra.splice(u,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function K6(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Ra)h.pa(a)&&(i=!0);u.Aa=a}}i&&a0(n)}function Y6(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.Ra)l.onError(n);i.queries.delete(e)}function a0(t){t.fa.forEach(e=>{e.next()})}var Sy,_S;(_S=Sy||(Sy={})).ya="default",_S.Cache="cache";class o0{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new pl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.key=e}}class $C{constructor(e){this.key=e}}class Q6{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Fe(),this.mutatedKeys=Fe(),this.Ua=cC(e),this.Ka=new rl(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new yS,a=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),w=Ld(this.query,_)?_:null,S=!!E&&this.mutatedKeys.has(E.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;E&&w?E.data.isEqual(w.data)?S!==D&&(i.track({type:3,doc:w}),R=!0):this.ja(E,w)||(i.track({type:2,doc:w}),R=!0,(d&&this.Ua(w,d)>0||p&&this.Ua(w,p)<0)&&(h=!0)):!E&&w?(i.track({type:0,doc:w}),R=!0):E&&!w&&(i.track({type:1,doc:E}),R=!0,(d||p)&&(h=!0)),R&&(w?(u=u.add(w),l=D?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Ka:u,za:i,ys:h,mutatedKeys:l}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,_)=>function(w,S){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:R})}};return D(w)-D(S)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(i),a=a!=null&&a;const h=n&&!a?this.Ja():[],d=this.$a.size===0&&this.current&&!a?1:0,p=d!==this.Qa;return this.Qa=d,u.length!==0||p?{snapshot:new pl(this.query,e.Ka,l,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Fe(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new $C(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new GC(i))}),n}Xa(e){this.qa=e.Ns,this.$a=Fe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return pl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const l0="SyncEngine";class W6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class X6{constructor(e){this.key=e,this.tu=!1}}class Z6{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ja(h=>uC(h),Vd),this.iu=new Map,this.su=new Set,this.ou=new dt(be.comparator),this._u=new Map,this.au=new Yv,this.uu={},this.cu=new Map,this.lu=ml.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function J6(t,e,n=!0){const i=ZC(t);let a;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await KC(i,e,n,!0),a}async function e9(t,e){const n=ZC(t);await KC(n,e,!0,!1)}async function KC(t,e,n,i){const a=await E6(t.localStore,Wi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await t9(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&jC(t.remoteStore,a),h}async function t9(t,e,n,i,a){t.Pu=(_,E,w)=>async function(D,R,O,B){let F=R.view.Ga(O);F.ys&&(F=await hS(D.localStore,R.query,!1).then(({documents:L})=>R.view.Ga(L,F)));const Z=B&&B.targetChanges.get(R.targetId),Y=B&&B.targetMismatches.get(R.targetId)!=null,se=R.view.applyChanges(F,D.isPrimaryClient,Z,Y);return TS(D,R.targetId,se.Ya),se.snapshot}(t,_,E,w);const l=await hS(t.localStore,e,!0),u=new Q6(e,l.Ns),h=u.Ga(l.documents),d=Nc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);TS(t,n,p.Ya);const y=new W6(e,n,u);return t.ru.set(e,y),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function n9(t,e,n){const i=Pe(t),a=i.ru.get(e),l=i.iu.get(a.targetId);if(l.length>1)return i.iu.set(a.targetId,l.filter(u=>!Vd(u,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await by(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Zv(i.remoteStore,a.targetId),Ay(i,a.targetId)}).catch(Sl)):(Ay(i,a.targetId),await by(i.localStore,a.targetId,!0))}async function i9(t,e){const n=Pe(t),i=n.ru.get(e),a=n.iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Zv(n.remoteStore,i.targetId))}async function r9(t,e,n){const i=h9(t);try{const a=await function(u,h){const d=Pe(u),p=Ft.now(),y=h.reduce((w,S)=>w.add(S.key),Fe());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Hr(),D=Fe();return d.Cs.getEntries(w,y).next(R=>{S=R,S.forEach((O,B)=>{B.isValidDocument()||(D=D.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,S)).next(R=>{_=R;const O=[];for(const B of h){const F=Ej(B,_.get(B.key).overlayedDocument);F!=null&&O.push(new Xs(B.key,F,nC(F.value.mapValue),Xi.exists(!0)))}return d.mutationQueue.addMutationBatch(w,p,O,h)}).next(R=>{E=R;const O=R.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(w,R.batchId,O)})}).then(()=>({batchId:E.batchId,changes:fC(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let p=u.uu[u.currentUser.toKey()];p||(p=new dt(Le)),p=p.insert(h,d),u.uu[u.currentUser.toKey()]=p}(i,a.batchId,n),await Oc(i,a.changes),await Hd(i.remoteStore)}catch(a){const l=i0(a,"Failed to persist write");n.reject(l)}}async function YC(t,e){const n=Pe(t);try{const i=await y6(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n._u.get(l);u&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Ze(u.tu,14607):a.removedDocuments.size>0&&(Ze(u.tu,42227),u.tu=!1))}),await Oc(n,i,e)}catch(i){await Sl(i)}}function ES(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ru.forEach((l,u)=>{const h=u.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Pe(u);d.onlineState=h;let p=!1;d.queries.forEach((y,_)=>{for(const E of _.Ra)E.ga(h)&&(p=!0)}),p&&a0(d)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function s9(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i._u.get(e),l=a&&a.key;if(l){let u=new dt(be.comparator);u=u.insert(l,pn.newNoDocument(l,Ce.min()));const h=Fe().add(l),d=new Bd(Ce.min(),new Map,new dt(Le),u,h);await YC(i,d),i.ou=i.ou.remove(l),i._u.delete(e),u0(i)}else await by(i.localStore,e,!1).then(()=>Ay(i,e,n)).catch(Sl)}async function a9(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await g6(n.localStore,e);WC(n,i,null),QC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Oc(n,a)}catch(a){await Sl(a)}}async function o9(t,e,n){const i=Pe(t);try{const a=await function(u,h){const d=Pe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ze(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,e);WC(i,e,n),QC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Oc(i,a)}catch(a){await Sl(a)}}function QC(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function WC(t,e,n){const i=Pe(t);let a=i.uu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.iu.get(e))t.ru.delete(i),n&&t.nu.Tu(i,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(i=>{t.au.containsKey(i)||XC(t,i)})}function XC(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Zv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),u0(t))}function TS(t,e,n){for(const i of n)i instanceof GC?(t.au.addReference(i.key,e),l9(t,i)):i instanceof $C?(pe(l0,"Document no longer in limbo: "+i.key),t.au.removeReference(i.key,e),t.au.containsKey(i.key)||XC(t,i.key)):Re(19791,{Iu:i})}function l9(t,e){const n=e.key,i=n.path.canonicalString();t.ou.get(n)||t.su.has(i)||(pe(l0,"New document in limbo: "+n),t.su.add(i),u0(t))}function u0(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new be(ot.fromString(e)),i=t.lu.next();t._u.set(i,new X6(n)),t.ou=t.ou.insert(n,i),jC(t.remoteStore,new Ns(Wi(kd(n.path)),i,"TargetPurposeLimboResolution",Nd.le))}}async function Oc(t,e,n){const i=Pe(t),a=[],l=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,d)=>{u.push(i.Pu(d,e,n).then(p=>{var y;if((p||n)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Wv.Ps(d.targetId,p);l.push(_)}}))}),await Promise.all(u),i.nu.Q_(a),await async function(d,p){const y=Pe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(p,E=>re.forEach(E.ls,w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w)).next(()=>re.forEach(E.hs,w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))}catch(_){if(!Al(_))throw _;pe(Xv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.Ss.get(E),S=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(S);y.Ss=y.Ss.insert(E,D)}}}(i.localStore,l))}async function u9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){pe(l0,"User change. New user:",e.toKey());const i=await kC(n.localStore,e);n.currentUser=e,function(l,u){l.cu.forEach(h=>{h.forEach(d=>{d.reject(new _e(oe.CANCELLED,u))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Oc(n,i.Ms)}}function c9(t,e){const n=Pe(t),i=n._u.get(e);if(i&&i.tu)return Fe().add(i.key);{let a=Fe();const l=n.iu.get(e);if(!l)return a;for(const u of l){const h=n.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function ZC(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s9.bind(null,e),e.nu.Q_=K6.bind(null,e.eventManager),e.nu.Tu=Y6.bind(null,e.eventManager),e}function h9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o9.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return p6(this.persistence,new f6,e.initialUser,this.serializer)}Ru(e){return new MC(Qv.Ei,this.serializer)}Au(e){return new b6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class f9 extends ud{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ze(this.persistence.referenceDelegate instanceof od,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Xj(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new MC(i=>od.Ei(i,n),this.serializer)}}class Ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ES(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u9.bind(null,this.syncEngine),await q6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $6}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),i=function(l){return new x6(l)}(e.databaseInfo);return function(l,u,h,d){return new N6(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,u,h){return new O6(i,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>ES(this.syncEngine,n,0),function(){return mS.C()?new mS:new w6}())}createSyncEngine(e,n){return function(a,l,u,h,d,p,y){const _=new Z6(a,l,u,h,d,p);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Pe(a);pe($a,"RemoteStore shutting down."),l.aa.add(5),await Pc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class d9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=$x.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{pe(qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(pe(qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=i0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await kC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m9(t);pe(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>gS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>gS(e.remoteStore,a)),t._onlineComponents=e}async function m9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(qs,"Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new ud)}}else pe(qs,"Using default OfflineComponentProvider"),await Pg(t,new f9(void 0));return t._offlineComponents}async function JC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(qs,"Using user provided OnlineComponentProvider"),await bS(t,t._uninitializedComponentsProvider._online)):(pe(qs,"Using default OnlineComponentProvider"),await bS(t,new Ry))),t._onlineComponents}function p9(t){return JC(t).then(e=>e.syncEngine)}async function cd(t){const e=await JC(t),n=e.eventManager;return n.onListen=J6.bind(null,e.syncEngine),n.onUnlisten=n9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i9.bind(null,e.syncEngine),n}function g9(t,e,n={}){const i=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const y=new c0({next:E=>{y.yu(),u.enqueueAndForget(()=>s0(l,_));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new _e(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&d&&d.source==="server"?p.reject(new _e(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new o0(kd(h.path),y,{includeMetadataChanges:!0,Fa:!0});return r0(l,_)}(await cd(t),t.asyncQueue,e,n,i)),i.promise}function y9(t,e,n={}){const i=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const y=new c0({next:E=>{y.yu(),u.enqueueAndForget(()=>s0(l,_)),E.fromCache&&d.source==="server"?p.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new o0(h,y,{includeMetadataChanges:!0,Fa:!0});return r0(l,_)}(await cd(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e,n){if(!n)throw new _e(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v9(t,e,n,i){if(e===!0&&i===!0)throw new _e(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SS(t){if(!be.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AS(t){if(be.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function h0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h0(t);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firestore.googleapis.com",RS=!0;class xS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n1,this.ssl=RS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qj)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new A4;switch(i.type){case"firstParty":return new I4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=wS.get(n);i&&(pe("ComponentProvider","Removing Datastore"),wS.delete(n),i.terminate())}(this),Promise.resolve()}}function _9(t,e,n,i={}){var a;const l=(t=ci(t,qd))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;l.host!==n1&&l.host!==h&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!jr(d,u)&&(t._setSettings(d),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=dn.MOCK_USER;else{p=ZR(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(_)}t._authCredentials=new R4(new qx(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class An{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class ks extends Mc{constructor(e,n,i){super(e,n,kd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new be(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function hd(t,e,...n){if(t=Ht(t),t1("collection","path",e),t instanceof qd){const i=ot.fromString(e,...n);return AS(i),new ks(t,null,i)}{if(!(t instanceof An||t instanceof ks))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return AS(i),new ks(t.firestore,null,i)}}function mn(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=$x.newId()),t1("doc","path",e),t instanceof qd){const i=ot.fromString(e,...n);return SS(i),new An(t,null,new be(i))}{if(!(t instanceof An||t instanceof ks))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return SS(i),new An(t.firestore,t instanceof ks?t.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="AsyncQueue";class IS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new LC(this,"async_queue_retry"),this.ju=()=>{const i=Ng();i&&pe(CS,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=Ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Vr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Al(e))throw e;pe(CS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,zr("INTERNAL UNHANDLED ERROR: ",DS(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const a=n0.createAndSchedule(this,e,n,i,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Re(47125,{ec:DS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function DS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Ka extends qd{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new IS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IS(e),this._firestoreClient=void 0,await e}}}function E9(t,e){const n=typeof t=="object"?t:Rv(),i=typeof t=="string"?t:ed,a=xd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=QR("firestore");l&&_9(a,...l)}return a}function Gd(t){if(t._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T9(t),t._firestoreClient}function T9(t){var e,n,i;const a=t._freezeSettings(),l=function(h,d,p,y){return new q4(h,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,e1(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new d9(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(on.fromBase64String(e))}catch(n){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gl(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/^__.*__$/;class w9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{oc:t})}}class Kd{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return fd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(r1(this.oc)&&b9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class S9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Fd(e)}dc(e,n,i,a=!1){return new Kd({oc:e,methodName:n,Ec:i,path:an.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s1(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new S9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A9(t,e,n,i,a,l={}){const u=t.dc(l.merge||l.mergeFields?2:0,e,n,a);g0("Data must be an object, but it was:",u,i);const h=o1(i,u);let d,p;if(l.merge)d=new Hn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=xy(e,_,n);if(!u.contains(E))throw new _e(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);u1(y,E)||y.push(E)}d=new Hn(y),p=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=u.fieldTransforms;return new w9(new Dn(h),d,p)}class Vc extends kc{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}function a1(t,e,n){return new Kd({oc:3,Ec:e.settings.Ec,methodName:t._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class m0 extends kc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=a1(this,e,!0),i=this.Ac.map(l=>xl(l,n)),a=new fl(i);return new _C(e.path,a)}isEqual(e){return e instanceof m0&&jr(this.Ac,e.Ac)}}class p0 extends kc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=a1(this,e,!0),i=this.Ac.map(l=>xl(l,n)),a=new dl(i);return new _C(e.path,a)}isEqual(e){return e instanceof p0&&jr(this.Ac,e.Ac)}}function R9(t,e,n,i){const a=t.dc(1,e,n);g0("Data must be an object, but it was:",a,i);const l=[],u=Dn.empty();Ws(i,(d,p)=>{const y=y0(e,d,n);p=Ht(p);const _=a.hc(y);if(p instanceof Vc)l.push(y);else{const E=xl(p,_);E!=null&&(l.push(y),u.set(y,E))}});const h=new Hn(l);return new i1(u,h,a.fieldTransforms)}function x9(t,e,n,i,a,l){const u=t.dc(1,e,n),h=[xy(e,i,n)],d=[a];if(l.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(xy(e,l[E])),d.push(l[E+1]);const p=[],y=Dn.empty();for(let E=h.length-1;E>=0;--E)if(!u1(p,h[E])){const w=h[E];let S=d[E];S=Ht(S);const D=u.hc(w);if(S instanceof Vc)p.push(w);else{const R=xl(S,D);R!=null&&(p.push(w),y.set(w,R))}}const _=new Hn(p);return new i1(y,_,u.fieldTransforms)}function xl(t,e){if(l1(t=Ht(t)))return g0("Unsupported field value:",e,t),o1(t,e);if(t instanceof kc)return function(i,a){if(!r1(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const h of i){let d=xl(h,a.Pc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mj(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ft.fromDate(i);return{timestampValue:ad(a.serializer,l)}}if(i instanceof Ft){const l=new Ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ad(a.serializer,l)}}if(i instanceof f0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gl)return{bytesValue:RC(a.serializer,i._byteString)};if(i instanceof An){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof d0)return function(u,h){return{mapValue:{fields:{[eC]:{stringValue:tC},[td]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return qv(h.serializer,p)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${h0(i)}`)}(t,e)}function o1(t,e){const n={};return Yx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(i,a)=>{const l=xl(a,e.uc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function l1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof f0||t instanceof gl||t instanceof An||t instanceof kc||t instanceof d0)}function g0(t,e,n){if(!l1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=h0(n);throw i==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+i)}}function xy(t,e,n){if((e=Ht(e))instanceof $d)return e._internalPath;if(typeof e=="string")return y0(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const C9=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(C9)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new _e(oe.INVALID_ARGUMENT,h+t+d)}function u1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(h1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I9 extends c1{data(){return super.data()}}function h1(t,e){return typeof e=="string"?y0(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D9{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ws(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[td].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>xt(u.doubleValue));return new d0(l)}convertGeoPoint(e){return new f0(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Od(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Ze(PC(i),9688,{name:e});const a=new pc(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(n)||zr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d1 extends c1{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(h1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Of extends d1{data(e={}){return super.data(e)}}class m1{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ku(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Of(this._firestore,this._userDataWriter,i.key,i,new Ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Of(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ku(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Of(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ku(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:P9(h.type),doc:d,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function P9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){t=ci(t,An);const e=ci(t.firestore,Ka);return g9(Gd(e),t._key).then(n=>g1(e,t,n))}class v0 extends D9{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function dd(t){t=ci(t,Mc);const e=ci(t.firestore,Ka),n=Gd(e),i=new v0(e);return f1(t._query),y9(n,t._query).then(a=>new m1(e,i,t,a))}function el(t,e,n){t=ci(t,An);const i=ci(t.firestore,Ka),a=N9(t.converter,e,n);return p1(i,[A9(s1(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Xi.none())])}function Ma(t,e,n,...i){t=ci(t,An);const a=ci(t.firestore,Ka),l=s1(a);let u;return u=typeof(e=Ht(e))=="string"||e instanceof $d?x9(l,"updateDoc",t._key,e,n,i):R9(l,"updateDoc",t._key,e),p1(a,[u.toMutation(t._key,Xi.exists(!0))])}function O9(t,...e){var n,i,a;t=Ht(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||NS(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(NS(e[u])){const _=e[u];e[u]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[u+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[u+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let d,p,y;if(t instanceof An)p=ci(t.firestore,Ka),y=kd(t._key.path),d={next:_=>{e[u]&&e[u](g1(p,t,_))},error:e[u+1],complete:e[u+2]};else{const _=ci(t,Mc);p=ci(_.firestore,Ka),y=_._query;const E=new v0(p);d={next:w=>{e[u]&&e[u](new m1(p,E,_,w))},error:e[u+1],complete:e[u+2]},f1(t._query)}return function(E,w,S,D){const R=new c0(D),O=new o0(w,R,S);return E.asyncQueue.enqueueAndForget(async()=>r0(await cd(E),O)),()=>{R.yu(),E.asyncQueue.enqueueAndForget(async()=>s0(await cd(E),O))}}(Gd(p),y,h,d)}function p1(t,e){return function(i,a){const l=new Vr;return i.asyncQueue.enqueueAndForget(async()=>r9(await p9(i),a,l)),l.promise}(Gd(t),e)}function g1(t,e,n){const i=n.docs.get(e._key),a=new v0(t);return new d1(t,a,e._key,i,new Ku(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return new Vc("deleteField")}function Og(...t){return new m0("arrayUnion",t)}function PS(...t){return new p0("arrayRemove",t)}(function(e,n=!0){(function(a){wl=a})(Za),za(new Us("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new Ka(new x4(i.getProvider("auth-internal")),new D4(u,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(p.options.projectId,y)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Yi(kw,Vw,e),Yi(kw,Vw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firebasestorage.googleapis.com",k9="storageBucket",V9=2*60*1e3,L9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends nr{constructor(e,n,i=0){super(Mg(e),`Firebase Storage: ${n} (${Mg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tr||(tr={}));function Mg(t){return"storage/"+t}function U9(){const t="An unknown error occurred, please check the error payload for server response.";return new ir(tr.UNKNOWN,t)}function j9(){return new ir(tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B9(){return new ir(tr.CANCELED,"User canceled the upload/download.")}function F9(t){return new ir(tr.INVALID_URL,"Invalid URL '"+t+"'.")}function z9(t){return new ir(tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OS(t){return new ir(tr.INVALID_ARGUMENT,t)}function v1(){return new ir(tr.APP_DELETED,"The Firebase app was deleted.")}function H9(t){return new ir(tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(i.path==="")return i;throw z9(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function p(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),S={bucket:1,path:3},D=n===y1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${D}/${a}/${R}`,"i"),F=[{regex:h,indices:d,postModify:l},{regex:w,indices:S,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let Z=0;Z<F.length;Z++){const Y=F[Z],se=Y.regex.exec(e);if(se){const L=se[Y.indices.bucket];let I=se[Y.indices.path];I||(I=""),i=new Ti(L,I),Y.postModify(i);break}}if(i==null)throw F9(e);return i}}class q9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e,n){let i=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let p=!1;function y(...R){p||(p=!0,e.apply(null,R))}function _(R){a=setTimeout(()=>{a=null,t(w,d())},R)}function E(){l&&clearTimeout(l)}function w(R,...O){if(p){E();return}if(R){E(),y.call(null,R,...O);return}if(d()||u){E(),y.call(null,R,...O);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,_(F)}let S=!1;function D(R){S||(S=!0,E(),!p&&(a!==null?(R||(h=2),clearTimeout(a),_(0)):R||(h=1)))}return _(0),l=setTimeout(()=>{u=!0,D(!0)},n),D}function $9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){return t!==void 0}function MS(t,e,n,i){if(i<e)throw OS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw OS(`Invalid value for '${t}'. Expected ${n} or less.`)}function Y9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var md;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(md||(md={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,i,a,l,u,h,d,p,y,_,E=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new yf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===md.NO_ERROR,d=l.getStatus();if(!h||Q9(d,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===md.ABORT;i(!1,new yf(!1,null,y));return}const p=this.successCodes_.indexOf(d)!==-1;i(!0,new yf(p,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());K9(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=U9();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?v1():B9();u(d)}else{const d=j9();u(d)}};this.canceled_?n(!1,new yf(!1,null,!0)):this.backoffId_=G9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function X9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Z9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tB(t,e,n,i,a,l,u=!0){const h=Y9(t.urlParams),d=t.url+h,p=Object.assign({},t.headers);return J9(p,e),X9(p,n),Z9(p,l),eB(p,i),new W9(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this._service=e,n instanceof Ti?this._location=n:this._location=Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pd(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iB(this._location.path)}get storage(){return this._service}get parent(){const e=nB(this._location.path);if(e===null)return null;const n=new Ti(this._location.bucket,e);return new pd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw H9(e)}}function kS(t,e){const n=e==null?void 0:e[k9];return n==null?null:Ti.makeFromBucketSpec(n,t)}function rB(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:ZR(a,t.app.options.projectId))}class sB{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=y1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V9,this._maxUploadRetryTime=L9,this._requests=new Set,a!=null?this._bucket=Ti.makeFromBucketSpec(a,this._host):this._bucket=kS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=kS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pd(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new q9(v1());{const u=tB(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const VS="@firebase/storage",LS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="storage";function aB(t=Rv(),e){t=Ht(t);const i=xd(t,_1).getImmediate({identifier:e}),a=QR("storage");return a&&oB(i,...a),i}function oB(t,e,n,i={}){rB(t,e,n,i)}function lB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new sB(n,i,a,e,Za)}function uB(){za(new Us(_1,lB,"PUBLIC").setMultipleInstances(!0)),Yi(VS,LS,""),Yi(VS,LS,"esm2017")}uB();const cB={apiKey:"AIzaSyAsxwW4kHxz7-HzuVtNd3jByDTVOP4CYls",authDomain:"weebos-31f97.firebaseapp.com",projectId:"weebos-31f97",storageBucket:"weebos-31f97.appspot.com",messagingSenderId:"696360971601",appId:"1:696360971601:web:e7fac579d0c8ebebb6f770",measurementId:"G-PK50H6XGNC"},_0=tx(cB),Uu=w4(_0),hB=new Ir,Pt=E9(_0);aB(_0);const E1=V.createContext();function Yd(){return V.useContext(E1)}function fB({children:t}){const[e,n]=V.useState(null),[i,a]=V.useState(null),[l,u]=V.useState(""),[h,d]=V.useState(!0);V.useEffect(()=>hU(Uu,async R=>{if(R){n(R);const O=await Ua(mn(Pt,"users",R.uid));if(O.exists()){const B=O.data();a(B.role||null),u(B.username||R.email)}else u(R.email)}else n(null),a(null),u("");d(!1)}),[]);const S={currentUser:e,userRole:i,setUserRole:async D=>{if(e)try{await el(mn(Pt,"users",e.uid),{role:D},{merge:!0}),a(D)}catch(R){throw console.error("Error setting user role:",R.message),R}},username:l,signInWithGoogle:async()=>{try{const R=(await PU(Uu,hB)).user,O=await Ua(mn(Pt,"users",R.uid));if(!O.exists())await el(mn(Pt,"users",R.uid),{username:R.displayName||`user_${R.uid.slice(0,8)}`,email:R.email,role:null}),u(R.displayName||`user_${R.uid.slice(0,8)}`);else{const B=O.data();a(B.role||null),u(B.username||R.email)}return n(R),R}catch(D){throw console.error("Google Sign-In Error:",D.message),D}},signupWithEmail:async(D,R,O)=>{try{if((await Ua(mn(Pt,"usernames",D))).exists())throw new Error("Username already taken");const Z=(await oU(Uu,R,O)).user;return await el(mn(Pt,"users",Z.uid),{username:D,email:R,role:null}),await el(mn(Pt,"usernames",D),{uid:Z.uid}),u(D),n(Z),Z}catch(B){throw console.error("Email Signup Error:",B.message),B}},loginWithEmail:async(D,R)=>{try{const B=(await lU(Uu,D,R)).user,F=await Ua(mn(Pt,"users",B.uid));if(F.exists()){const Z=F.data();a(Z.role||null),u(Z.username||B.email)}return n(B),B}catch(O){throw console.error("Email Login Error:",O.message),O}},logout:async()=>{try{await fU(Uu),n(null),a(null),u("")}catch(D){throw console.error("Logout Error:",D.message),D}},loading:h};return P.jsx(E1.Provider,{value:S,children:!h&&t})}function dB(){const t=Wa(),{theme:e}=V.useContext(Qa),{currentUser:n,userRole:i,setUserRole:a,signInWithGoogle:l}=Yd(),[u,h]=V.useState([]),[d,p]=V.useState(""),[y,_]=V.useState([]),[E,w]=V.useState(!0),[S,D]=V.useState(null),[R,O]=V.useState(!1),[B,F]=V.useState(""),[Z,Y]=V.useState(""),[se,L]=V.useState(""),[I,C]=V.useState(!1),[M,j]=V.useState(""),q=[...new Set(u.flatMap(N=>N.genres||[]))];V.useEffect(()=>{if((async()=>{try{w(!0);const me=(await dd(hd(Pt,"comics"))).docs.map(he=>he.data());h(me),w(!1)}catch(te){console.error("Error fetching comics:",te),D("Failed to load comics. Please try again later."),w(!1)}})(),!n){const te=setTimeout(()=>C(!0),3e4);return()=>clearTimeout(te)}},[n]),V.useEffect(()=>{if(d){const N=u.filter(te=>te.title.toLowerCase().includes(d.toLowerCase()));_(N)}else _([])},[d,u]);const U=u.slice(0,3),Je={Thriller:u.filter(N=>["MoonChild","Flawless","Bastard","Pigpen","Ghost Teller"].includes(N.title)),Romance:u.filter(N=>["Mafia Nanny","I am the Villain","Your Smile is A Trap","When Jasy Whistles","Lore Olympus"].includes(N.title)),Action:u.filter(N=>["Eleceed","Omniscient Reader","Tower Of God","Return Of The Crazy Demon","Lookism"].includes(N.title))},Ke=N=>{p(""),_([]),t(`/comic/${encodeURIComponent(N.title)}`)},ue=N=>{p(N.target.value)},de=async N=>{if(N.preventDefault(),!B||!Z){alert("Please provide both comic name and image URL.");return}try{const te={title:B,info:se||"New comic",img:Z,pages:[],ratings:[],description:"A new comic added dynamically.",chapters:{}};await el(mn(Pt,"comics",B),te),alert("Comic added successfully!"),F(""),Y(""),L(""),O(!1);const he=(await dd(hd(Pt,"comics"))).docs.map(fe=>fe.data());h(he)}catch(te){console.error("Error adding comic:",te),alert("Failed to add comic: "+te.message)}},ne=async N=>{N.preventDefault(),M==="30121995"?(await a("publisher"),j("")):alert("Incorrect password. Please try again.")},le=N=>{t(`/genre/${encodeURIComponent(N)}`)};return S&&!E?P.jsxs("div",{className:"flex flex-col min-h-screen bg-red-500 text-white",children:[P.jsxs("p",{className:"text-center mt-8",children:["Error: ",S]}),P.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 mx-auto px-4 py-2 bg-teal-600 text-white rounded-lg",children:"Retry"})]}):P.jsx("div",{className:"flex flex-col min-h-screen",children:P.jsxs("main",{className:`w-full flex-grow flex flex-col items-center transition-colors duration-300 ${e==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[n&&i==="publisher"&&P.jsx("div",{className:"w-full flex justify-end px-6 pt-4",children:P.jsx("button",{onClick:()=>O(!0),className:`px-4 py-2 rounded-lg shadow-md transition-colors duration-200 ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Upload Comic"})}),I&&!n&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Please Sign Up or Sign In"}),P.jsx("button",{onClick:()=>{var N;C(!1),(N=document.querySelector(".signup-btn"))==null||N.click()},className:`w-full px-4 py-2 rounded-lg mb-4 ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Sign Up"}),P.jsx("button",{onClick:()=>{var N;C(!1),(N=document.querySelector(".signin-btn"))==null||N.click()},className:`w-full px-4 py-2 rounded-lg mb-4 ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Sign In"}),P.jsx("button",{onClick:l,className:`w-full px-4 py-2 rounded-lg mb-4 ${e==="dark"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Sign In with Google"}),P.jsx("button",{onClick:()=>C(!1),className:`w-full px-4 py-2 rounded-lg ${e==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-400 hover:bg-gray-500 text-white"}`,children:"Not Now"})]})}),n&&i==="publisher-pending"&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Enter Publisher Password"}),P.jsxs("form",{onSubmit:ne,children:[P.jsx("input",{type:"password",value:M,onChange:N=>j(N.target.value),className:`w-full px-3 py-2 rounded-lg border mb-4 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"Password"}),P.jsx("button",{type:"submit",className:`w-full px-4 py-2 rounded-lg ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Submit"})]})]})}),P.jsxs("div",{className:"w-full flex flex-col items-center",children:[P.jsxs("div",{className:"w-full max-w-2xl mt-6 px-4 relative",children:[P.jsx("input",{type:"text",value:d,onChange:ue,placeholder:"Search comics by title...",className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-800 text-gray-200 border-gray-700":"bg-white text-gray-900 border-gray-300"}`}),y.length>0&&P.jsx("div",{className:`absolute w-full mt-1 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10 ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:y.map(N=>P.jsxs("div",{onClick:()=>Ke(N),className:`flex items-center px-4 py-2 cursor-pointer hover:bg-opacity-10 hover:bg-teal-500 transition-colors duration-200 ${e==="dark"?"hover:bg-teal-700":"hover:bg-teal-100"}`,children:[N.img?P.jsx("img",{src:N.img,alt:`${N.title} thumbnail`,className:"w-10 h-10 object-cover rounded mr-3"}):P.jsx("div",{className:"w-10 h-10 bg-gray-500 rounded mr-3 flex items-center justify-center text-white",children:"N/A"}),P.jsx("span",{children:N.title})]},N.title))})]}),q.length>0&&P.jsx("div",{className:"w-full overflow-hidden bg-gray-800 py-2 mt-4",children:P.jsxs("div",{className:"genre-bar flex space-x-6 animate-marquee",children:[q.map(N=>P.jsx("span",{onClick:()=>le(N),className:"px-4 py-2 whitespace-nowrap cursor-pointer text-white hover:text-teal-300",children:N},N)),q.map(N=>P.jsx("span",{onClick:()=>le(N),className:"px-4 py-2 whitespace-nowrap cursor-pointer text-white hover:text-teal-300",children:N},`${N}-duplicate`))]})}),n&&i==="publisher"&&R&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Upload New Comic"}),P.jsxs("form",{onSubmit:de,className:"flex flex-col gap-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"newComicName",className:"block mb-1",children:"Comic Name"}),P.jsx("input",{id:"newComicName",type:"text",value:B,onChange:N=>F(N.target.value),className:`w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"e.g., NewComic"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"newImageUrl",className:"block mb-1",children:"Image URL"}),P.jsx("input",{id:"newImageUrl",type:"text",value:Z,onChange:N=>Y(N.target.value),className:`w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"e.g., https://example.com/image.jpg"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"newGenre",className:"block mb-1",children:"Genre"}),P.jsx("input",{id:"newGenre",type:"text",value:se,onChange:N=>L(N.target.value),className:`w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"e.g., Thriller, Romance, Action"})]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{type:"submit",className:`flex-1 px-4 py-2 rounded-lg ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Add Comic"}),P.jsx("button",{type:"button",onClick:()=>O(!1),className:`flex-1 px-4 py-2 rounded-lg ${e==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-400 hover:bg-gray-500 text-white"}`,children:"Cancel"})]})]})]})}),E?P.jsx("p",{className:"text-center mt-8 text-white",children:"Loading comics..."}):S?P.jsx("p",{className:"text-red-400 mt-8 text-center",children:S}):P.jsxs(P.Fragment,{children:[P.jsx("section",{className:"w-full mt-8",children:P.jsx(qR,{comics:U,theme:e})}),Object.entries(Je).map(([N,te])=>P.jsxs("section",{className:"mt-12 w-full max-w-5xl",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:N}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 pb-3",children:te.length>0?te.map(me=>P.jsx(Ad,{comic:me,onClick:Ke,theme:e},me.title)):P.jsx("p",{className:"col-span-full text-center",children:"No comics available in this category"})})]},N))]})]})]})})}function mB(){const{theme:t,toggleTheme:e}=V.useContext(Qa),{currentUser:n,username:i,userRole:a,setUserRole:l,signInWithGoogle:u,signupWithEmail:h,loginWithEmail:d,logout:p}=Yd(),y=Wa(),[_,E]=V.useState(!1),[w,S]=V.useState(!1),[D,R]=V.useState(!1),[O,B]=V.useState(""),[F,Z]=V.useState(""),[Y,se]=V.useState(""),[L,I]=V.useState(""),[C,M]=V.useState(""),[j,q]=V.useState(""),U=()=>{console.log("Toggle button clicked, calling toggleTheme"),e()},Je=async le=>{if(le.preventDefault(),Y!==L){alert("Passwords do not match");return}try{console.log("Attempting signup with:",O,F),await h(O,F,Y),B(""),Z(""),se(""),I(""),E(!1),R(!0)}catch(N){console.error("Signup failed:",N.message),alert("Signup failed: "+N.message)}},Ke=async le=>{le.preventDefault();try{console.log("Attempting signin with email:",C),await d(C,j),M(""),q(""),S(!1)}catch(N){console.error("Sign-in failed:",N.message),alert("Sign-in failed: "+N.message)}},ue=async()=>{try{console.log("Attempting Google sign-in"),await u(),E(!1),S(!1),R(!0)}catch(le){console.error("Google Sign-in failed:",le.message),alert("Google Sign-in failed: "+le.message)}},de=async()=>{try{console.log("Logging out"),await p(),y("/")}catch(le){console.error("Logout failed:",le.message),alert("Logout failed: "+le.message)}},ne=async le=>{try{await l(le==="publisher"?"publisher-pending":"reader"),R(!1)}catch(N){console.error("Failed to set role:",N.message),alert("Failed to set role: "+N.message)}};return P.jsxs("header",{className:`w-full sticky top-0 z-10 flex items-center justify-between px-6 py-4 shadow-lg ${t==="dark"?"bg-teal-950 bg-opacity-90":"bg-teal-700 bg-opacity-90"}`,children:[P.jsx("h1",{className:`text-3xl font-bold font-nunito ${t==="dark"?"text-gray-200":"text-white"}`,style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"},children:"WEEBOS"}),P.jsxs("div",{className:"flex gap-4 items-center",children:[n?P.jsxs(P.Fragment,{children:[P.jsxs("span",{className:`${t==="dark"?"text-gray-200":"text-white"}`,children:["Welcome, ",i||"User"]}),P.jsx("button",{onClick:de,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Logout"})]}):P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>E(!0),className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign Up"}),P.jsx("button",{onClick:()=>S(!0),className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign In"})]}),P.jsx("button",{onClick:U,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t==="light"?"Dark Mode":"Light Mode"})]}),_&&!n&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("form",{onSubmit:Je,className:`p-6 rounded-lg shadow-lg w-full max-w-md ${t==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign Up"}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signupUsername",className:"block mb-2",children:"Username"}),P.jsx("input",{id:"signupUsername",type:"text",value:O,onChange:le=>B(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your username",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signupEmail",className:"block mb-2",children:"Email"}),P.jsx("input",{id:"signupEmail",type:"email",value:F,onChange:le=>Z(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your email",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signupPassword",className:"block mb-2",children:"Password"}),P.jsx("input",{id:"signupPassword",type:"password",value:Y,onChange:le=>se(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your password",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2",children:"Confirm Password"}),P.jsx("input",{id:"confirmPassword",type:"password",value:L,onChange:le=>I(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Confirm your password",required:!0})]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign Up"}),P.jsx("button",{type:"button",onClick:ue,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign Up with Google"})]}),P.jsx("button",{type:"button",onClick:()=>E(!1),className:`mt-4 w-full px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-gray-400 text-white hover:bg-gray-500":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:"Cancel"}),P.jsx("button",{type:"button",onClick:()=>{E(!1),S(!0)},className:`mt-2 w-full text-sm ${t==="dark"?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:"Already have an account? Sign In"})]})}),w&&!n&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("form",{onSubmit:Ke,className:`p-6 rounded-lg shadow-lg w-full max-w-md ${t==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign In"}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signinEmail",className:"block mb-2",children:"Email"}),P.jsx("input",{id:"signinEmail",type:"email",value:C,onChange:le=>M(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your email",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signinPassword",className:"block mb-2",children:"Password"}),P.jsx("input",{id:"signinPassword",type:"password",value:j,onChange:le=>q(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your password",required:!0})]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign In"}),P.jsx("button",{type:"button",onClick:ue,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign In with Google"})]}),P.jsx("button",{type:"button",onClick:()=>S(!1),className:`mt-4 w-full px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-gray-400 text-white hover:bg-gray-500":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:"Cancel"}),P.jsx("button",{type:"button",onClick:()=>{S(!1),E(!0)},className:`mt-2 w-full text-sm ${t==="dark"?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:"Need an account? Sign Up"})]})}),D&&n&&a===null&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${t==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Are you a Reader or Publisher?"}),P.jsx("button",{onClick:()=>ne("reader"),className:`w-full px-4 py-2 rounded-lg mb-4 ${t==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Reader"}),P.jsx("button",{onClick:()=>ne("publisher"),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Publisher"})]})})]})}function US(){var ue,de;const{title:t,chapter:e}=Uy(),n=Wa(),{currentUser:i,userRole:a,signInWithGoogle:l}=Yd(),{theme:u}=V.useContext(Qa),h=decodeURIComponent(t||""),[d,p]=V.useState({title:h,img:null,chapters:{},description:null,ratings:[],pages:[],info:""}),[y,_]=V.useState(!0),[E,w]=V.useState(null),[S,D]=V.useState(0),[R,O]=V.useState(!1),[B,F]=V.useState([]),[Z,Y]=V.useState("");V.useEffect(()=>{if((async()=>{try{_(!0);const te=mn(Pt,"comics",h),me=await Ua(te);if(me.exists()){const he=me.data();p(he),w(null)}else w("Comic not found.")}catch{w("Failed to load comic data.")}finally{_(!1)}})(),!i){const te=setTimeout(()=>O(!0),3e4);return()=>clearTimeout(te)}const le=mn(Pt,"comics",h),N=O9(le,te=>{var me,he;if(te.exists()){const fe=te.data(),Ie=e?((he=(me=fe.chapters)==null?void 0:me[e])==null?void 0:he.comments)||[]:fe.comments||[];F(Ie)}});return()=>N()},[h,i,e]);const se=()=>n("/"),L=()=>n(`/upload/${encodeURIComponent(h)}`),I=ne=>n(`/comic/${encodeURIComponent(h)}/${ne}`),C=()=>{var ne;return(ne=d.ratings)!=null&&ne.length?(d.ratings.reduce((le,N)=>le+N,0)/d.ratings.length).toFixed(1):0},M=async()=>{try{await l(),O(!1)}catch(ne){alert(`Sign-in failed: ${ne.message}`)}},j=async ne=>{if(!i){alert("Please sign in to rate this comic."),O(!0);return}try{const le=mn(Pt,"comics",h);await Ma(le,{ratings:Og(ne)}),p(N=>({...N,ratings:[...N.ratings,ne]})),D(0)}catch(le){alert("Failed to submit rating: "+le.message)}},q=async ne=>{if(ne.preventDefault(),!i){alert("Please sign in to post a comment."),O(!0);return}if(!Z.trim()){alert("Please enter a comment.");return}try{const le=mn(Pt,"comics",h),N={text:Z,userId:i.uid,userName:i.displayName||"Anonymous",timestamp:new Date().toISOString()};if(e){const te=d.chapters[e]||{comments:[]};await Ma(le,{[`chapters.${e}.comments`]:Og(N)})}else await Ma(le,{comments:Og(N)});Y("")}catch(le){alert("Failed to post comment: "+le.message)}},U=async ne=>{if(!i||i.uid!==ne.userId){alert("You can only delete your own comments.");return}try{const le=mn(Pt,"comics",h);e?await Ma(le,{[`chapters.${e}.comments`]:PS(ne)}):await Ma(le,{comments:PS(ne)})}catch(le){alert("Failed to delete comment: "+le.message)}},Ke=(ne=>Object.keys(ne||{}).map(le=>({key:le,num:parseInt(le.replace("Chapter",""),10)})).sort((le,N)=>le.num-N.num).map(le=>le.key))(d.chapters);return P.jsxs("div",{className:`w-full min-h-screen flex flex-col items-center ${u==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[R&&!i&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg max-w-md ${u==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign Up or Log In"}),P.jsx("button",{onClick:M,className:`w-full px-4 py-2 rounded-lg mb-4 ${u==="dark"?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white`,children:"Sign Up with Google"}),P.jsx("button",{onClick:()=>O(!1),className:`w-full px-4 py-2 rounded-lg ${u==="dark"?"bg-gray-600 hover:bg-gray-700":"bg-gray-400 hover:bg-gray-500"} text-white`,children:"Not Now"})]})}),P.jsxs("main",{className:"w-full max-w-4xl flex flex-col items-center py-8",children:[P.jsxs("div",{className:`w-full flex items-center justify-between px-6 py-4 mb-6 ${u==="dark"?"bg-gray-800":"bg-gray-200"}`,children:[P.jsx("button",{onClick:se,className:`px-4 py-2 rounded-lg ${u==="dark"?"bg-teal-800 hover:bg-teal-900":"bg-teal-600 hover:bg-teal-800"} text-white`,children:"Back to Home"}),P.jsx("div",{className:"relative flex-grow text-center max-w-xs mx-4",children:P.jsxs("select",{value:e||"",onChange:ne=>I(ne.target.value),className:`w-full px-4 py-2 rounded-lg shadow-md text-center font-medium transition-colors duration-200 focus:outline-none focus:ring-2 ${u==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600 focus:ring-teal-500":"bg-gray-300 text-gray-900 hover:bg-gray-400 focus:ring-teal-600"}`,children:[P.jsx("option",{value:"",disabled:!0,children:"Select Chapter"}),Ke.map(ne=>P.jsx("option",{value:ne,children:ne},ne))]})}),i&&a==="publisher"&&P.jsx("button",{onClick:L,className:`px-4 py-2 rounded-lg ${u==="dark"?"bg-teal-700 hover:bg-teal-800":"bg-teal-500 hover:bg-teal-600"} text-white`,children:"Upload Chapters"})]}),y?P.jsx("p",{children:"Loading..."}):E?P.jsx("p",{className:"text-red-400",children:E}):P.jsxs(P.Fragment,{children:[!e&&d.img&&P.jsxs("div",{className:"w-full max-w-md mb-8",children:[P.jsx("img",{src:d.img,alt:`${h} Cover`,className:"w-full rounded-lg shadow-xl object-contain hover:scale-105 transition-transform duration-300",loading:"lazy"}),P.jsxs("div",{className:"mt-4 text-center",children:[P.jsx("div",{className:"flex justify-center gap-2 mb-2",children:[1,2,3,4,5].map(ne=>P.jsx("span",{onClick:()=>D(ne),onDoubleClick:()=>j(ne),className:`text-4xl cursor-pointer ${ne<=S?"text-yellow-400":u==="dark"?"text-gray-500 hover:text-yellow-300":"text-gray-300 hover:text-yellow-400"}`,children:""},ne))}),P.jsx("p",{className:"text-sm",children:S>0?"Double-click to submit":"Rate this comic!"}),P.jsxs("p",{children:["Average Rating: ",C()," / 5 (",((ue=d.ratings)==null?void 0:ue.length)||0," ratings)"]})]})]}),!e&&d.description&&P.jsx("p",{className:"text-lg italic text-center max-w-2xl mb-8",children:d.description}),e?((de=d.chapters[e])==null?void 0:de.length)>0?P.jsx(P.Fragment,{children:d.chapters[e].map((ne,le)=>P.jsx("img",{src:ne,alt:`Page ${le+1}`,className:"w-full rounded-lg shadow-md",loading:"lazy"},le))}):P.jsx("p",{children:"No pages available for this chapter."}):Ke.length>0?P.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8 max-h-64 overflow-y-auto",children:Ke.map(ne=>P.jsx("button",{onClick:()=>I(ne),className:`px-4 py-2 rounded-lg ${u==="dark"?"bg-teal-700 hover:bg-teal-800":"bg-teal-600 hover:bg-teal-700"} text-white`,children:ne},ne))}):P.jsx("p",{children:"No chapters available."}),P.jsxs("div",{className:"w-full max-w-2xl mt-8",children:[P.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Comments ",e?`for ${e}`:"for Comic"]}),P.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4 mb-6",children:[P.jsx("textarea",{value:Z,onChange:ne=>Y(ne.target.value),placeholder:"Write a comment...",className:`w-full p-3 rounded-lg border focus:outline-none focus:ring-2 resize-none ${u==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,rows:"3"}),P.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg self-end ${u==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Post Comment"})]}),P.jsx("div",{className:"space-y-4",children:B.length>0?B.map((ne,le)=>P.jsxs("div",{className:`p-4 rounded-lg shadow-md flex justify-between items-start ${u==="dark"?"bg-gray-800":"bg-gray-200"}`,children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-sm font-semibold",children:ne.userName}),P.jsx("p",{children:ne.text}),P.jsx("p",{className:"text-xs text-gray-500",children:new Date(ne.timestamp).toLocaleString()})]}),i&&i.uid===ne.userId&&P.jsx("button",{onClick:()=>U(ne),className:`text-sm px-2 py-1 rounded-lg ${u==="dark"?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"Delete"})]},le)):P.jsx("p",{className:"text-gray-500",children:"No comments yet."})})]})]})]}),P.jsx("footer",{className:`w-full py-4 text-center ${u==="dark"?"bg-gray-950 text-gray-400":"bg-gray-200 text-gray-600"}`,children:P.jsx("p",{children:e?"End of Chapter":"Select a Chapter"})})]})}function T1(t,e){return function(){return t.apply(e,arguments)}}const{toString:pB}=Object.prototype,{getPrototypeOf:E0}=Object,{iterator:Qd,toStringTag:b1}=Symbol,Wd=(t=>e=>{const n=pB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=t=>(t=t.toLowerCase(),e=>Wd(e)===t),Xd=t=>e=>typeof e===t,{isArray:Cl}=Array,yc=Xd("undefined");function gB(t){return t!==null&&!yc(t)&&t.constructor!==null&&!yc(t.constructor)&&Nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const w1=Ri("ArrayBuffer");function yB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&w1(t.buffer),e}const vB=Xd("string"),Nn=Xd("function"),S1=Xd("number"),Zd=t=>t!==null&&typeof t=="object",_B=t=>t===!0||t===!1,Mf=t=>{if(Wd(t)!=="object")return!1;const e=E0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(b1 in t)&&!(Qd in t)},EB=Ri("Date"),TB=Ri("File"),bB=Ri("Blob"),wB=Ri("FileList"),SB=t=>Zd(t)&&Nn(t.pipe),AB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nn(t.append)&&((e=Wd(t))==="formdata"||e==="object"&&Nn(t.toString)&&t.toString()==="[object FormData]"))},RB=Ri("URLSearchParams"),[xB,CB,IB,DB]=["ReadableStream","Request","Response","Headers"].map(Ri),NB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),Cl(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let h;for(i=0;i<u;i++)h=l[i],e.call(null,t[h],h,t)}}function A1(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R1=t=>!yc(t)&&t!==ja;function Cy(){const{caseless:t}=R1(this)&&this||{},e={},n=(i,a)=>{const l=t&&A1(e,a)||a;Mf(e[l])&&Mf(i)?e[l]=Cy(e[l],i):Mf(i)?e[l]=Cy({},i):Cl(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Lc(arguments[i],n);return e}const PB=(t,e,n,{allOwnKeys:i}={})=>(Lc(e,(a,l)=>{n&&Nn(a)?t[l]=T1(a,n):t[l]=a},{allOwnKeys:i}),t),OB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MB=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},kB=(t,e,n,i)=>{let a,l,u;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)u=a[l],(!i||i(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&E0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},VB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},LB=t=>{if(!t)return null;if(Cl(t))return t;let e=t.length;if(!S1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&E0(Uint8Array)),jB=(t,e)=>{const i=(t&&t[Qd]).call(t);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},BB=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},FB=Ri("HTMLFormElement"),zB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),jS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),HB=Ri("RegExp"),x1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Lc(n,(a,l)=>{let u;(u=e(a,l,t))!==!1&&(i[l]=u||a)}),Object.defineProperties(t,i)},qB=t=>{x1(t,(e,n)=>{if(Nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Nn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GB=(t,e)=>{const n={},i=a=>{a.forEach(l=>{n[l]=!0})};return Cl(t)?i(t):i(String(t).split(e)),n},$B=()=>{},KB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function YB(t){return!!(t&&Nn(t.append)&&t[b1]==="FormData"&&t[Qd])}const QB=t=>{const e=new Array(10),n=(i,a)=>{if(Zd(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=Cl(i)?[]:{};return Lc(i,(u,h)=>{const d=n(u,a+1);!yc(d)&&(l[h]=d)}),e[a]=void 0,l}}return i};return n(t,0)},WB=Ri("AsyncFunction"),XB=t=>t&&(Zd(t)||Nn(t))&&Nn(t.then)&&Nn(t.catch),C1=((t,e)=>t?setImmediate:e?((n,i)=>(ja.addEventListener("message",({source:a,data:l})=>{a===ja&&l===n&&i.length&&i.shift()()},!1),a=>{i.push(a),ja.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nn(ja.postMessage)),ZB=typeof queueMicrotask<"u"?queueMicrotask.bind(ja):typeof process<"u"&&process.nextTick||C1,JB=t=>t!=null&&Nn(t[Qd]),X={isArray:Cl,isArrayBuffer:w1,isBuffer:gB,isFormData:AB,isArrayBufferView:yB,isString:vB,isNumber:S1,isBoolean:_B,isObject:Zd,isPlainObject:Mf,isReadableStream:xB,isRequest:CB,isResponse:IB,isHeaders:DB,isUndefined:yc,isDate:EB,isFile:TB,isBlob:bB,isRegExp:HB,isFunction:Nn,isStream:SB,isURLSearchParams:RB,isTypedArray:UB,isFileList:wB,forEach:Lc,merge:Cy,extend:PB,trim:NB,stripBOM:OB,inherits:MB,toFlatObject:kB,kindOf:Wd,kindOfTest:Ri,endsWith:VB,toArray:LB,forEachEntry:jB,matchAll:BB,isHTMLForm:FB,hasOwnProperty:jS,hasOwnProp:jS,reduceDescriptors:x1,freezeMethods:qB,toObjectSet:GB,toCamelCase:zB,noop:$B,toFiniteNumber:KB,findKey:A1,global:ja,isContextDefined:R1,isSpecCompliantForm:YB,toJSONObject:QB,isAsyncFn:WB,isThenable:XB,setImmediate:C1,asap:ZB,isIterable:JB};function Me(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}X.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const I1=Me.prototype,D1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{D1[t]={value:t}});Object.defineProperties(Me,D1);Object.defineProperty(I1,"isAxiosError",{value:!0});Me.from=(t,e,n,i,a,l)=>{const u=Object.create(I1);return X.toFlatObject(t,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,t.message,e,n,i,a),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const e5=null;function Iy(t){return X.isPlainObject(t)||X.isArray(t)}function N1(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function BS(t,e,n){return t?t.concat(e).map(function(a,l){return a=N1(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function t5(t){return X.isArray(t)&&!t.some(Iy)}const n5=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Jd(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,R){return!X.isUndefined(R[D])});const i=n.metaTokens,a=n.visitor||y,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(X.isDate(S))return S.toISOString();if(!d&&X.isBlob(S))throw new Me("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(S)||X.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,D,R){let O=S;if(S&&!R&&typeof S=="object"){if(X.endsWith(D,"{}"))D=i?D:D.slice(0,-2),S=JSON.stringify(S);else if(X.isArray(S)&&t5(S)||(X.isFileList(S)||X.endsWith(D,"[]"))&&(O=X.toArray(S)))return D=N1(D),O.forEach(function(F,Z){!(X.isUndefined(F)||F===null)&&e.append(u===!0?BS([D],Z,l):u===null?D:D+"[]",p(F))}),!1}return Iy(S)?!0:(e.append(BS(R,D,l),p(S)),!1)}const _=[],E=Object.assign(n5,{defaultVisitor:y,convertValue:p,isVisitable:Iy});function w(S,D){if(!X.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+D.join("."));_.push(S),X.forEach(S,function(O,B){(!(X.isUndefined(O)||O===null)&&a.call(e,O,X.isString(B)?B.trim():B,D,E))===!0&&w(O,D?D.concat(B):[B])}),_.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return w(t),e}function FS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function T0(t,e){this._pairs=[],t&&Jd(t,this,e)}const P1=T0.prototype;P1.append=function(e,n){this._pairs.push([e,n])};P1.toString=function(e){const n=e?function(i){return e.call(this,i,FS)}:FS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function i5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function O1(t,e,n){if(!e)return t;const i=n&&n.encode||i5;X.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=X.isURLSearchParams(e)?e.toString():new T0(e,n).toString(i),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class zS{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const M1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r5=typeof URLSearchParams<"u"?URLSearchParams:T0,s5=typeof FormData<"u"?FormData:null,a5=typeof Blob<"u"?Blob:null,o5={isBrowser:!0,classes:{URLSearchParams:r5,FormData:s5,Blob:a5},protocols:["http","https","file","blob","url","data"]},b0=typeof window<"u"&&typeof document<"u",Dy=typeof navigator=="object"&&navigator||void 0,l5=b0&&(!Dy||["ReactNative","NativeScript","NS"].indexOf(Dy.product)<0),u5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c5=b0&&window.location.href||"http://localhost",h5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:b0,hasStandardBrowserEnv:l5,hasStandardBrowserWebWorkerEnv:u5,navigator:Dy,origin:c5},Symbol.toStringTag,{value:"Module"})),gn={...h5,...o5};function f5(t,e){return Jd(t,new gn.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,l){return gn.isNode&&X.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function d5(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m5(t){const e={},n=Object.keys(t);let i;const a=n.length;let l;for(i=0;i<a;i++)l=n[i],e[l]=t[l];return e}function k1(t){function e(n,i,a,l){let u=n[l++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=l>=n.length;return u=!u&&X.isArray(a)?a.length:u,d?(X.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!h):((!a[u]||!X.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],l)&&X.isArray(a[u])&&(a[u]=m5(a[u])),!h)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(i,a)=>{e(d5(i),a,n,0)}),n}return null}function p5(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Uc={transitional:M1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,l=X.isObject(e);if(l&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return a?JSON.stringify(k1(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return f5(e,this.formSerializer).toString();if((h=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Jd(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),p5(e)):e}],transformResponse:[function(e){const n=this.transitional||Uc.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gn.classes.FormData,Blob:gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Uc.headers[t]={}});const g5=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y5=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&g5[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},HS=Symbol("internals");function ju(t){return t&&String(t).trim().toLowerCase()}function kf(t){return t===!1||t==null?t:X.isArray(t)?t.map(kf):String(t)}function v5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const _5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kg(t,e,n,i,a){if(X.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function E5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function T5(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,l,u){return this[i].call(this,e,a,l,u)},configurable:!0})})}let Pn=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function l(h,d,p){const y=ju(d);if(!y)throw new Error("header name must be a non-empty string");const _=X.findKey(a,y);(!_||a[_]===void 0||p===!0||p===void 0&&a[_]!==!1)&&(a[_||d]=kf(h))}const u=(h,d)=>X.forEach(h,(p,y)=>l(p,y,d));if(X.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(X.isString(e)&&(e=e.trim())&&!_5(e))u(y5(e),n);else if(X.isObject(e)&&X.isIterable(e)){let h={},d,p;for(const y of e){if(!X.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[p=y[0]]=(d=h[p])?X.isArray(d)?[...d,y[1]]:[d,y[1]]:y[1]}u(h,n)}else e!=null&&l(n,e,i);return this}get(e,n){if(e=ju(e),e){const i=X.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return v5(a);if(X.isFunction(n))return n.call(this,a,i);if(X.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ju(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||kg(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function l(u){if(u=ju(u),u){const h=X.findKey(i,u);h&&(!n||kg(i,i[h],h,n))&&(delete i[h],a=!0)}}return X.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const l=n[i];(!e||kg(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,i={};return X.forEach(this,(a,l)=>{const u=X.findKey(i,l);if(u){n[u]=kf(a),delete n[l];return}const h=e?E5(l):String(l).trim();h!==l&&delete n[l],n[h]=kf(a),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&X.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[HS]=this[HS]={accessors:{}}).accessors,a=this.prototype;function l(u){const h=ju(u);i[h]||(T5(a,u),i[h]=!0)}return X.isArray(e)?e.forEach(l):l(e),this}};Pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Pn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});X.freezeMethods(Pn);function Vg(t,e){const n=this||Uc,i=e||n,a=Pn.from(i.headers);let l=i.data;return X.forEach(t,function(h){l=h.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function V1(t){return!!(t&&t.__CANCEL__)}function Il(t,e,n){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(Il,Me,{__CANCEL__:!0});function L1(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function b5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function w5(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),y=i[l];u||(u=p),n[a]=d,i[a]=p;let _=l,E=0;for(;_!==a;)E+=n[_++],_=_%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-u<e)return;const w=y&&p-y;return w?Math.round(E*1e3/w):void 0}}function S5(t,e){let n=0,i=1e3/e,a,l;const u=(p,y=Date.now())=>{n=y,a=null,l&&(clearTimeout(l),l=null),t.apply(null,p)};return[(...p)=>{const y=Date.now(),_=y-n;_>=i?u(p,y):(a=p,l||(l=setTimeout(()=>{l=null,u(a)},i-_)))},()=>a&&u(a)]}const gd=(t,e,n=3)=>{let i=0;const a=w5(50,250);return S5(l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,d=u-i,p=a(d),y=u<=h;i=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:p||void 0,estimated:p&&h&&y?(h-u)/p:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(_)},n)},qS=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},GS=t=>(...e)=>X.asap(()=>t(...e)),A5=gn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,gn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(gn.origin),gn.navigator&&/(msie|trident)/i.test(gn.navigator.userAgent)):()=>!0,R5=gn.hasStandardBrowserEnv?{write(t,e,n,i,a,l){const u=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),X.isString(i)&&u.push("path="+i),X.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function x5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function C5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function U1(t,e,n){let i=!x5(e);return t&&(i||n==!1)?C5(t,e):e}const $S=t=>t instanceof Pn?{...t}:t;function Ya(t,e){e=e||{};const n={};function i(p,y,_,E){return X.isPlainObject(p)&&X.isPlainObject(y)?X.merge.call({caseless:E},p,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function a(p,y,_,E){if(X.isUndefined(y)){if(!X.isUndefined(p))return i(void 0,p,_,E)}else return i(p,y,_,E)}function l(p,y){if(!X.isUndefined(y))return i(void 0,y)}function u(p,y){if(X.isUndefined(y)){if(!X.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function h(p,y,_){if(_ in e)return i(p,y);if(_ in t)return i(void 0,p)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(p,y,_)=>a($S(p),$S(y),_,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=d[y]||a,E=_(t[y],e[y],y);X.isUndefined(E)&&_!==h||(n[y]=E)}),n}const j1=t=>{const e=Ya({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:h}=e;e.headers=u=Pn.from(u),e.url=O1(U1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(X.isFormData(n)){if(gn.hasStandardBrowserEnv||gn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[p,...y]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...y].join("; "))}}if(gn.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&A5(e.url))){const p=a&&l&&R5.read(l);p&&u.set(a,p)}return e},I5=typeof XMLHttpRequest<"u",D5=I5&&function(t){return new Promise(function(n,i){const a=j1(t);let l=a.data;const u=Pn.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:p}=a,y,_,E,w,S;function D(){w&&w(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(a.method.toUpperCase(),a.url,!0),R.timeout=a.timeout;function O(){if(!R)return;const F=Pn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),Y={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:F,config:t,request:R};L1(function(L){n(L),D()},function(L){i(L),D()},Y),R=null}"onloadend"in R?R.onloadend=O:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(O)},R.onabort=function(){R&&(i(new Me("Request aborted",Me.ECONNABORTED,t,R)),R=null)},R.onerror=function(){i(new Me("Network Error",Me.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let Z=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Y=a.transitional||M1;a.timeoutErrorMessage&&(Z=a.timeoutErrorMessage),i(new Me(Z,Y.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,R)),R=null},l===void 0&&u.setContentType(null),"setRequestHeader"in R&&X.forEach(u.toJSON(),function(Z,Y){R.setRequestHeader(Y,Z)}),X.isUndefined(a.withCredentials)||(R.withCredentials=!!a.withCredentials),h&&h!=="json"&&(R.responseType=a.responseType),p&&([E,S]=gd(p,!0),R.addEventListener("progress",E)),d&&R.upload&&([_,w]=gd(d),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(y=F=>{R&&(i(!F||F.type?new Il(null,t,R):F),R.abort(),R=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const B=b5(a.url);if(B&&gn.protocols.indexOf(B)===-1){i(new Me("Unsupported protocol "+B+":",Me.ERR_BAD_REQUEST,t));return}R.send(l||null)})},N5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const l=function(p){if(!a){a=!0,h();const y=p instanceof Error?p:this.reason;i.abort(y instanceof Me?y:new Il(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,l(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>X.asap(h),d}},P5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},O5=async function*(t,e){for await(const n of M5(t))yield*P5(n,e)},M5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},KS=(t,e,n,i)=>{const a=O5(t,e);let l=0,u,h=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:p,value:y}=await a.next();if(p){h(),d.close();return}let _=y.byteLength;if(n){let E=l+=_;n(E)}d.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},em=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B1=em&&typeof ReadableStream=="function",k5=em&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),F1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},V5=B1&&F1(()=>{let t=!1;const e=new Request(gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),YS=64*1024,Ny=B1&&F1(()=>X.isReadableStream(new Response("").body)),yd={stream:Ny&&(t=>t.body)};em&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yd[e]&&(yd[e]=X.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,i)})})})(new Response);const L5=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(gn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await k5(t)).byteLength},U5=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??L5(e)},j5=em&&(async t=>{let{url:e,method:n,data:i,signal:a,cancelToken:l,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:p,headers:y,withCredentials:_="same-origin",fetchOptions:E}=j1(t);p=p?(p+"").toLowerCase():"text";let w=N5([a,l&&l.toAbortSignal()],u),S;const D=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let R;try{if(d&&V5&&n!=="get"&&n!=="head"&&(R=await U5(y,i))!==0){let Y=new Request(e,{method:"POST",body:i,duplex:"half"}),se;if(X.isFormData(i)&&(se=Y.headers.get("content-type"))&&y.setContentType(se),Y.body){const[L,I]=qS(R,gd(GS(d)));i=KS(Y.body,YS,L,I)}}X.isString(_)||(_=_?"include":"omit");const O="credentials"in Request.prototype;S=new Request(e,{...E,signal:w,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:O?_:void 0});let B=await fetch(S);const F=Ny&&(p==="stream"||p==="response");if(Ny&&(h||F&&D)){const Y={};["status","statusText","headers"].forEach(C=>{Y[C]=B[C]});const se=X.toFiniteNumber(B.headers.get("content-length")),[L,I]=h&&qS(se,gd(GS(h),!0))||[];B=new Response(KS(B.body,YS,L,()=>{I&&I(),D&&D()}),Y)}p=p||"text";let Z=await yd[X.findKey(yd,p)||"text"](B,t);return!F&&D&&D(),await new Promise((Y,se)=>{L1(Y,se,{data:Z,headers:Pn.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:S})})}catch(O){throw D&&D(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,t,S),{cause:O.cause||O}):Me.from(O,O&&O.code,t,S)}}),Py={http:e5,xhr:D5,fetch:j5};X.forEach(Py,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const QS=t=>`- ${t}`,B5=t=>X.isFunction(t)||t===null||t===!1,z1={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,i;const a={};for(let l=0;l<e;l++){n=t[l];let u;if(i=n,!B5(n)&&(i=Py[(u=String(n)).toLowerCase()],i===void 0))throw new Me(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(QS).join(`
`):" "+QS(l[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Py};function Lg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Il(null,t)}function WS(t){return Lg(t),t.headers=Pn.from(t.headers),t.data=Vg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),z1.getAdapter(t.adapter||Uc.adapter)(t).then(function(i){return Lg(t),i.data=Vg.call(t,t.transformResponse,i),i.headers=Pn.from(i.headers),i},function(i){return V1(i)||(Lg(t),i&&i.response&&(i.response.data=Vg.call(t,t.transformResponse,i.response),i.response.headers=Pn.from(i.response.headers))),Promise.reject(i)})}const H1="1.9.0",tm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const XS={};tm.transitional=function(e,n,i){function a(l,u){return"[Axios v"+H1+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,h)=>{if(e===!1)throw new Me(a(u," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!XS[u]&&(XS[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,h):!0}};tm.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function F5(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const l=i[a],u=e[l];if(u){const h=t[l],d=h===void 0||u(h,l,t);if(d!==!0)throw new Me("option "+l+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+l,Me.ERR_BAD_OPTION)}}const Vf={assertOptions:F5,validators:tm},Hi=Vf.validators;let Fa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new zS,response:new zS}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ya(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:l}=n;i!==void 0&&Vf.assertOptions(i,{silentJSONParsing:Hi.transitional(Hi.boolean),forcedJSONParsing:Hi.transitional(Hi.boolean),clarifyTimeoutError:Hi.transitional(Hi.boolean)},!1),a!=null&&(X.isFunction(a)?n.paramsSerializer={serialize:a}:Vf.assertOptions(a,{encode:Hi.function,serialize:Hi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vf.assertOptions(n,{baseUrl:Hi.spelling("baseURL"),withXsrfToken:Hi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&X.merge(l.common,l[n.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),n.headers=Pn.concat(u,l);const h=[];let d=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(d=d&&D.synchronous,h.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let y,_=0,E;if(!d){const S=[WS.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,p),E=S.length,y=Promise.resolve(n);_<E;)y=y.then(S[_++],S[_++]);return y}E=h.length;let w=n;for(_=0;_<E;){const S=h[_++],D=h[_++];try{w=S(w)}catch(R){D.call(this,R);break}}try{y=WS.call(this,w)}catch(S){return Promise.reject(S)}for(_=0,E=p.length;_<E;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=Ya(this.defaults,e);const n=U1(e.baseURL,e.url,e.allowAbsoluteUrls);return O1(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Fa.prototype[e]=function(n,i){return this.request(Ya(i||{},{method:e,url:n,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(i){return function(l,u,h){return this.request(Ya(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Fa.prototype[e]=n(),Fa.prototype[e+"Form"]=n(!0)});let z5=class q1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(h=>{i.subscribe(h),l=h}).then(a);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,h){i.reason||(i.reason=new Il(l,u,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new q1(function(a){e=a}),cancel:e}}};function H5(t){return function(n){return t.apply(null,n)}}function q5(t){return X.isObject(t)&&t.isAxiosError===!0}const Oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oy).forEach(([t,e])=>{Oy[e]=t});function G1(t){const e=new Fa(t),n=T1(Fa.prototype.request,e);return X.extend(n,Fa.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return G1(Ya(t,a))},n}const _t=G1(Uc);_t.Axios=Fa;_t.CanceledError=Il;_t.CancelToken=z5;_t.isCancel=V1;_t.VERSION=H1;_t.toFormData=Jd;_t.AxiosError=Me;_t.Cancel=_t.CanceledError;_t.all=function(e){return Promise.all(e)};_t.spread=H5;_t.isAxiosError=q5;_t.mergeConfig=Ya;_t.AxiosHeaders=Pn;_t.formToJSON=t=>k1(X.isHTMLForm(t)?new FormData(t):t);_t.getAdapter=z1.getAdapter;_t.HttpStatusCode=Oy;_t.default=_t;const{Axios:Z5,AxiosError:J5,CanceledError:e3,isCancel:t3,CancelToken:n3,VERSION:i3,all:r3,Cancel:s3,isAxiosError:a3,spread:o3,toFormData:l3,AxiosHeaders:u3,HttpStatusCode:c3,formToJSON:h3,getAdapter:f3,mergeConfig:d3}=_t;function ZS(){var De;const{title:t}=Uy(),{currentUser:e,userRole:n}=Yd(),{theme:i}=V.useContext(Qa),[a,l]=V.useState(t||""),[u,h]=V.useState(""),[d,p]=V.useState([]),[y,_]=V.useState(!1),[E,w]=V.useState({}),[S,D]=V.useState(""),[R,O]=V.useState(!1),[B,F]=V.useState(0),[Z,Y]=V.useState(!1),[se,L]=V.useState(0);Wa();const I=V.useRef(null),C=V.useRef(null),M=V.useRef(null),[j,q]=V.useState(0),[U,Je]=V.useState(0),Ke="dzvd0wfym",ue="comic_upload",de=`https://api.cloudinary.com/v1_1/${Ke}/image/upload`,ne="https://weebos-1.onrender.com";if(!e||n!=="publisher")return P.jsx(gN,{to:"/"});V.useEffect(()=>{(async()=>{try{const Oe=(await dd(hd(Pt,"comics"))).docs.reduce((Te,at)=>(Te[at.data().title]=at.data(),Te),{});w(Oe)}catch(xe){console.error("Failed to fetch comics:",xe)}})()},[]),V.useEffect(()=>{C.current&&!R&&q(C.current.offsetWidth),M.current&&!Z&&Je(M.current.offsetWidth)},[R,Z]);const le=ge=>{ge.preventDefault(),ge.stopPropagation(),ge.type==="dragenter"||ge.type==="dragover"?_(!0):ge.type==="dragleave"&&_(!1)},N=ge=>{ge.preventDefault(),ge.stopPropagation(),_(!1);const Oe=Array.from(ge.dataTransfer.files).filter(Te=>Te.type.startsWith("image/"));Oe.length>0?p(Oe):alert("Please drop a folder containing images.")},te=ge=>{const Oe=Array.from(ge.target.files).filter(Te=>Te.type.startsWith("image/"));Oe.length>0?p(Oe):alert("Please select a folder containing images.")},me=()=>{var ge;(ge=I.current)==null||ge.click()},he=async ge=>{var Oe;if(ge.preventDefault(),!a){alert("Please select a comic to upload a chapter for.");return}const xe=`Chapter${u}`;if(!u||d.length===0){alert("Please fill the chapter number and drop a folder of images.");return}O(!0),F(0);try{const Te=mn(Pt,"comics",a),at=await Ua(Te);let Xt=0;const Ot=(Et,Tt,Gn)=>new Promise(rr=>{const kn=(Tt-Et)/(Gn/50),bt=setInterval(()=>{Xt=Math.min(Xt+kn,Tt),F(Math.round(Xt)),Xt>=Tt&&(clearInterval(bt),rr())},50)});await Ot(0,5,500),at.exists()?(Xt=10,F(10)):(await el(Te,{title:a,chapters:{},img:"",description:"A comic created via upload.",ratings:[],pages:[],info:"",genres:((Oe=E[a])==null?void 0:Oe.genres)||[]}),await Ot(5,10,500));const Zt=[...d].sort((Et,Tt)=>{var kn,bt;const Gn=parseInt(((kn=Et.name.match(/\d+/))==null?void 0:kn[0])||"0",10),rr=parseInt(((bt=Tt.name.match(/\d+/))==null?void 0:bt[0])||"0",10);return Gn-rr}),On=Zt.reduce((Et,Tt)=>Et+Tt.size,0);let Mn=0;const Zs=await Promise.all(Zt.map(async Et=>{const Tt=new FormData;Tt.append("file",Et),Tt.append("upload_preset",ue),Tt.append("folder",`comics/${a}/${xe}`),Tt.append("public_id",`${Zt.indexOf(Et)}-${Et.name}`);const Gn=await _t.post(de,Tt,{onUploadProgress:kn=>{const bt=kn.loaded,to=kn.total||Et.size,wt=bt/to*Et.size,fi=10+(Mn+wt)/On*80;F(Math.min(Math.round(fi),90))}});Mn+=Et.size;const rr=10+Mn/On*80;return F(Math.min(Math.round(rr),90)),Gn.data.secure_url}));await Ot(B,95,500),await Ma(Te,{[`chapters.${xe}`]:Zs}),await Ot(95,100,500);const qr=await Ua(Te);w(Et=>({...Et,[a]:qr.data()})),alert("Chapter uploaded successfully!"),h(""),p([])}catch(Te){console.error("Upload failed:",Te),Te.response&&console.error("Error response:",Te.response.data),alert(`Failed to upload chapter: ${Te.message}`)}finally{O(!1),F(0)}},fe=async()=>{if(!a||!S){alert("Please select a comic and chapter to delete.");return}Y(!0),L(0);try{const ge=(Oe,Te,at)=>new Promise(Xt=>{const Ot=(Te-Oe)/(at/50);let Zt=Oe;const On=setInterval(()=>{Zt=Math.min(Zt+Ot,Te),L(Math.round(Zt)),Zt>=Te&&(clearInterval(On),Xt())},50)});await ge(0,30,1e3),await _t.delete(`${ne}/delete-chapter`,{data:{comicName:a,chapterNum:S}}),await ge(30,70,1e3);const xe=mn(Pt,"comics",a);await Ma(xe,{[`chapters.Chapter${S}`]:M9()}),await ge(70,90,500),w(Oe=>{const Te={...Oe[a].chapters};return delete Te[`Chapter${S}`],{...Oe,[a]:{...Oe[a],chapters:Te}}}),await ge(90,100,500),alert("Chapter deleted successfully!"),D("")}catch(ge){console.error("Delete failed:",ge);let xe="Failed to delete chapter";ge.code==="ERR_NETWORK"?xe="Network error: Could not connect to the backend server. Please check if the server is running.":ge.response&&(xe=`Server error: ${ge.response.data.error||ge.message}`),alert(`${xe}. Please try again or contact support.`)}finally{Y(!1),L(0)}},Ie=ge=>Object.keys(ge||{}).sort((xe,Oe)=>{const Te=parseInt(xe.replace("Chapter",""),10),at=parseInt(Oe.replace("Chapter",""),10);return Te-at});return P.jsxs("div",{className:`w-full min-h-screen flex flex-col items-center py-8 ${i==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[P.jsx("h1",{className:`text-3xl font-bold font-nunito mb-8 ${i==="dark"?"text-white":"text-gray-900"}`,children:"Manage Comic Chapters"}),P.jsxs("div",{className:"w-full max-w-md flex flex-col gap-6",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"selectComic",className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:"Select Comic"}),P.jsxs("select",{id:"selectComic",value:a,onChange:ge=>{l(ge.target.value),h(""),p([]),D("")},className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${i==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,children:[P.jsx("option",{value:"",children:"-- Select a Comic --"}),Object.keys(E).map(ge=>P.jsx("option",{value:ge,children:ge},ge))]})]}),a&&P.jsxs(P.Fragment,{children:[P.jsxs("form",{onSubmit:he,className:"w-full flex flex-col gap-6",children:[P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"chapterNum",className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:["Chapter Number (for ",a,")"]}),P.jsx("input",{id:"chapterNum",type:"number",value:u,onChange:ge=>h(ge.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${i==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,placeholder:"e.g., 1",min:"1"})]}),P.jsxs("div",{children:[P.jsx("label",{className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:"Upload Image Folder"}),P.jsx("div",{className:`w-full h-40 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer ${y?"border-teal-500 bg-teal-900 bg-opacity-20":i==="dark"?"border-gray-600 text-gray-400":"border-gray-400 text-gray-600"}`,onDragEnter:le,onDragLeave:le,onDragOver:le,onDrop:N,onClick:me,children:d.length>0?P.jsxs("p",{children:[d.length," images selected"]}):P.jsx("p",{children:"Drag and drop a folder of images here or click to select"})}),P.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:I,onChange:te,className:"hidden",webkitdirectory:"true"})]}),P.jsx("button",{type:"submit",disabled:R,ref:C,style:R?{width:`${j}px`}:{},className:`w-full px-6 py-3 rounded-lg transition-colors duration-300 shadow-md relative overflow-hidden ${i==="dark"?`bg-teal-600 text-white hover:bg-teal-700 ${R?"bg-transparent":""}`:`bg-teal-500 text-white hover:bg-teal-600 ${R?"bg-transparent":""}`}`,children:R?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"absolute inset-0 bg-gray-500 transition-all duration-300",style:{width:`${B}%`,minWidth:"100%"}}),P.jsxs("span",{className:"relative z-10 text-white",children:[B,"%"]})]}):"Upload Chapter"})]}),P.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[P.jsx("h2",{className:`text-2xl font-bold font-nunito ${i==="dark"?"text-white":"text-gray-900"}`,children:"Delete a Chapter"}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"deleteChapter",className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:["Select Chapter to Delete (from ",a,")"]}),P.jsxs("select",{id:"deleteChapter",value:S,onChange:ge=>D(ge.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${i==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,children:[P.jsx("option",{value:"",children:"-- Select a Chapter --"}),Ie((De=E[a])==null?void 0:De.chapters).map(ge=>P.jsx("option",{value:ge.replace("Chapter",""),children:ge},ge))]})]}),P.jsx("button",{onClick:fe,disabled:Z,ref:M,style:Z?{width:`${U}px`}:{},className:`w-full px-6 py-3 rounded-lg transition-colors duration-300 shadow-md relative overflow-hidden ${i==="dark"?`bg-red-600 text-white hover:bg-red-700 ${Z?"bg-transparent":""}`:`bg-red-500 text-white hover:bg-red-600 ${Z?"bg-transparent":""}`}`,children:Z?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"absolute inset-0 bg-gray-500 transition-all duration-300",style:{width:`${se}%`,minWidth:"100%"}}),P.jsxs("span",{className:"relative z-10 text-white",children:[se,"%"]})]}):"Delete Chapter"})]})]})]})]})}const G5=()=>{const{theme:t}=V.useContext(Qa);return P.jsx("footer",{className:`w-full py-6 ${t==="dark"?"bg-gray-950 text-gray-400":"bg-gray-200 text-gray-600"}`,children:P.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center",children:[P.jsxs("div",{className:"text-center md:text-left",children:[P.jsx("h2",{className:"text-lg font-bold",children:"Weebos"}),P.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," Weebos. All rights reserved."]})]}),P.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[P.jsx("a",{href:"/about",className:"hover:underline",children:"About"}),P.jsx("a",{href:"/contact",className:"hover:underline",children:"Contact"}),P.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms"}),P.jsx("a",{href:"/privacy",className:"hover:underline",children:"Privacy"})]}),P.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[P.jsx("a",{href:"#",className:"hover:underline",children:" Twitter"}),P.jsx("a",{href:"#",className:"hover:underline",children:" Facebook"}),P.jsx("a",{href:"#",className:"hover:underline",children:" Instagram"})]})]})})};function $5(){const{genre:t}=Uy(),e=Wa(),{theme:n}=V.useContext(Qa),i=decodeURIComponent(t||""),[a,l]=V.useState([]),[u,h]=V.useState(!0),[d,p]=V.useState(null);V.useEffect(()=>{(async()=>{try{h(!0);const D=(await dd(hd(Pt,"comics"))).docs.map(R=>R.data()).filter(R=>{var O;return(O=R.genres)==null?void 0:O.includes(i)});l(D),h(!1)}catch(w){console.error("Error fetching comics:",w),p("Failed to load comics. Please try again later."),h(!1)}})()},[i]);const y=E=>{e(`/comic/${encodeURIComponent(E.title)}`)},_=()=>e("/");return u?P.jsx("div",{className:`flex flex-col min-h-screen ${n==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:P.jsx("p",{className:"text-center mt-8",children:"Loading comics..."})}):d?P.jsxs("div",{className:`flex flex-col min-h-screen ${n==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[P.jsx("p",{className:"text-center mt-8 text-red-400",children:d}),P.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 mx-auto px-4 py-2 bg-teal-600 text-white rounded-lg",children:"Retry"})]}):P.jsx("div",{className:`flex flex-col min-h-screen ${n==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:P.jsx("main",{className:"w-full flex-grow flex flex-col items-center py-8",children:P.jsxs("div",{className:"w-full max-w-5xl px-6",children:[P.jsx("button",{onClick:_,className:`mb-6 px-4 py-2 rounded-lg ${n==="dark"?"bg-teal-700 hover:bg-teal-800 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Back to Home"}),P.jsxs("h1",{className:"text-3xl font-bold mb-6 text-center",children:[i," Comics"]}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:a.length>0?a.map(E=>P.jsx(Ad,{comic:E,onClick:y,theme:n},E.title)):P.jsx("p",{className:"col-span-full text-center",children:"No comics available in this genre."})})]})})})}function K5(){return console.log("App rendered"),P.jsxs(xD,{children:[P.jsx(mB,{}),P.jsxs(vN,{children:[P.jsx(Na,{path:"/",element:P.jsx(dB,{})}),P.jsx(Na,{path:"/comic/:title",element:P.jsx(US,{})}),P.jsx(Na,{path:"/comic/:title/:chapter",element:P.jsx(US,{})}),P.jsx(Na,{path:"/upload",element:P.jsx(ZS,{})}),P.jsx(Na,{path:"/upload/:title",element:P.jsx(ZS,{})}),P.jsx(Na,{path:"/genre/:genre",element:P.jsx($5,{})})," "]}),P.jsx(G5,{})]})}RD.createRoot(document.getElementById("root")).render(P.jsx(fB,{children:P.jsx(FN,{children:P.jsx(K5,{})})}));
