(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function QS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zp={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function hD(){if(bT)return Pu;bT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Pu.Fragment=e,Pu.jsx=n,Pu.jsxs=n,Pu}var wT;function fD(){return wT||(wT=1,Zp.exports=hD()),Zp.exports}var P=fD(),Jp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function dD(){if(ST)return Oe;ST=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function R(N,te,pe){this.props=N,this.context=te,this.refs=D,this.updater=pe||w}R.prototype.isReactComponent={},R.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=R.prototype;function B(N,te,pe){this.props=N,this.context=te,this.refs=D,this.updater=pe||w}var F=B.prototype=new O;F.constructor=B,S(F,R.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,Y={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function L(N,te,pe,fe,de,xe){return pe=xe.ref,{$$typeof:t,type:N,key:te,ref:pe!==void 0?pe:null,props:xe}}function I(N,te){return L(N.type,te,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function M(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(pe){return te[pe]})}var j=/\/+/g;function q(N,te){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):te.toString(36)}function U(){}function Je(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(U,U):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ke(N,te,pe,fe,de){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(xe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case t:case e:he=!0;break;case y:return he=N._init,Ke(he(N._payload),te,pe,fe,de)}}if(he)return de=de(N),he=fe===""?"."+q(N,0):fe,Z(de)?(pe="",he!=null&&(pe=he.replace(j,"$&/")+"/"),Ke(de,te,pe,"",function(Pe){return Pe})):de!=null&&(C(de)&&(de=I(de,pe+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(j,"$&/")+"/")+he)),te.push(de)),1;he=0;var Ue=fe===""?".":fe+":";if(Z(N))for(var be=0;be<N.length;be++)fe=N[be],xe=Ue+q(fe,be),he+=Ke(fe,te,pe,xe,de);else if(be=E(N),typeof be=="function")for(N=be.call(N),be=0;!(fe=N.next()).done;)fe=fe.value,xe=Ue+q(fe,be++),he+=Ke(fe,te,pe,xe,de);else if(xe==="object"){if(typeof N.then=="function")return Ke(Je(N),te,pe,fe,de);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return he}function ue(N,te,pe){if(N==null)return N;var fe=[],de=0;return Ke(N,fe,"","",function(xe){return te.call(pe,xe,de++)}),fe}function me(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(pe){(N._status===0||N._status===-1)&&(N._status=1,N._result=pe)},function(pe){(N._status===0||N._status===-1)&&(N._status=2,N._result=pe)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function le(){}return Oe.Children={map:ue,forEach:function(N,te,pe){ue(N,function(){te.apply(this,arguments)},pe)},count:function(N){var te=0;return ue(N,function(){te++}),te},toArray:function(N){return ue(N,function(te){return te})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Oe.Component=R,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=B,Oe.StrictMode=i,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(N){return function(){return N.apply(null,arguments)}},Oe.cloneElement=function(N,te,pe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var fe=S({},N.props),de=N.key,xe=void 0;if(te!=null)for(he in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(de=""+te.key),te)!se.call(te,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&te.ref===void 0||(fe[he]=te[he]);var he=arguments.length-2;if(he===1)fe.children=pe;else if(1<he){for(var Ue=Array(he),be=0;be<he;be++)Ue[be]=arguments[be+2];fe.children=Ue}return L(N.type,de,void 0,void 0,xe,fe)},Oe.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Oe.createElement=function(N,te,pe){var fe,de={},xe=null;if(te!=null)for(fe in te.key!==void 0&&(xe=""+te.key),te)se.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=te[fe]);var he=arguments.length-2;if(he===1)de.children=pe;else if(1<he){for(var Ue=Array(he),be=0;be<he;be++)Ue[be]=arguments[be+2];de.children=Ue}if(N&&N.defaultProps)for(fe in he=N.defaultProps,he)de[fe]===void 0&&(de[fe]=he[fe]);return L(N,xe,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:h,render:N}},Oe.isValidElement=C,Oe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:me}},Oe.memo=function(N,te){return{$$typeof:p,type:N,compare:te===void 0?null:te}},Oe.startTransition=function(N){var te=Y.T,pe={};Y.T=pe;try{var fe=N(),de=Y.S;de!==null&&de(pe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,ne)}catch(xe){ne(xe)}finally{Y.T=te}},Oe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Oe.use=function(N){return Y.H.use(N)},Oe.useActionState=function(N,te,pe){return Y.H.useActionState(N,te,pe)},Oe.useCallback=function(N,te){return Y.H.useCallback(N,te)},Oe.useContext=function(N){return Y.H.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N,te){return Y.H.useDeferredValue(N,te)},Oe.useEffect=function(N,te){return Y.H.useEffect(N,te)},Oe.useId=function(){return Y.H.useId()},Oe.useImperativeHandle=function(N,te,pe){return Y.H.useImperativeHandle(N,te,pe)},Oe.useInsertionEffect=function(N,te){return Y.H.useInsertionEffect(N,te)},Oe.useLayoutEffect=function(N,te){return Y.H.useLayoutEffect(N,te)},Oe.useMemo=function(N,te){return Y.H.useMemo(N,te)},Oe.useOptimistic=function(N,te){return Y.H.useOptimistic(N,te)},Oe.useReducer=function(N,te,pe){return Y.H.useReducer(N,te,pe)},Oe.useRef=function(N){return Y.H.useRef(N)},Oe.useState=function(N){return Y.H.useState(N)},Oe.useSyncExternalStore=function(N,te,pe){return Y.H.useSyncExternalStore(N,te,pe)},Oe.useTransition=function(){return Y.H.useTransition()},Oe.version="19.0.0",Oe}var AT;function Py(){return AT||(AT=1,Jp.exports=dD()),Jp.exports}var k=Py(),eg={exports:{}},Ou={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function mD(){return RT||(RT=1,function(t){function e(ue,me){var ne=ue.length;ue.push(me);e:for(;0<ne;){var le=ne-1>>>1,N=ue[le];if(0<a(N,me))ue[le]=me,ue[ne]=N,ne=le;else break e}}function n(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var me=ue[0],ne=ue.pop();if(ne!==me){ue[0]=ne;e:for(var le=0,N=ue.length,te=N>>>1;le<te;){var pe=2*(le+1)-1,fe=ue[pe],de=pe+1,xe=ue[de];if(0>a(fe,ne))de<N&&0>a(xe,fe)?(ue[le]=xe,ue[de]=ne,le=de):(ue[le]=fe,ue[pe]=ne,le=pe);else if(de<N&&0>a(xe,ne))ue[le]=xe,ue[de]=ne,le=de;else break e}}return me}function a(ue,me){var ne=ue.sortIndex-me.sortIndex;return ne!==0?ne:ue.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,_=null,E=3,w=!1,S=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function F(ue){for(var me=n(p);me!==null;){if(me.callback===null)i(p);else if(me.startTime<=ue)i(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function Z(ue){if(D=!1,F(ue),!S)if(n(d)!==null)S=!0,Je();else{var me=n(p);me!==null&&Ke(Z,me.startTime-ue)}}var Y=!1,se=-1,L=5,I=-1;function C(){return!(t.unstable_now()-I<L)}function M(){if(Y){var ue=t.unstable_now();I=ue;var me=!0;try{e:{S=!1,D&&(D=!1,O(se),se=-1),w=!0;var ne=E;try{t:{for(F(ue),_=n(d);_!==null&&!(_.expirationTime>ue&&C());){var le=_.callback;if(typeof le=="function"){_.callback=null,E=_.priorityLevel;var N=le(_.expirationTime<=ue);if(ue=t.unstable_now(),typeof N=="function"){_.callback=N,F(ue),me=!0;break t}_===n(d)&&i(d),F(ue)}else i(d);_=n(d)}if(_!==null)me=!0;else{var te=n(p);te!==null&&Ke(Z,te.startTime-ue),me=!1}}break e}finally{_=null,E=ne,w=!1}me=void 0}}finally{me?j():Y=!1}}}var j;if(typeof B=="function")j=function(){B(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=M,j=function(){U.postMessage(null)}}else j=function(){R(M,0)};function Je(){Y||(Y=!0,j())}function Ke(ue,me){se=R(function(){ue(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,Je())},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ue){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ne=E;E=me;try{return ue()}finally{E=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,me){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ne=E;E=ue;try{return me()}finally{E=ne}},t.unstable_scheduleCallback=function(ue,me,ne){var le=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,ue){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ne+N,ue={id:y++,callback:me,priorityLevel:ue,startTime:ne,expirationTime:N,sortIndex:-1},ne>le?(ue.sortIndex=ne,e(p,ue),n(d)===null&&ue===n(p)&&(D?(O(se),se=-1):D=!0,Ke(Z,ne-le))):(ue.sortIndex=N,e(d,ue),S||w||(S=!0,Je())),ue},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(ue){var me=E;return function(){var ne=E;E=me;try{return ue.apply(this,arguments)}finally{E=ne}}}}(ng)),ng}var xT;function pD(){return xT||(xT=1,tg.exports=mD()),tg.exports}var ig={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function gD(){if(CT)return rn;CT=1;var t=Py();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},rn.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},rn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},rn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},rn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},rn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},rn.requestFormReset=function(d){i.d.r(d)},rn.unstable_batchedUpdates=function(d,p){return d(p)},rn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},rn.version="19.0.0",rn}var IT;function yD(){if(IT)return ig.exports;IT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=gD(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function vD(){if(DT)return Ou;DT=1;var t=pD(),e=Py(),n=yD();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case d:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case S:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,j,q;function U(r){if(j===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||"",q=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+r+q}var Je=!1;function Ke(r,s){if(!r||Je)return"";Je=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Q=J}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(J){Q=J}r.call(ae.prototype)}}else{try{throw Error()}catch(J){Q=J}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var V=b.split(`
`),H=A.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===H.length)for(c=V.length-1,m=H.length-1;1<=c&&0<=m&&V[c]!==H[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==H[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==H[m]){var ee=`
`+V[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Je=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?U(o):""}function ue(r){switch(r.tag){case 26:case 27:case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return r=Ke(r.type,!1),r;case 11:return r=Ke(r.type.render,!1),r;case 1:return r=Ke(r.type,!0),r;default:return""}}function me(r){try{var s="";do s+=ue(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ne(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function le(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function N(r){if(ne(r)!==r)throw Error(i(188))}function te(r){var s=r.alternate;if(!s){if(s=ne(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return N(m),r;if(g===c)return N(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=g;break}if(A===c){b=!0,c=m,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=m;break}if(A===c){b=!0,c=g,o=m;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function pe(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=pe(r),s!==null)return s;r=r.sibling}return null}var fe=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},he=[],Ue=-1;function be(r){return{current:r}}function Pe(r){0>Ue||(r.current=he[Ue],he[Ue]=null,Ue--)}function ke(r,s){Ue++,he[Ue]=r.current,r.current=s}var Ut=be(null),bi=be(null),En=be(null),ai=be(null);function wi(r,s){switch(ke(En,s),ke(bi,r),ke(Ut,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?XE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=XE(r),s=ZE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Pe(Ut),ke(Ut,s)}function oi(){Pe(Ut),Pe(bi),Pe(En)}function jn(r){r.memoizedState!==null&&ke(ai,r);var s=Ut.current,o=ZE(s,r.type);s!==o&&(ke(bi,r),ke(Ut,o))}function Si(r){bi.current===r&&(Pe(Ut),Pe(bi)),ai.current===r&&(Pe(ai),xu._currentValue=xe)}var Tn=Object.prototype.hasOwnProperty,li=t.unstable_scheduleCallback,nr=t.unstable_cancelCallback,Za=t.unstable_shouldYield,Cl=t.unstable_requestPaint,bn=t.unstable_now,Lc=t.unstable_getCurrentPriorityLevel,Ct=t.unstable_ImmediatePriority,jt=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,Uc=t.unstable_LowPriority,Il=t.unstable_IdlePriority,tm=t.log,Zs=t.unstable_setDisableYieldValue,qr=null,tn=null;function Dl(r){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qr,r,void 0,(r.current.flags&128)===128)}catch{}}function Ai(r){if(typeof tm=="function"&&Zs(r),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(qr,r)}catch{}}var dn=Math.clz32?Math.clz32:Bc,Nl=Math.log,jc=Math.LN2;function Bc(r){return r>>>=0,r===0?32:31-(Nl(r)/jc|0)|0}var Ri=128,$r=4194304;function ui(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Bn(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,m=r.suspendedLanes,g=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~m,o!==0?c=ui(o):(g&=A,g!==0?c=ui(g):r||(b=A&~b,b!==0&&(c=ui(b))))):(A=o&~m,A!==0?c=ui(A):g!==0?c=ui(g):r||(b=o&~b,b!==0&&(c=ui(b)))),c===0?0:s!==0&&s!==c&&!(s&m)&&(m=c&-c,b=s&-s,m>=b||m===32&&(b&4194176)!==0)?s:c}function Gr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ja(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var r=Ri;return Ri<<=1,!(Ri&4194176)&&(Ri=128),r}function Kr(){var r=$r;return $r<<=1,!($r&62914560)&&($r=4194304),r}function eo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function _t(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Fc(r,s,o,c,m,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,H=r.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-dn(o),ae=1<<ee;A[ee]=0,V[ee]=-1;var Q=H[ee];if(Q!==null)for(H[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}o&=~ae}c!==0&&Yr(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function Yr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-dn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function Qr(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-dn(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function zc(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Hc(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:gT(r.type))}function Wr(r,s){var o=de.p;try{return de.p=r,s()}finally{de.p=o}}var xi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+xi,It="__reactProps$"+xi,rr="__reactContainer$"+xi,Js="__reactEvents$"+xi,to="__reactListeners$"+xi,Ci="__reactHandles$"+xi,Ol="__reactResources$"+xi,Xr="__reactMarker$"+xi;function ea(r){delete r[Bt],delete r[It],delete r[Js],delete r[to],delete r[Ci]}function ci(r){var s=r[Bt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[rr]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=tT(r);r!==null;){if(o=r[Bt])return o;r=tT(r)}return s}r=o,o=r.parentNode}return null}function sr(r){if(r=r[Bt]||r[rr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Zr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Jr(r){var s=r[Ol];return s||(s=r[Ol]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(r){r[Xr]=!0}var Ml=new Set,no={};function Dn(r,s){wn(r,s),wn(r+"Capture",s)}function wn(r,s){for(no[r]=s,r=0;r<s.length;r++)Ml.add(s[r])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function qc(r){return Tn.call(kl,r)?!0:Tn.call(Vl,r)?!1:nm.test(r)?kl[r]=!0:(Vl[r]=!0,!1)}function es(r,s,o){if(qc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ts(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Fn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $c(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function im(r){var s=$c(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ta(r){r._valueTracker||(r._valueTracker=im(r))}function Ll(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=$c(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function io(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ar=/[\n"\\]/g;function dt(r){return r.replace(ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ns(r,s,o,c,m,g,b,A){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+mn(s)):r.value!==""+mn(s)&&(r.value=""+mn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?ro(r,b,mn(s)):o!=null?ro(r,b,mn(o)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+mn(A):r.removeAttribute("name")}function na(r,s,o,c,m,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+mn(o):"",s=s!=null?""+mn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function ro(r,s,o){s==="number"&&io(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ye(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+mn(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function ia(r,s,o){if(s!=null&&(s=""+mn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+mn(o):""}function is(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(fe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=mn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function zn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var rm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||rm.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Gc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Ul(r,m,c)}else for(var g in s)s.hasOwnProperty(g)&&Ul(r,g,s[g])}function jl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),am=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(r){return am.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Hn=null;function so(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var or=null,lr=null;function ur(r){var s=sr(r);if(s&&(r=s.stateNode)){var o=r[It]||null;e:switch(r=s.stateNode,s.type){case"input":if(ns(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[It]||null;if(!m)throw Error(i(90));ns(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Ll(c)}break e;case"textarea":ia(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ye(r,!!o.multiple,s,!1)}}}var Bl=!1;function Kc(r,s,o){if(Bl)return r(s,o);Bl=!0;try{var c=r(s);return c}finally{if(Bl=!1,(or!==null||lr!==null)&&(Uh(),or&&(s=or,r=lr,lr=or=null,ur(s),r)))for(s=0;s<r.length;s++)ur(r[s])}}function ra(r,s){var o=r.stateNode;if(o===null)return null;var c=o[It]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var qn=!1;if(Nn)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){qn=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{qn=!1}var Di=null,rs=null,cr=null;function Fl(){if(cr)return cr;var r,s=rs,o=s.length,c,m="value"in Di?Di.value:Di.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var b=o-r;for(c=1;c<=b&&s[o-c]===m[g-c];c++);return cr=m.slice(r,1<c?1-c:void 0)}function Ni(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pi(){return!0}function zl(){return!1}function Ft(r){function s(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pi:zl,this.isPropagationStopped=zl,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Ft(Xe),aa=M({},Xe,{view:0,detail:0}),Yc=Ft(aa),oo,lo,Oi,oa=M({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oi&&(Oi&&r.type==="mousemove"?(oo=r.screenX-Oi.screenX,lo=r.screenY-Oi.screenY):lo=oo=0,Oi=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:lo}}),$n=Ft(oa),Qc=M({},oa,{dataTransfer:0}),om=Ft(Qc),la=M({},aa,{relatedTarget:0}),uo=Ft(la),Hl=M({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Ft(Hl),Wc=M({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ho=Ft(Wc),lm=M({},Xe,{data:0}),ql=Ft(lm),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Zc[r])?!!s[r]:!1}function ca(){return $l}var Jc=M({},aa,{key:function(r){if(r.key){var s=ua[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ni(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?Ni(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ni(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fo=Ft(Jc),eh=M({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=Ft(eh),hr=M({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),th=Ft(hr),nh=M({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ih=Ft(nh),rh=M({},oa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=Ft(rh),pn=M({},Xe,{newState:0,oldState:0}),sh=Ft(pn),ah=[9,13,27,32],Mi=Nn&&"CompositionEvent"in window,f=null;Nn&&"documentMode"in document&&(f=document.documentMode);var v=Nn&&"TextEvent"in window&&!f,T=Nn&&(!Mi||f&&8<f&&11>=f),x=" ",G=!1;function W(r,s){switch(r){case"keyup":return ah.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function Dt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(G=!0,x);case"textInput":return r=s.data,r===x&&G?null:r;default:return null}}function qe(r,s){if(He)return r==="compositionend"||!Mi&&W(r,s)?(r=Fl(),cr=rs=Di=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!zt[r.type]:s==="textarea"}function fr(r,s,o,c){or?lr?lr.push(c):lr=[c]:or=c,s=Hh(s,"onChange"),0<s.length&&(o=new ao("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Kt=null,Vi=null;function Kl(r){GE(r,0)}function oh(r){var s=Zr(r);if(Ll(s))return r}function T0(r,s){if(r==="change")return s}var b0=!1;if(Nn){var um;if(Nn){var cm="oninput"in document;if(!cm){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),cm=typeof w0.oninput=="function"}um=cm}else um=!1;b0=um&&(!document.documentMode||9<document.documentMode)}function S0(){Kt&&(Kt.detachEvent("onpropertychange",A0),Vi=Kt=null)}function A0(r){if(r.propertyName==="value"&&oh(Vi)){var s=[];fr(s,Vi,r,so(r)),Kc(Kl,s)}}function F1(r,s,o){r==="focusin"?(S0(),Kt=s,Vi=o,Kt.attachEvent("onpropertychange",A0)):r==="focusout"&&S0()}function z1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return oh(Vi)}function H1(r,s){if(r==="click")return oh(s)}function q1(r,s){if(r==="input"||r==="change")return oh(s)}function $1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Pn=typeof Object.is=="function"?Object.is:$1;function Yl(r,s){if(Pn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Tn.call(s,m)||!Pn(r[m],s[m]))return!1}return!0}function R0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function x0(r,s){var o=R0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=R0(o)}}function C0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?C0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function I0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=io(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=io(r.document)}return s}function hm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function G1(r,s){var o=I0(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&C0(s.ownerDocument.documentElement,s)){if(c!==null&&hm(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,g=Math.min(c.start,m);c=c.end===void 0?g:Math.min(c.end,m),!o.extend&&g>c&&(m=c,c=g,g=m),m=x0(s,g);var b=x0(s,c);m&&b&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var K1=Nn&&"documentMode"in document&&11>=document.documentMode,po=null,fm=null,Ql=null,dm=!1;function D0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dm||po==null||po!==io(c)||(c=po,"selectionStart"in c&&hm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ql&&Yl(Ql,c)||(Ql=c,c=Hh(fm,"onSelect"),0<c.length&&(s=new ao("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=po)))}function ha(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var go={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},mm={},N0={};Nn&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function fa(r){if(mm[r])return mm[r];if(!go[r])return r;var s=go[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in N0)return mm[r]=s[o];return r}var P0=fa("animationend"),O0=fa("animationiteration"),M0=fa("animationstart"),Y1=fa("transitionrun"),Q1=fa("transitionstart"),W1=fa("transitioncancel"),V0=fa("transitionend"),k0=new Map,L0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function hi(r,s){k0.set(r,s),Dn(s,[r])}var Gn=[],yo=0,pm=0;function lh(){for(var r=yo,s=pm=yo=0;s<r;){var o=Gn[s];Gn[s++]=null;var c=Gn[s];Gn[s++]=null;var m=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&U0(o,m,g)}}function uh(r,s,o,c){Gn[yo++]=r,Gn[yo++]=s,Gn[yo++]=o,Gn[yo++]=c,pm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function gm(r,s,o,c){return uh(r,s,o,c),ch(r)}function ss(r,s){return uh(r,null,null,s),ch(r)}function U0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;m&&s!==null&&r.tag===3&&(g=r.stateNode,m=31-dn(o),g=g.hiddenUpdates,r=g[m],r===null?g[m]=[s]:r.push(s),s.lane=o|536870912)}function ch(r){if(50<Eu)throw Eu=0,bp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var vo={},j0=new WeakMap;function Kn(r,s){if(typeof r=="object"&&r!==null){var o=j0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:me(s)},j0.set(r,s),s)}return{value:r,source:s,stack:me(s)}}var _o=[],Eo=0,hh=null,fh=0,Yn=[],Qn=0,da=null,dr=1,mr="";function ma(r,s){_o[Eo++]=fh,_o[Eo++]=hh,hh=r,fh=s}function B0(r,s,o){Yn[Qn++]=dr,Yn[Qn++]=mr,Yn[Qn++]=da,da=r;var c=dr;r=mr;var m=32-dn(c)-1;c&=~(1<<m),o+=1;var g=32-dn(s)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,dr=1<<32-dn(s)+m|o<<m|c,mr=g+r}else dr=1<<g|o<<m|c,mr=r}function ym(r){r.return!==null&&(ma(r,1),B0(r,1,0))}function vm(r){for(;r===hh;)hh=_o[--Eo],_o[Eo]=null,fh=_o[--Eo],_o[Eo]=null;for(;r===da;)da=Yn[--Qn],Yn[Qn]=null,mr=Yn[--Qn],Yn[Qn]=null,dr=Yn[--Qn],Yn[Qn]=null}var gn=null,Yt=null,Qe=!1,fi=null,ki=!1,_m=Error(i(519));function pa(r){var s=Error(i(418,""));throw Zl(Kn(s,r)),_m}function F0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Bt]=r,s[It]=c,o){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(o=0;o<bu.length;o++)Fe(bu[o],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),na(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ta(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),is(s,c.value,c.defaultValue,c.children),ta(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||WE(s.textContent,o)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=qh),s=!0):s=!1,s||pa(r)}function z0(r){for(gn=r.return;gn;)switch(gn.tag){case 3:case 27:ki=!0;return;case 5:case 13:ki=!1;return;default:gn=gn.return}}function Wl(r){if(r!==gn)return!1;if(!Qe)return z0(r),Qe=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||jp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Yt&&pa(r),z0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Yt=mi(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Yt=null}}else Yt=gn?mi(r.stateNode.nextSibling):null;return!0}function Xl(){Yt=gn=null,Qe=!1}function Zl(r){fi===null?fi=[r]:fi.push(r)}var Jl=Error(i(460)),H0=Error(i(474)),Em={then:function(){}};function q0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function dh(){}function $0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(dh,dh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Jl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(dh,dh);else{if(r=it,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Jl?Error(i(483)):r}throw eu=s,Jl}}var eu=null;function G0(){if(eu===null)throw Error(i(459));var r=eu;return eu=null,r}var To=null,tu=0;function mh(r){var s=tu;return tu+=1,To===null&&(To=[]),$0(To,r,s)}function nu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ph(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function K0(r){var s=r._init;return s(r._payload)}function Y0(r){function s($,z){if(r){var K=$.deletions;K===null?($.deletions=[z],$.flags|=16):K.push(z)}}function o($,z){if(!r)return null;for(;z!==null;)s($,z),z=z.sibling;return null}function c($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function m($,z){return $=ys($,z),$.index=0,$.sibling=null,$}function g($,z,K){return $.index=K,r?(K=$.alternate,K!==null?(K=K.index,K<z?($.flags|=33554434,z):K):($.flags|=33554434,z)):($.flags|=1048576,z)}function b($){return r&&$.alternate===null&&($.flags|=33554434),$}function A($,z,K,ie){return z===null||z.tag!==6?(z=mp(K,$.mode,ie),z.return=$,z):(z=m(z,K),z.return=$,z)}function V($,z,K,ie){var ye=K.type;return ye===d?ee($,z,K.props.children,ie,K.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&K0(ye)===z.type)?(z=m(z,K.props),nu(z,K),z.return=$,z):(z=Oh(K.type,K.key,K.props,null,$.mode,ie),nu(z,K),z.return=$,z)}function H($,z,K,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=pp(K,$.mode,ie),z.return=$,z):(z=m(z,K.children||[]),z.return=$,z)}function ee($,z,K,ie,ye){return z===null||z.tag!==7?(z=Aa(K,$.mode,ie,ye),z.return=$,z):(z=m(z,K),z.return=$,z)}function ae($,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=mp(""+z,$.mode,K),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return K=Oh(z.type,z.key,z.props,null,$.mode,K),nu(K,z),K.return=$,K;case h:return z=pp(z,$.mode,K),z.return=$,z;case B:var ie=z._init;return z=ie(z._payload),ae($,z,K)}if(fe(z)||se(z))return z=Aa(z,$.mode,K,null),z.return=$,z;if(typeof z.then=="function")return ae($,mh(z),K);if(z.$$typeof===w)return ae($,Dh($,z),K);ph($,z)}return null}function Q($,z,K,ie){var ye=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:A($,z,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case u:return K.key===ye?V($,z,K,ie):null;case h:return K.key===ye?H($,z,K,ie):null;case B:return ye=K._init,K=ye(K._payload),Q($,z,K,ie)}if(fe(K)||se(K))return ye!==null?null:ee($,z,K,ie,null);if(typeof K.then=="function")return Q($,z,mh(K),ie);if(K.$$typeof===w)return Q($,z,Dh($,K),ie);ph($,K)}return null}function J($,z,K,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(K)||null,A(z,$,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case u:return $=$.get(ie.key===null?K:ie.key)||null,V(z,$,ie,ye);case h:return $=$.get(ie.key===null?K:ie.key)||null,H(z,$,ie,ye);case B:var Ve=ie._init;return ie=Ve(ie._payload),J($,z,K,ie,ye)}if(fe(ie)||se(ie))return $=$.get(K)||null,ee(z,$,ie,ye,null);if(typeof ie.then=="function")return J($,z,K,mh(ie),ye);if(ie.$$typeof===w)return J($,z,K,Dh(z,ie),ye);ph(z,ie)}return null}function ve($,z,K,ie){for(var ye=null,Ve=null,Ee=z,we=z=0,$t=null;Ee!==null&&we<K.length;we++){Ee.index>we?($t=Ee,Ee=null):$t=Ee.sibling;var We=Q($,Ee,K[we],ie);if(We===null){Ee===null&&(Ee=$t);break}r&&Ee&&We.alternate===null&&s($,Ee),z=g(We,z,we),Ve===null?ye=We:Ve.sibling=We,Ve=We,Ee=$t}if(we===K.length)return o($,Ee),Qe&&ma($,we),ye;if(Ee===null){for(;we<K.length;we++)Ee=ae($,K[we],ie),Ee!==null&&(z=g(Ee,z,we),Ve===null?ye=Ee:Ve.sibling=Ee,Ve=Ee);return Qe&&ma($,we),ye}for(Ee=c(Ee);we<K.length;we++)$t=J(Ee,$,we,K[we],ie),$t!==null&&(r&&$t.alternate!==null&&Ee.delete($t.key===null?we:$t.key),z=g($t,z,we),Ve===null?ye=$t:Ve.sibling=$t,Ve=$t);return r&&Ee.forEach(function(Ss){return s($,Ss)}),Qe&&ma($,we),ye}function Ie($,z,K,ie){if(K==null)throw Error(i(151));for(var ye=null,Ve=null,Ee=z,we=z=0,$t=null,We=K.next();Ee!==null&&!We.done;we++,We=K.next()){Ee.index>we?($t=Ee,Ee=null):$t=Ee.sibling;var Ss=Q($,Ee,We.value,ie);if(Ss===null){Ee===null&&(Ee=$t);break}r&&Ee&&Ss.alternate===null&&s($,Ee),z=g(Ss,z,we),Ve===null?ye=Ss:Ve.sibling=Ss,Ve=Ss,Ee=$t}if(We.done)return o($,Ee),Qe&&ma($,we),ye;if(Ee===null){for(;!We.done;we++,We=K.next())We=ae($,We.value,ie),We!==null&&(z=g(We,z,we),Ve===null?ye=We:Ve.sibling=We,Ve=We);return Qe&&ma($,we),ye}for(Ee=c(Ee);!We.done;we++,We=K.next())We=J(Ee,$,we,We.value,ie),We!==null&&(r&&We.alternate!==null&&Ee.delete(We.key===null?we:We.key),z=g(We,z,we),Ve===null?ye=We:Ve.sibling=We,Ve=We);return r&&Ee.forEach(function(cD){return s($,cD)}),Qe&&ma($,we),ye}function gt($,z,K,ie){if(typeof K=="object"&&K!==null&&K.type===d&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case u:e:{for(var ye=K.key;z!==null;){if(z.key===ye){if(ye=K.type,ye===d){if(z.tag===7){o($,z.sibling),ie=m(z,K.props.children),ie.return=$,$=ie;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&K0(ye)===z.type){o($,z.sibling),ie=m(z,K.props),nu(ie,K),ie.return=$,$=ie;break e}o($,z);break}else s($,z);z=z.sibling}K.type===d?(ie=Aa(K.props.children,$.mode,ie,K.key),ie.return=$,$=ie):(ie=Oh(K.type,K.key,K.props,null,$.mode,ie),nu(ie,K),ie.return=$,$=ie)}return b($);case h:e:{for(ye=K.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o($,z.sibling),ie=m(z,K.children||[]),ie.return=$,$=ie;break e}else{o($,z);break}else s($,z);z=z.sibling}ie=pp(K,$.mode,ie),ie.return=$,$=ie}return b($);case B:return ye=K._init,K=ye(K._payload),gt($,z,K,ie)}if(fe(K))return ve($,z,K,ie);if(se(K)){if(ye=se(K),typeof ye!="function")throw Error(i(150));return K=ye.call(K),Ie($,z,K,ie)}if(typeof K.then=="function")return gt($,z,mh(K),ie);if(K.$$typeof===w)return gt($,z,Dh($,K),ie);ph($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o($,z.sibling),ie=m(z,K),ie.return=$,$=ie):(o($,z),ie=mp(K,$.mode,ie),ie.return=$,$=ie),b($)):o($,z)}return function($,z,K,ie){try{tu=0;var ye=gt($,z,K,ie);return To=null,ye}catch(Ee){if(Ee===Jl)throw Ee;var Ve=Jn(29,Ee,null,$.mode);return Ve.lanes=ie,Ve.return=$,Ve}finally{}}}var ga=Y0(!0),Q0=Y0(!1),bo=be(null),gh=be(0);function W0(r,s){r=Ar,ke(gh,r),ke(bo,s),Ar=r|s.baseLanes}function Tm(){ke(gh,Ar),ke(bo,bo.current)}function bm(){Ar=gh.current,Pe(bo),Pe(gh)}var Wn=be(null),Li=null;function as(r){var s=r.alternate;ke(Pt,Pt.current&1),ke(Wn,r),Li===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(Li=r)}function X0(r){if(r.tag===22){if(ke(Pt,Pt.current),ke(Wn,r),Li===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Li=r)}}else os()}function os(){ke(Pt,Pt.current),ke(Wn,Wn.current)}function pr(r){Pe(Wn),Li===r&&(Li=null),Pe(Pt)}var Pt=be(0);function yh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var X1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},Z1=t.unstable_scheduleCallback,J1=t.unstable_NormalPriority,Ot={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wm(){return{controller:new X1,data:new Map,refCount:0}}function iu(r){r.refCount--,r.refCount===0&&Z1(J1,function(){r.controller.abort()})}var ru=null,Sm=0,wo=0,So=null;function eI(r,s){if(ru===null){var o=ru=[];Sm=0,wo=Dp(),So={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Sm++,s.then(Z0,Z0),s}function Z0(){if(--Sm===0&&ru!==null){So!==null&&(So.status="fulfilled");var r=ru;ru=null,wo=0,So=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function tI(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var J0=C.S;C.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&eI(r,s),J0!==null&&J0(r,s)};var ya=be(null);function Am(){var r=ya.current;return r!==null?r:it.pooledCache}function vh(r,s){s===null?ke(ya,ya.current):ke(ya,s.pool)}function e_(){var r=Am();return r===null?null:{parent:Ot._currentValue,pool:r}}var ls=0,Me=null,et=null,wt=null,_h=!1,Ao=!1,va=!1,Eh=0,su=0,Ro=null,nI=0;function Et(){throw Error(i(321))}function Rm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Pn(r[o],s[o]))return!1;return!0}function xm(r,s,o,c,m,g){return ls=g,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=r===null||r.memoizedState===null?_a:us,va=!1,g=o(c,m),va=!1,Ao&&(g=n_(s,o,c,m)),t_(r),g}function t_(r){C.H=Ui;var s=et!==null&&et.next!==null;if(ls=0,wt=et=Me=null,_h=!1,su=0,Ro=null,s)throw Error(i(300));r===null||Ht||(r=r.dependencies,r!==null&&Ih(r)&&(Ht=!0))}function n_(r,s,o,c){Me=r;var m=0;do{if(Ao&&(Ro=null),su=0,Ao=!1,25<=m)throw Error(i(301));if(m+=1,wt=et=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}C.H=Ea,g=s(o,c)}while(Ao);return g}function iI(){var r=C.H,s=r.useState()[0];return s=typeof s.then=="function"?au(s):s,r=r.useState()[0],(et!==null?et.memoizedState:null)!==r&&(Me.flags|=1024),s}function Cm(){var r=Eh!==0;return Eh=0,r}function Im(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Dm(r){if(_h){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_h=!1}ls=0,wt=et=Me=null,Ao=!1,su=Eh=0,Ro=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Me.memoizedState=wt=r:wt=wt.next=r,wt}function St(){if(et===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=et.next;var s=wt===null?Me.memoizedState:wt.next;if(s!==null)wt=s,et=r;else{if(r===null)throw Me.alternate===null?Error(i(467)):Error(i(310));et=r,r={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},wt===null?Me.memoizedState=wt=r:wt=wt.next=r}return wt}var Th;Th=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function au(r){var s=su;return su+=1,Ro===null&&(Ro=[]),r=$0(Ro,r,s),s=Me,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?_a:us),r}function bh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return au(r);if(r.$$typeof===w)return nn(r)}throw Error(i(438,String(r)))}function Nm(r){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Th(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=Z;return s.index++,o}function gr(r,s){return typeof s=="function"?s(r):s}function wh(r){var s=St();return Pm(s,et,r)}function Pm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}s.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var A=b=null,V=null,H=s,ee=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?($e&ae)===ae:(ls&ae)===ae){var Q=H.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===wo&&(ee=!0);else if((ls&Q)===Q){H=H.next,Q===wo&&(ee=!0);continue}else ae={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(A=V=ae,b=g):V=V.next=ae,Me.lanes|=Q,vs|=Q;ae=H.action,va&&o(g,ae),g=H.hasEagerState?H.eagerState:o(g,ae)}else Q={lane:ae,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(A=V=Q,b=g):V=V.next=Q,Me.lanes|=ae,vs|=ae;H=H.next}while(H!==null&&H!==s);if(V===null?b=g:V.next=A,!Pn(g,r.memoizedState)&&(Ht=!0,ee&&(o=So,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=V,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Om(r){var s=St(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=r(g,b.action),b=b.next;while(b!==m);Pn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function i_(r,s,o){var c=Me,m=St(),g=Qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Pn((et||m).memoizedState,o);if(b&&(m.memoizedState=o,Ht=!0),m=m.queue,km(a_.bind(null,c,m,r),[r]),m.getSnapshot!==s||b||wt!==null&&wt.memoizedState.tag&1){if(c.flags|=2048,xo(9,s_.bind(null,c,m,o,s),{destroy:void 0},null),it===null)throw Error(i(349));g||ls&60||r_(c,s,o)}return o}function r_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=Th(),Me.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function s_(r,s,o,c){s.value=o,s.getSnapshot=c,o_(s)&&l_(r)}function a_(r,s,o){return o(function(){o_(s)&&l_(r)})}function o_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Pn(r,o)}catch{return!0}}function l_(r){var s=ss(r,2);s!==null&&yn(s,r,2)}function Mm(r){var s=Sn();if(typeof r=="function"){var o=r;if(r=o(),va){Ai(!0);try{o()}finally{Ai(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:r},s}function u_(r,s,o,c){return r.baseState=o,Pm(r,et,typeof c=="function"?c:gr)}function rI(r,s,o,c,m){if(Rh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};C.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,c_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function c_(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var g=C.T,b={};C.T=b;try{var A=o(m,c),V=C.S;V!==null&&V(b,A),h_(r,s,A)}catch(H){Vm(r,s,H)}finally{C.T=g}}else try{g=o(m,c),h_(r,s,g)}catch(H){Vm(r,s,H)}}function h_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){f_(r,s,c)},function(c){return Vm(r,s,c)}):f_(r,s,o)}function f_(r,s,o){s.status="fulfilled",s.value=o,d_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,c_(r,o)))}function Vm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,d_(s),s=s.next;while(s!==c)}r.action=null}function d_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function m_(r,s){return s}function p_(r,s){if(Qe){var o=it.formState;if(o!==null){e:{var c=Me;if(Qe){if(Yt){t:{for(var m=Yt,g=ki;m.nodeType!==8;){if(!g){m=null;break t}if(m=mi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Yt=mi(m.nextSibling),c=m.data==="F!";break e}}pa(c)}c=!1}c&&(s=o[0])}}return o=Sn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:s},o.queue=c,o=O_.bind(null,Me,c),c.dispatch=o,c=Mm(!1),g=Fm.bind(null,Me,!1,c.queue),c=Sn(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=rI.bind(null,Me,m,g,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function g_(r){var s=St();return y_(s,et,r)}function y_(r,s,o){s=Pm(r,s,m_)[0],r=wh(gr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?au(s):s;var c=St(),m=c.queue,g=m.dispatch;return o!==c.memoizedState&&(Me.flags|=2048,xo(9,sI.bind(null,m,o),{destroy:void 0},null)),[s,g,r]}function sI(r,s){r.action=s}function v_(r){var s=St(),o=et;if(o!==null)return y_(s,o,r);St(),s=s.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function xo(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=Me.updateQueue,s===null&&(s=Th(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function __(){return St().memoizedState}function Sh(r,s,o,c){var m=Sn();Me.flags|=r,m.memoizedState=xo(1|s,o,{destroy:void 0},c===void 0?null:c)}function Ah(r,s,o,c){var m=St();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&Rm(c,et.memoizedState.deps)?m.memoizedState=xo(s,o,g,c):(Me.flags|=r,m.memoizedState=xo(1|s,o,g,c))}function E_(r,s){Sh(8390656,8,r,s)}function km(r,s){Ah(2048,8,r,s)}function T_(r,s){return Ah(4,2,r,s)}function b_(r,s){return Ah(4,4,r,s)}function w_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function S_(r,s,o){o=o!=null?o.concat([r]):null,Ah(4,4,w_.bind(null,s,r),o)}function Lm(){}function A_(r,s){var o=St();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Rm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function R_(r,s){var o=St();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Rm(s,c[1]))return c[0];if(c=r(),va){Ai(!0);try{r()}finally{Ai(!1)}}return o.memoizedState=[c,s],c}function Um(r,s,o){return o===void 0||ls&1073741824?r.memoizedState=s:(r.memoizedState=o,r=CE(),Me.lanes|=r,vs|=r,o)}function x_(r,s,o,c){return Pn(o,s)?o:bo.current!==null?(r=Um(r,o,c),Pn(r,s)||(Ht=!0),r):ls&42?(r=CE(),Me.lanes|=r,vs|=r,s):(Ht=!0,r.memoizedState=o)}function C_(r,s,o,c,m){var g=de.p;de.p=g!==0&&8>g?g:8;var b=C.T,A={};C.T=A,Fm(r,!1,s,o);try{var V=m(),H=C.S;if(H!==null&&H(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=tI(V,c);ou(r,s,ee,kn(r))}else ou(r,s,c,kn(r))}catch(ae){ou(r,s,{then:function(){},status:"rejected",reason:ae},kn())}finally{de.p=g,C.T=b}}function aI(){}function jm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=I_(r).queue;C_(r,m,s,xe,o===null?aI:function(){return D_(r),o(c)})}function I_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:xe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function D_(r){var s=I_(r).next.queue;ou(r,s,{},kn())}function Bm(){return nn(xu)}function N_(){return St().memoizedState}function P_(){return St().memoizedState}function oI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();r=fs(o);var c=ds(s,r,o);c!==null&&(yn(c,s,o),cu(c,s,o)),s={cache:wm()},r.payload=s;return}s=s.return}}function lI(r,s,o){var c=kn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(r)?M_(s,o):(o=gm(r,s,o,c),o!==null&&(yn(o,r,c),V_(o,s,c)))}function O_(r,s,o){var c=kn();ou(r,s,o,c)}function ou(r,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(r))M_(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,o);if(m.hasEagerState=!0,m.eagerState=A,Pn(A,b))return uh(r,s,m,0),it===null&&lh(),!1}catch{}finally{}if(o=gm(r,s,m,c),o!==null)return yn(o,r,c),V_(o,s,c),!0}return!1}function Fm(r,s,o,c){if(c={lane:2,revertLane:Dp(),action:c,hasEagerState:!1,eagerState:null,next:null},Rh(r)){if(s)throw Error(i(479))}else s=gm(r,o,c,2),s!==null&&yn(s,r,2)}function Rh(r){var s=r.alternate;return r===Me||s!==null&&s===Me}function M_(r,s){Ao=_h=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function V_(r,s,o){if(o&4194176){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Qr(r,o)}}var Ui={readContext:nn,use:bh,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et};Ui.useCacheRefresh=Et,Ui.useMemoCache=Et,Ui.useHostTransitionStatus=Et,Ui.useFormState=Et,Ui.useActionState=Et,Ui.useOptimistic=Et;var _a={readContext:nn,use:bh,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:nn,useEffect:E_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Sh(4194308,4,w_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Sh(4194308,4,r,s)},useInsertionEffect:function(r,s){Sh(4,2,r,s)},useMemo:function(r,s){var o=Sn();s=s===void 0?null:s;var c=r();if(va){Ai(!0);try{r()}finally{Ai(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Sn();if(o!==void 0){var m=o(s);if(va){Ai(!0);try{o(s)}finally{Ai(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=lI.bind(null,Me,r),[c.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:function(r){r=Mm(r);var s=r.queue,o=O_.bind(null,Me,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Lm,useDeferredValue:function(r,s){var o=Sn();return Um(o,r,s)},useTransition:function(){var r=Mm(!1);return r=C_.bind(null,Me,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Me,m=Sn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),it===null)throw Error(i(349));$e&60||r_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,E_(a_.bind(null,c,g,r),[r]),c.flags|=2048,xo(9,s_.bind(null,c,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Sn(),s=it.identifierPrefix;if(Qe){var o=mr,c=dr;o=(c&~(1<<32-dn(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=nI++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Sn().memoizedState=oI.bind(null,Me)}};_a.useMemoCache=Nm,_a.useHostTransitionStatus=Bm,_a.useFormState=p_,_a.useActionState=p_,_a.useOptimistic=function(r){var s=Sn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Fm.bind(null,Me,!0,o),o.dispatch=s,[r,s]};var us={readContext:nn,use:bh,useCallback:A_,useContext:nn,useEffect:km,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:R_,useReducer:wh,useRef:__,useState:function(){return wh(gr)},useDebugValue:Lm,useDeferredValue:function(r,s){var o=St();return x_(o,et.memoizedState,r,s)},useTransition:function(){var r=wh(gr)[0],s=St().memoizedState;return[typeof r=="boolean"?r:au(r),s]},useSyncExternalStore:i_,useId:N_};us.useCacheRefresh=P_,us.useMemoCache=Nm,us.useHostTransitionStatus=Bm,us.useFormState=g_,us.useActionState=g_,us.useOptimistic=function(r,s){var o=St();return u_(o,et,r,s)};var Ea={readContext:nn,use:bh,useCallback:A_,useContext:nn,useEffect:km,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:R_,useReducer:Om,useRef:__,useState:function(){return Om(gr)},useDebugValue:Lm,useDeferredValue:function(r,s){var o=St();return et===null?Um(o,r,s):x_(o,et.memoizedState,r,s)},useTransition:function(){var r=Om(gr)[0],s=St().memoizedState;return[typeof r=="boolean"?r:au(r),s]},useSyncExternalStore:i_,useId:N_};Ea.useCacheRefresh=P_,Ea.useMemoCache=Nm,Ea.useHostTransitionStatus=Bm,Ea.useFormState=v_,Ea.useActionState=v_,Ea.useOptimistic=function(r,s){var o=St();return et!==null?u_(o,et,r,s):(o.baseState=r,[r,o.queue.dispatch])};function zm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:M({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Hm={isMounted:function(r){return(r=r._reactInternals)?ne(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=kn(),m=fs(c);m.payload=s,o!=null&&(m.callback=o),s=ds(r,m,c),s!==null&&(yn(s,r,c),cu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=kn(),m=fs(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ds(r,m,c),s!==null&&(yn(s,r,c),cu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=kn(),c=fs(o);c.tag=2,s!=null&&(c.callback=s),s=ds(r,c,o),s!==null&&(yn(s,r,o),cu(s,r,o))}};function k_(r,s,o,c,m,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!Yl(o,c)||!Yl(m,g):!0}function L_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Hm.enqueueReplaceState(s,s.state,null)}function Ta(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=M({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var xh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function U_(r){xh(r)}function j_(r){console.error(r)}function B_(r){xh(r)}function Ch(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function F_(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function qm(r,s,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(r,s)},o}function z_(r){return r=fs(r),r.tag=3,r}function H_(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){F_(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){F_(s,o,c),typeof m!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function uI(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&uu(s,o,m,!0),o=Wn.current,o!==null){switch(o.tag){case 13:return Li===null?Ap():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Em?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),xp(r,c,m)),!1;case 22:return o.flags|=65536,c===Em?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),xp(r,c,m)),!1}throw Error(i(435,o.tag))}return xp(r,c,m),Ap(),!1}if(Qe)return s=Wn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==_m&&(r=Error(i(422),{cause:c}),Zl(Kn(r,o)))):(c!==_m&&(s=Error(i(423),{cause:c}),Zl(Kn(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Kn(c,o),m=qm(r.stateNode,c,m),sp(r,m),pt!==4&&(pt=2)),!1;var g=Error(i(520),{cause:c});if(g=Kn(g,o),vu===null?vu=[g]:vu.push(g),pt!==4&&(pt=2),s===null)return!0;c=Kn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=qm(o.stateNode,c,r),sp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=z_(m),H_(m,r,o,c),sp(o,m),!1}o=o.return}while(o!==null);return!1}var q_=Error(i(461)),Ht=!1;function Qt(r,s,o,c){s.child=r===null?Q0(s,null,o,c):ga(s,r.child,o,c)}function $_(r,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return wa(s),c=xm(r,s,o,b,g,m),A=Cm(),r!==null&&!Ht?(Im(r,s,m),yr(r,s,m)):(Qe&&A&&ym(s),s.flags|=1,Qt(r,s,c,m),s.child)}function G_(r,s,o,c,m){if(r===null){var g=o.type;return typeof g=="function"&&!dp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,K_(r,s,g,c,m)):(r=Oh(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Jm(r,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(b,c)&&r.ref===s.ref)return yr(r,s,m)}return s.flags|=1,r=ys(g,c),r.ref=s.ref,r.return=s,s.child=r}function K_(r,s,o,c,m){if(r!==null){var g=r.memoizedProps;if(Yl(g,c)&&r.ref===s.ref)if(Ht=!1,s.pendingProps=c=g,Jm(r,m))r.flags&131072&&(Ht=!0);else return s.lanes=r.lanes,yr(r,s,m)}return $m(r,s,o,c,m)}function Y_(r,s,o){var c=s.pendingProps,m=c.children,g=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(lu(r,s),c.mode==="hidden"||g){if(s.flags&128){if(c=b!==null?b.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return Q_(r,s,c,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&vh(s,b!==null?b.cachePool:null),b!==null?W0(s,b):Tm(),X0(s);else return s.lanes=s.childLanes=536870912,Q_(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(vh(s,b.cachePool),W0(s,b),os(),s.memoizedState=null):(r!==null&&vh(s,null),Tm(),os());return Qt(r,s,m,o),s.child}function Q_(r,s,o,c){var m=Am();return m=m===null?null:{parent:Ot._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&vh(s,null),Tm(),X0(s),r!==null&&uu(r,s,c,!0),null}function lu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function $m(r,s,o,c,m){return wa(s),o=xm(r,s,o,c,void 0,m),c=Cm(),r!==null&&!Ht?(Im(r,s,m),yr(r,s,m)):(Qe&&c&&ym(s),s.flags|=1,Qt(r,s,o,m),s.child)}function W_(r,s,o,c,m,g){return wa(s),s.updateQueue=null,o=n_(s,c,o,m),t_(r),c=Cm(),r!==null&&!Ht?(Im(r,s,g),yr(r,s,g)):(Qe&&c&&ym(s),s.flags|=1,Qt(r,s,o,g),s.child)}function X_(r,s,o,c,m){if(wa(s),s.stateNode===null){var g=vo,b=o.contextType;typeof b=="object"&&b!==null&&(g=nn(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Hm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},ip(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?nn(b):vo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(zm(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Hm.enqueueReplaceState(g,g.state,null),fu(s,c,g,m),hu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,V=Ta(o,A);g.props=V;var H=g.context,ee=o.contextType;b=vo,typeof ee=="object"&&ee!==null&&(b=nn(ee));var ae=o.getDerivedStateFromProps;ee=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==b)&&L_(s,g,c,b),hs=!1;var Q=s.memoizedState;g.state=Q,fu(s,c,g,m),hu(),H=s.memoizedState,A||Q!==H||hs?(typeof ae=="function"&&(zm(s,o,ae,c),H=s.memoizedState),(V=hs||k_(s,o,V,c,Q,H,b))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),g.props=c,g.state=H,g.context=b,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,rp(r,s),b=s.memoizedProps,ee=Ta(o,b),g.props=ee,ae=s.pendingProps,Q=g.context,H=o.contextType,V=vo,typeof H=="object"&&H!==null&&(V=nn(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||Q!==V)&&L_(s,g,c,V),hs=!1,Q=s.memoizedState,g.state=Q,fu(s,c,g,m),hu();var J=s.memoizedState;b!==ae||Q!==J||hs||r!==null&&r.dependencies!==null&&Ih(r.dependencies)?(typeof A=="function"&&(zm(s,o,A,c),J=s.memoizedState),(ee=hs||k_(s,o,ee,c,Q,J,V)||r!==null&&r.dependencies!==null&&Ih(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=V,c=ee):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,lu(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=ga(s,r.child,null,m),s.child=ga(s,null,o,m)):Qt(r,s,o,m),s.memoizedState=g.state,r=s.child):r=yr(r,s,m),r}function Z_(r,s,o,c){return Xl(),s.flags|=256,Qt(r,s,o,c),s.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Km(r){return{baseLanes:r,cachePool:e_()}}function Ym(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ei),r}function J_(r,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qe){if(m?as(s):os(),Qe){var A=Yt,V;if(V=A){e:{for(V=A,A=ki;V.nodeType!==8;){if(!A){A=null;break e}if(V=mi(V.nextSibling),V===null){A=null;break e}}A=V}A!==null?(s.memoizedState={dehydrated:A,treeContext:da!==null?{id:dr,overflow:mr}:null,retryLane:536870912},V=Jn(18,null,null,0),V.stateNode=A,V.return=s,s.child=V,gn=s,Yt=null,V=!0):V=!1}V||pa(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;pr(s)}return A=c.children,c=c.fallback,m?(os(),m=s.mode,A=Wm({mode:"hidden",children:A},m),c=Aa(c,m,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,m=s.child,m.memoizedState=Km(o),m.childLanes=Ym(r,b,o),s.memoizedState=Gm,c):(as(s),Qm(s,A))}if(V=r.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(as(s),s.flags&=-257,s=Xm(r,s,o)):s.memoizedState!==null?(os(),s.child=r.child,s.flags|=128,s=null):(os(),m=c.fallback,A=s.mode,c=Wm({mode:"visible",children:c.children},A),m=Aa(m,A,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,ga(s,r.child,null,o),c=s.child,c.memoizedState=Km(o),c.childLanes=Ym(r,b,o),s.memoizedState=Gm,s=m);else if(as(s),A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var H=b.dgst;b=H,c=Error(i(419)),c.stack="",c.digest=b,Zl({value:c,source:null,stack:null}),s=Xm(r,s,o)}else if(Ht||uu(r,s,o,!1),b=(o&r.childLanes)!==0,Ht||b){if(b=it,b!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(b.suspendedLanes|o)?0:c,c!==0&&c!==V.retryLane)throw V.retryLane=c,ss(r,c),yn(b,r,c),q_}A.data==="$?"||Ap(),s=Xm(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=SI.bind(null,r),A._reactRetry=s,s=null):(r=V.treeContext,Yt=mi(A.nextSibling),gn=s,Qe=!0,fi=null,ki=!1,r!==null&&(Yn[Qn++]=dr,Yn[Qn++]=mr,Yn[Qn++]=da,dr=r.id,mr=r.overflow,da=s),s=Qm(s,c.children),s.flags|=4096);return s}return m?(os(),m=c.fallback,A=s.mode,V=r.child,H=V.sibling,c=ys(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&31457280,H!==null?m=ys(H,m):(m=Aa(m,A,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,A=r.child.memoizedState,A===null?A=Km(o):(V=A.cachePool,V!==null?(H=Ot._currentValue,V=V.parent!==H?{parent:H,pool:H}:V):V=e_(),A={baseLanes:A.baseLanes|o,cachePool:V}),m.memoizedState=A,m.childLanes=Ym(r,b,o),s.memoizedState=Gm,c):(as(s),o=r.child,r=o.sibling,o=ys(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Qm(r,s){return s=Wm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Wm(r,s){return AE(r,s,0,null)}function Xm(r,s,o){return ga(s,r.child,null,o),r=Qm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function eE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),tp(r.return,s,o)}function Zm(r,s,o,c,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function tE(r,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;if(Qt(r,s,c.children,o),c=Pt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&eE(r,o,s);else if(r.tag===19)eE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ke(Pt,c),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&yh(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Zm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&yh(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Zm(s,!0,o,null,g);break;case"together":Zm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),vs|=s.lanes,!(o&s.childLanes))if(r!==null){if(uu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ys(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ys(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Jm(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Ih(r)))}function cI(r,s,o){switch(s.tag){case 3:wi(s,s.stateNode.containerInfo),cs(s,Ot,r.memoizedState.cache),Xl();break;case 27:case 5:jn(s);break;case 4:wi(s,s.stateNode.containerInfo);break;case 10:cs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(as(s),s.flags|=128,null):o&s.child.childLanes?J_(r,s,o):(as(s),r=yr(r,s,o),r!==null?r.sibling:null);as(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(uu(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return tE(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ke(Pt,Pt.current),c)break;return null;case 22:case 23:return s.lanes=0,Y_(r,s,o);case 24:cs(s,Ot,r.memoizedState.cache)}return yr(r,s,o)}function nE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Jm(r,o)&&!(s.flags&128))return Ht=!1,cI(r,s,o);Ht=!!(r.flags&131072)}else Ht=!1,Qe&&s.flags&1048576&&B0(s,fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")dp(c)?(r=Ta(c,r),s.tag=1,s=X_(null,s,c,r,o)):(s.tag=0,s=$m(null,s,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===S){s.tag=11,s=$_(null,s,c,r,o);break e}else if(m===O){s.tag=14,s=G_(null,s,c,r,o);break e}}throw s=I(c)||c,Error(i(306,s,""))}}return s;case 0:return $m(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Ta(c,s.pendingProps),X_(r,s,c,m,o);case 3:e:{if(wi(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;m=s.memoizedState,c=m.element,rp(r,s),fu(s,g,null,o);var b=s.memoizedState;if(g=b.cache,cs(s,Ot,g),g!==m.cache&&np(s,[Ot],o,!0),hu(),g=b.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Z_(r,s,g,o);break e}else if(g!==c){c=Kn(Error(i(424)),s),Zl(c),s=Z_(r,s,g,o);break e}else for(Yt=mi(s.stateNode.containerInfo.firstChild),gn=s,Qe=!0,fi=null,ki=!0,o=Q0(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Xl(),g===c){s=yr(r,s,o);break e}Qt(r,s,g,o)}s=s.child}return s;case 26:return lu(r,s),r===null?(o=sT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,r=s.pendingProps,c=$h(En.current).createElement(o),c[Bt]=s,c[It]=r,Wt(c,o,r),lt(c),s.stateNode=c):s.memoizedState=sT(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return jn(s),r===null&&Qe&&(c=s.stateNode=nT(s.type,s.pendingProps,En.current),gn=s,ki=!0,Yt=mi(c.firstChild)),c=s.pendingProps.children,r!==null||Qe?Qt(r,s,c,o):s.child=ga(s,null,c,o),lu(r,s),s.child;case 5:return r===null&&Qe&&((m=c=Yt)&&(c=BI(c,s.type,s.pendingProps,ki),c!==null?(s.stateNode=c,gn=s,Yt=mi(c.firstChild),ki=!1,m=!0):m=!1),m||pa(s)),jn(s),m=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,jp(m,g)?c=null:b!==null&&jp(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=xm(r,s,iI,null,null,o),xu._currentValue=m),lu(r,s),Qt(r,s,c,o),s.child;case 6:return r===null&&Qe&&((r=o=Yt)&&(o=FI(o,s.pendingProps,ki),o!==null?(s.stateNode=o,gn=s,Yt=null,r=!0):r=!1),r||pa(s)),null;case 13:return J_(r,s,o);case 4:return wi(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ga(s,null,c,o):Qt(r,s,c,o),s.child;case 11:return $_(r,s,s.type,s.pendingProps,o);case 7:return Qt(r,s,s.pendingProps,o),s.child;case 8:return Qt(r,s,s.pendingProps.children,o),s.child;case 12:return Qt(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,cs(s,s.type,c.value),Qt(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,wa(s),m=nn(m),c=c(m),s.flags|=1,Qt(r,s,c,o),s.child;case 14:return G_(r,s,s.type,s.pendingProps,o);case 15:return K_(r,s,s.type,s.pendingProps,o);case 19:return tE(r,s,o);case 22:return Y_(r,s,o);case 24:return wa(s),c=nn(Ot),r===null?(m=Am(),m===null&&(m=it,g=wm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},ip(s),cs(s,Ot,m)):(r.lanes&o&&(rp(r,s),fu(s,null,null,o),hu()),m=r.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),cs(s,Ot,c)):(c=g.cache,cs(s,Ot,c),c!==m.cache&&np(s,[Ot],o,!0))),Qt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var ep=be(null),ba=null,vr=null;function cs(r,s,o){ke(ep,s._currentValue),s._currentValue=o}function _r(r){r._currentValue=ep.current,Pe(ep)}function tp(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function np(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),tp(g.return,o,r),c||(b=null);break e}g=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),tp(b,o,r),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function uu(r,s,o,c){r=null;for(var m=s,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=m.type;Pn(m.pendingProps.value,b.value)||(r!==null?r.push(A):r=[A])}}else if(m===ai.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(xu):r=[xu])}m=m.return}r!==null&&np(s,r,o,c),s.flags|=262144}function Ih(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wa(r){ba=r,vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function nn(r){return iE(ba,r)}function Dh(r,s){return ba===null&&wa(r),iE(r,s)}function iE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vr===null){if(r===null)throw Error(i(308));vr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vr=vr.next=s;return o}var hs=!1;function ip(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ds(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,ct&2){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=ch(r),U0(r,null,o),s}return uh(r,c,s,o),ch(r)}function cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Qr(r,o)}}function sp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var ap=!1;function hu(){if(ap){var r=So;if(r!==null)throw r}}function fu(r,s,o,c){ap=!1;var m=r.updateQueue;hs=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,H=V.next;V.next=null,b===null?g=H:b.next=H,b=V;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==b&&(A===null?ee.firstBaseUpdate=H:A.next=H,ee.lastBaseUpdate=V))}if(g!==null){var ae=m.baseState;b=0,ee=H=V=null,A=g;do{var Q=A.lane&-536870913,J=Q!==A.lane;if(J?($e&Q)===Q:(c&Q)===Q){Q!==0&&Q===wo&&(ap=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=r,Ie=A;Q=s;var gt=o;switch(Ie.tag){case 1:if(ve=Ie.payload,typeof ve=="function"){ae=ve.call(gt,ae,Q);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ie.payload,Q=typeof ve=="function"?ve.call(gt,ae,Q):ve,Q==null)break e;ae=M({},ae,Q);break e;case 2:hs=!0}}Q=A.callback,Q!==null&&(r.flags|=64,J&&(r.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(H=ee=J,V=ae):ee=ee.next=J,b|=Q;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ee===null&&(V=ae),m.baseState=V,m.firstBaseUpdate=H,m.lastBaseUpdate=ee,g===null&&(m.shared.lanes=0),vs|=b,r.lanes=b,r.memoizedState=ae}}function rE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function sE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)rE(o[r],s)}function du(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){nt(s,s.return,A)}}function ms(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=s;var V=o;try{A()}catch(H){nt(m,V,H)}}}c=c.next}while(c!==g)}}catch(H){nt(s,s.return,H)}}function aE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{sE(s,o)}catch(c){nt(r,r.return,c)}}}function oE(r,s,o){o.props=Ta(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){nt(r,s,c)}}function Sa(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof o=="function"?r.refCleanup=o(m):o.current=m}}catch(g){nt(r,s,g)}}function On(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){nt(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){nt(r,s,m)}else o.current=null}function lE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){nt(r,r.return,m)}}function uE(r,s,o){try{var c=r.stateNode;VI(c,r.type,o,s),c[It]=s}catch(m){nt(r,r.return,m)}}function cE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function op(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=qh));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(lp(r,s,o),r=r.sibling;r!==null;)lp(r,s,o),r=r.sibling}function Nh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Nh(r,s,o),r=r.sibling;r!==null;)Nh(r,s,o),r=r.sibling}var Er=!1,mt=!1,up=!1,hE=typeof WeakSet=="function"?WeakSet:Set,qt=null,fE=!1;function hI(r,s){if(r=r.containerInfo,Lp=Xh,r=I0(r),hm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,V=-1,H=0,ee=0,ae=r,Q=null;t:for(;;){for(var J;ae!==o||m!==0&&ae.nodeType!==3||(A=b+m),ae!==g||c!==0&&ae.nodeType!==3||(V=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Q=ae,ae=J;for(;;){if(ae===r)break t;if(Q===o&&++H===m&&(A=b),Q===g&&++ee===c&&(V=b),(J=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=J}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Up={focusedElem:r,selectionRange:o},Xh=!1,qt=s;qt!==null;)if(s=qt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,qt=r;else for(;qt!==null;){switch(s=qt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ve=Ta(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ve,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ie){nt(o,o.return,Ie)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)zp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,qt=r;break}qt=s.return}return ve=fE,fE=!1,ve}function dE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:br(r,o),c&4&&du(5,o);break;case 1:if(br(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){nt(o,o.return,A)}else{var m=Ta(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(o,o.return,A)}}c&64&&aE(o),c&512&&Sa(o,o.return);break;case 3:if(br(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{sE(c,r)}catch(A){nt(o,o.return,A)}}break;case 26:br(r,o),c&512&&Sa(o,o.return);break;case 27:case 5:br(r,o),s===null&&c&4&&lE(o),c&512&&Sa(o,o.return);break;case 12:br(r,o);break;case 13:br(r,o),c&4&&gE(r,o);break;case 22:if(m=o.memoizedState!==null||Er,!m){s=s!==null&&s.memoizedState!==null||mt;var g=Er,b=mt;Er=m,(mt=s)&&!b?ps(r,o,(o.subtreeFlags&8772)!==0):br(r,o),Er=g,mt=b}c&512&&(o.memoizedProps.mode==="manual"?Sa(o,o.return):On(o,o.return));break;default:br(r,o)}}function mE(r){var s=r.alternate;s!==null&&(r.alternate=null,mE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ea(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var At=null,Mn=!1;function Tr(r,s,o){for(o=o.child;o!==null;)pE(r,s,o),o=o.sibling}function pE(r,s,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qr,o)}catch{}switch(o.tag){case 26:mt||On(o,s),Tr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||On(o,s);var c=At,m=Mn;for(At=o.stateNode,Tr(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);ea(o),At=c,Mn=m;break;case 5:mt||On(o,s);case 6:m=At;var g=Mn;if(At=null,Tr(r,s,o),At=m,Mn=g,At!==null)if(Mn)try{r=At,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(b){nt(o,s,b)}else try{At.removeChild(o.stateNode)}catch(b){nt(o,s,b)}break;case 18:At!==null&&(Mn?(s=At,o=o.stateNode,s.nodeType===8?Fp(s.parentNode,o):s.nodeType===1&&Fp(s,o),Nu(s)):Fp(At,o.stateNode));break;case 4:c=At,m=Mn,At=o.stateNode.containerInfo,Mn=!0,Tr(r,s,o),At=c,Mn=m;break;case 0:case 11:case 14:case 15:mt||ms(2,o,s),mt||ms(4,o,s),Tr(r,s,o);break;case 1:mt||(On(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&oE(o,s,c)),Tr(r,s,o);break;case 21:Tr(r,s,o);break;case 22:mt||On(o,s),mt=(c=mt)||o.memoizedState!==null,Tr(r,s,o),mt=c;break;default:Tr(r,s,o)}}function gE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nu(r)}catch(o){nt(s,s.return,o)}}function fI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new hE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new hE),s;default:throw Error(i(435,r.tag))}}function cp(r,s){var o=fI(r);s.forEach(function(c){var m=AI.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function Xn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=r,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:case 5:At=A.stateNode,Mn=!1;break e;case 3:At=A.stateNode.containerInfo,Mn=!0;break e;case 4:At=A.stateNode.containerInfo,Mn=!0;break e}A=A.return}if(At===null)throw Error(i(160));pE(g,b,m),At=null,Mn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)yE(s,r),s=s.sibling}var di=null;function yE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xn(s,r),Zn(r),c&4&&(ms(3,r,r.return),du(3,r),ms(5,r,r.return));break;case 1:Xn(s,r),Zn(r),c&512&&(mt||o===null||On(o,o.return)),c&64&&Er&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=di;if(Xn(s,r),Zn(r),c&512&&(mt||o===null||On(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Xr]||g[Bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Wt(g,c,o),g[Bt]=r,lt(g),c=g;break e;case"link":var b=lT("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=m.createElement(c),Wt(g,c,o),m.head.appendChild(g);break;case"meta":if(b=lT("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=m.createElement(c),Wt(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Bt]=r,lt(g),c=g}r.stateNode=c}else uT(m,r.type,r.stateNode);else r.stateNode=oT(m,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?uT(m,r.type,r.stateNode):oT(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&uE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){m=r.stateNode,g=r.memoizedProps;try{for(var V=m.firstChild;V;){var H=V.nextSibling,ee=V.nodeName;V[Xr]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&V.rel.toLowerCase()==="stylesheet"||m.removeChild(V),V=H}for(var ae=r.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);Wt(m,ae,g),m[Bt]=r,m[It]=g}catch(ve){nt(r,r.return,ve)}}case 5:if(Xn(s,r),Zn(r),c&512&&(mt||o===null||On(o,o.return)),r.flags&32){m=r.stateNode;try{zn(m,"")}catch(ve){nt(r,r.return,ve)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,uE(r,m,o!==null?o.memoizedProps:m)),c&1024&&(up=!0);break;case 6:if(Xn(s,r),Zn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ve){nt(r,r.return,ve)}}break;case 3:if(Yh=null,m=di,di=Gh(s.containerInfo),Xn(s,r),di=m,Zn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Nu(s.containerInfo)}catch(ve){nt(r,r.return,ve)}up&&(up=!1,vE(r));break;case 4:c=di,di=Gh(r.stateNode.containerInfo),Xn(s,r),Zn(r),di=c;break;case 12:Xn(s,r),Zn(r);break;case 13:Xn(s,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_p=bn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,cp(r,c)));break;case 22:if(c&512&&(mt||o===null||On(o,o.return)),V=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,ee=Er,ae=mt,Er=ee||V,mt=ae||H,Xn(s,r),mt=ae,Er=ee,Zn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=Er||mt,o===null||H||s||Co(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(m=H.stateNode,V)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=H.stateNode,A=H.memoizedProps.style;var J=A!=null&&A.hasOwnProperty("display")?A.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ve){nt(H,H.return,ve)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=V?"":H.memoizedProps}catch(ve){nt(H,H.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,cp(r,o))));break;case 19:Xn(s,r),Zn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,cp(r,c)));break;case 21:break;default:Xn(s,r),Zn(r)}}function Zn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(cE(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var m=c.stateNode,g=op(r);Nh(r,g,m);break;case 5:var b=c.stateNode;c.flags&32&&(zn(b,""),c.flags&=-33);var A=op(r);Nh(r,A,b);break;case 3:case 4:var V=c.stateNode.containerInfo,H=op(r);lp(r,H,V);break;default:throw Error(i(161))}}}catch(ee){nt(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function br(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dE(r,s.alternate,s),s=s.sibling}function Co(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ms(4,s,s.return),Co(s);break;case 1:On(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&oE(s,s.return,o),Co(s);break;case 26:case 27:case 5:On(s,s.return),Co(s);break;case 22:On(s,s.return),s.memoizedState===null&&Co(s);break;default:Co(s)}r=r.sibling}}function ps(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ps(m,g,o),du(4,g);break;case 1:if(ps(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){nt(c,c.return,H)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)rE(V[m],A)}catch(H){nt(c,c.return,H)}}o&&b&64&&aE(g),Sa(g,g.return);break;case 26:case 27:case 5:ps(m,g,o),o&&c===null&&b&4&&lE(g),Sa(g,g.return);break;case 12:ps(m,g,o);break;case 13:ps(m,g,o),o&&b&4&&gE(m,g);break;case 22:g.memoizedState===null&&ps(m,g,o),Sa(g,g.return);break;default:ps(m,g,o)}s=s.sibling}}function hp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&iu(o))}function fp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&iu(r))}function gs(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_E(r,s,o,c),s=s.sibling}function _E(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:gs(r,s,o,c),m&2048&&du(9,s);break;case 3:gs(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&iu(r)));break;case 12:if(m&2048){gs(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){nt(s,s.return,V)}}else gs(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?gs(r,s,o,c):mu(r,s):g._visibility&4?gs(r,s,o,c):(g._visibility|=4,Io(r,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&hp(s.alternate,s);break;case 24:gs(r,s,o,c),m&2048&&fp(s.alternate,s);break;default:gs(r,s,o,c)}}function Io(r,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,A=o,V=c,H=b.flags;switch(b.tag){case 0:case 11:case 15:Io(g,b,A,V,m),du(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&4?Io(g,b,A,V,m):mu(g,b):(ee._visibility|=4,Io(g,b,A,V,m)),m&&H&2048&&hp(b.alternate,b);break;case 24:Io(g,b,A,V,m),m&&H&2048&&fp(b.alternate,b);break;default:Io(g,b,A,V,m)}s=s.sibling}}function mu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:mu(o,c),m&2048&&hp(c.alternate,c);break;case 24:mu(o,c),m&2048&&fp(c.alternate,c);break;default:mu(o,c)}s=s.sibling}}var pu=8192;function Do(r){if(r.subtreeFlags&pu)for(r=r.child;r!==null;)EE(r),r=r.sibling}function EE(r){switch(r.tag){case 26:Do(r),r.flags&pu&&r.memoizedState!==null&&eD(di,r.memoizedState,r.memoizedProps);break;case 5:Do(r);break;case 3:case 4:var s=di;di=Gh(r.stateNode.containerInfo),Do(r),di=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=pu,pu=16777216,Do(r),pu=s):Do(r));break;default:Do(r)}}function TE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function gu(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];qt=c,wE(c,r)}TE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bE(r),r=r.sibling}function bE(r){switch(r.tag){case 0:case 11:case 15:gu(r),r.flags&2048&&ms(9,r,r.return);break;case 3:gu(r);break;case 12:gu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Ph(r)):gu(r);break;default:gu(r)}}function Ph(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];qt=c,wE(c,r)}TE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ms(8,s,s.return),Ph(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Ph(s));break;default:Ph(s)}r=r.sibling}}function wE(r,s){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:ms(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:iu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,qt=c;else e:for(o=r;qt!==null;){c=qt;var m=c.sibling,g=c.return;if(mE(c),c===o){qt=null;break e}if(m!==null){m.return=g,qt=m;break e}qt=g}}}function dI(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,s,o,c){return new dI(r,s,o,c)}function dp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ys(r,s){var o=r.alternate;return o===null?(o=Jn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function SE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Oh(r,s,o,c,m,g){var b=0;if(c=r,typeof r=="function")dp(r)&&(b=1);else if(typeof r=="string")b=ZI(r,o,Ut.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case d:return Aa(o.children,m,g,s);case p:b=8,m|=24;break;case y:return r=Jn(12,o,s,m|2),r.elementType=y,r.lanes=g,r;case D:return r=Jn(13,o,s,m),r.elementType=D,r.lanes=g,r;case R:return r=Jn(19,o,s,m),r.elementType=R,r.lanes=g,r;case F:return AE(o,m,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case w:b=10;break e;case E:b=9;break e;case S:b=11;break e;case O:b=14;break e;case B:b=16,c=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Jn(b,o,s,m),s.elementType=r,s.type=c,s.lanes=g,s}function Aa(r,s,o,c){return r=Jn(7,r,c,s),r.lanes=o,r}function AE(r,s,o,c){r=Jn(22,r,c,s),r.elementType=F,r.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var b=ss(g,2);b!==null&&(m._pendingVisibility|=2,yn(b,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(i(456));if(m._pendingVisibility&2){var b=ss(g,2);b!==null&&(m._pendingVisibility&=-3,yn(b,g,2))}}};return r.stateNode=m,r}function mp(r,s,o){return r=Jn(6,r,null,s),r.lanes=o,r}function pp(r,s,o){return s=Jn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function wr(r){r.flags|=4}function RE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!cT(s)){if(s=Wn.current,s!==null&&(($e&4194176)===$e?Li!==null:($e&62914560)!==$e&&!($e&536870912)||s!==Li))throw eu=Em,H0;r.flags|=8192}}function Mh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Kr():536870912,r.lanes|=s,Po|=s)}function yu(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function mI(r,s,o){var c=s.pendingProps;switch(vm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),_r(Ot),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Wl(s)?wr(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fi!==null&&(wp(fi),fi=null))),ut(s),null;case 26:return o=s.memoizedState,r===null?(wr(s),o!==null?(ut(s),RE(s,o)):(ut(s),s.flags&=-16777217)):o?o!==r.memoizedState?(wr(s),ut(s),RE(s,o)):(ut(s),s.flags&=-16777217):(r.memoizedProps!==c&&wr(s),ut(s),s.flags&=-16777217),null;case 27:Si(s),o=En.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&wr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ut(s),null}r=Ut.current,Wl(s)?F0(s):(r=nT(m,c,o),s.stateNode=r,wr(s))}return ut(s),null;case 5:if(Si(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&wr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ut(s),null}if(r=Ut.current,Wl(s))F0(s);else{switch(m=$h(En.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[Bt]=s,r[It]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(Wt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wr(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&wr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=En.current,Wl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=gn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Bt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||WE(r.nodeValue,o)),r||pa(s)}else r=$h(r).createTextNode(c),r[Bt]=s,s.stateNode=r}return ut(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Wl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Bt]=s}else Xl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ut(s),m=!1}else fi!==null&&(wp(fi),fi=null),m=!0;if(!m)return s.flags&256?(pr(s),s):(pr(s),null)}if(pr(s),s.flags&128)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Mh(s,s.updateQueue),ut(s),null;case 4:return oi(),r===null&&Mp(s.stateNode.containerInfo),ut(s),null;case 10:return _r(s.type),ut(s),null;case 19:if(Pe(Pt),m=s.memoizedState,m===null)return ut(s),null;if(c=(s.flags&128)!==0,g=m.rendering,g===null)if(c)yu(m,!1);else{if(pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=yh(r),g!==null){for(s.flags|=128,yu(m,!1),r=g.updateQueue,s.updateQueue=r,Mh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)SE(o,r),o=o.sibling;return ke(Pt,Pt.current&1|2),s.child}r=r.sibling}m.tail!==null&&bn()>Vh&&(s.flags|=128,c=!0,yu(m,!1),s.lanes=4194304)}else{if(!c)if(r=yh(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Mh(s,r),yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Qe)return ut(s),null}else 2*bn()-m.renderingStartTime>Vh&&o!==536870912&&(s.flags|=128,c=!0,yu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=bn(),s.sibling=null,r=Pt.current,ke(Pt,c?r&1|2:r&1),s):(ut(s),null);case 22:case 23:return pr(s),bm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?o&536870912&&!(s.flags&128)&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),o=s.updateQueue,o!==null&&Mh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&Pe(ya),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),_r(Ot),ut(s),null;case 25:return null}throw Error(i(156,s.tag))}function pI(r,s){switch(vm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _r(Ot),oi(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Si(s),null;case 13:if(pr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Xl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Pe(Pt),null;case 4:return oi(),null;case 10:return _r(s.type),null;case 22:case 23:return pr(s),bm(),r!==null&&Pe(ya),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return _r(Ot),null;case 25:return null;default:return null}}function xE(r,s){switch(vm(s),s.tag){case 3:_r(Ot),oi();break;case 26:case 27:case 5:Si(s);break;case 4:oi();break;case 13:pr(s);break;case 19:Pe(Pt);break;case 10:_r(s.type);break;case 22:case 23:pr(s),bm(),r!==null&&Pe(ya);break;case 24:_r(Ot)}}var gI={getCacheForType:function(r){var s=nn(Ot),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},yI=typeof WeakMap=="function"?WeakMap:Map,ct=0,it=null,Le=null,$e=0,rt=0,Vn=null,Sr=!1,No=!1,gp=!1,Ar=0,pt=0,vs=0,Ra=0,yp=0,ei=0,Po=0,vu=null,ji=null,vp=!1,_p=0,Vh=1/0,kh=null,_s=null,Lh=!1,xa=null,_u=0,Ep=0,Tp=null,Eu=0,bp=null;function kn(){if(ct&2&&$e!==0)return $e&-$e;if(C.T!==null){var r=wo;return r!==0?r:Dp()}return Hc()}function CE(){ei===0&&(ei=!($e&536870912)||Qe?Pl():536870912);var r=Wn.current;return r!==null&&(r.flags|=32),ei}function yn(r,s,o){(r===it&&rt===2||r.cancelPendingCommit!==null)&&(Oo(r,0),Rr(r,$e,ei,!1)),_t(r,o),(!(ct&2)||r!==it)&&(r===it&&(!(ct&2)&&(Ra|=o),pt===4&&Rr(r,$e,ei,!1)),Bi(r))}function IE(r,s,o){if(ct&6)throw Error(i(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Gr(r,s),m=c?EI(r,s):Rp(r,s,!0),g=c;do{if(m===0){No&&!c&&Rr(r,s,0,!1);break}else if(m===6)Rr(r,s,0,!Sr);else{if(o=r.current.alternate,g&&!vI(o)){m=Rp(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=r;m=vu;var V=A.current.memoizedState.isDehydrated;if(V&&(Oo(A,b).flags|=256),b=Rp(A,b,!1),b!==2){if(gp&&!V){A.errorRecoveryDisabledLanes|=g,Ra|=g,m=4;break e}g=ji,ji=m,g!==null&&wp(g)}m=b}if(g=!1,m!==2)continue}}if(m===1){Oo(r,0),Rr(r,s,0,!0);break}e:{switch(c=r,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Rr(c,s,ei,!Sr);break e}break;case 2:ji=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(g=_p+300-bn(),10<g)){if(Rr(c,s,ei,!Sr),Bn(c,0)!==0)break e;c.timeoutHandle=JE(DE.bind(null,c,o,ji,kh,vp,s,ei,Ra,Po,Sr,2,-0,0),g);break e}DE(c,o,ji,kh,vp,s,ei,Ra,Po,Sr,0,-0,0)}}break}while(!0);Bi(r)}function wp(r){ji===null?ji=r:ji.push.apply(ji,r)}function DE(r,s,o,c,m,g,b,A,V,H,ee,ae,Q){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:JI},EE(s),s=tD(),s!==null)){r.cancelPendingCommit=s(LE.bind(null,r,o,c,m,b,A,V,1,ae,Q)),Rr(r,g,b,!H);return}LE(r,o,c,m,b,A,V,ee,ae,Q)}function vI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Pn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rr(r,s,o,c){s&=~yp,s&=~Ra,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var g=31-dn(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&Yr(r,o,s)}function Uh(){return ct&6?!0:(Tu(0),!1)}function Sp(){if(Le!==null){if(rt===0)var r=Le.return;else r=Le,vr=ba=null,Dm(r),To=null,tu=0,r=Le;for(;r!==null;)xE(r.alternate,r),r=r.return;Le=null}}function Oo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,LI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Sp(),it=r,Le=o=ys(r.current,null),$e=s,rt=0,Vn=null,Sr=!1,No=Gr(r,s),gp=!1,Po=ei=yp=Ra=vs=pt=0,ji=vu=null,vp=!1,s&8&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-dn(c),g=1<<m;s|=r[m],c&=~g}return Ar=s,lh(),o}function NE(r,s){Me=null,C.H=Ui,s===Jl?(s=G0(),rt=3):s===H0?(s=G0(),rt=4):rt=s===q_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Le===null&&(pt=1,Ch(r,Kn(s,r.current)))}function PE(){var r=C.H;return C.H=Ui,r===null?Ui:r}function OE(){var r=C.A;return C.A=gI,r}function Ap(){pt=4,Sr||($e&4194176)!==$e&&Wn.current!==null||(No=!0),!(vs&134217727)&&!(Ra&134217727)||it===null||Rr(it,$e,ei,!1)}function Rp(r,s,o){var c=ct;ct|=2;var m=PE(),g=OE();(it!==r||$e!==s)&&(kh=null,Oo(r,s)),s=!1;var b=pt;e:do try{if(rt!==0&&Le!==null){var A=Le,V=Vn;switch(rt){case 8:Sp(),b=6;break e;case 3:case 2:case 6:Wn.current===null&&(s=!0);var H=rt;if(rt=0,Vn=null,Mo(r,A,V,H),o&&No){b=0;break e}break;default:H=rt,rt=0,Vn=null,Mo(r,A,V,H)}}_I(),b=pt;break}catch(ee){NE(r,ee)}while(!0);return s&&r.shellSuspendCounter++,vr=ba=null,ct=c,C.H=m,C.A=g,Le===null&&(it=null,$e=0,lh()),b}function _I(){for(;Le!==null;)ME(Le)}function EI(r,s){var o=ct;ct|=2;var c=PE(),m=OE();it!==r||$e!==s?(kh=null,Vh=bn()+500,Oo(r,s)):No=Gr(r,s);e:do try{if(rt!==0&&Le!==null){s=Le;var g=Vn;t:switch(rt){case 1:rt=0,Vn=null,Mo(r,s,g,1);break;case 2:if(q0(g)){rt=0,Vn=null,VE(s);break}s=function(){rt===2&&it===r&&(rt=7),Bi(r)},g.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:q0(g)?(rt=0,Vn=null,VE(s)):(rt=0,Vn=null,Mo(r,s,g,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var A=Le;if(!b||cT(b)){rt=0,Vn=null;var V=A.sibling;if(V!==null)Le=V;else{var H=A.return;H!==null?(Le=H,jh(H)):Le=null}break t}}rt=0,Vn=null,Mo(r,s,g,5);break;case 6:rt=0,Vn=null,Mo(r,s,g,6);break;case 8:Sp(),pt=6;break e;default:throw Error(i(462))}}TI();break}catch(ee){NE(r,ee)}while(!0);return vr=ba=null,C.H=c,C.A=m,ct=o,Le!==null?0:(it=null,$e=0,lh(),pt)}function TI(){for(;Le!==null&&!Za();)ME(Le)}function ME(r){var s=nE(r.alternate,r,Ar);r.memoizedProps=r.pendingProps,s===null?jh(r):Le=s}function VE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=W_(o,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=W_(o,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Dm(s);default:xE(o,s),s=Le=SE(s,Ar),s=nE(o,s,Ar)}r.memoizedProps=r.pendingProps,s===null?jh(r):Le=s}function Mo(r,s,o,c){vr=ba=null,Dm(s),To=null,tu=0;var m=s.return;try{if(uI(r,m,s,o,$e)){pt=1,Ch(r,Kn(o,r.current)),Le=null;return}}catch(g){if(m!==null)throw Le=m,g;pt=1,Ch(r,Kn(o,r.current)),Le=null;return}s.flags&32768?(Qe||c===1?r=!0:No||$e&536870912?r=!1:(Sr=r=!0,(c===2||c===3||c===6)&&(c=Wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),kE(s,r)):jh(s)}function jh(r){var s=r;do{if(s.flags&32768){kE(s,Sr);return}r=s.return;var o=mI(s.alternate,s,Ar);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=r}while(s!==null);pt===0&&(pt=5)}function kE(r,s){do{var o=pI(r.alternate,r);if(o!==null){o.flags&=32767,Le=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Le=r;return}Le=r=o}while(r!==null);pt=6,Le=null}function LE(r,s,o,c,m,g,b,A,V,H){var ee=C.T,ae=de.p;try{de.p=2,C.T=null,bI(r,s,o,c,ae,m,g,b,A,V,H)}finally{C.T=ee,de.p=ae}}function bI(r,s,o,c,m,g,b,A){do Vo();while(xa!==null);if(ct&6)throw Error(i(327));var V=r.finishedWork;if(c=r.finishedLanes,V===null)return null;if(r.finishedWork=null,r.finishedLanes=0,V===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=V.lanes|V.childLanes;if(H|=pm,Fc(r,c,H,g,b,A),r===it&&(Le=it=null,$e=0),!(V.subtreeFlags&10256)&&!(V.flags&10256)||Lh||(Lh=!0,Ep=H,Tp=o,RI(ir,function(){return Vo(),null})),o=(V.flags&15990)!==0,V.subtreeFlags&15990||o?(o=C.T,C.T=null,g=de.p,de.p=2,b=ct,ct|=4,hI(r,V),yE(V,r),G1(Up,r.containerInfo),Xh=!!Lp,Up=Lp=null,r.current=V,dE(r,V.alternate,V),Cl(),ct=b,de.p=g,C.T=o):r.current=V,Lh?(Lh=!1,xa=r,_u=c):UE(r,H),H=r.pendingLanes,H===0&&(_s=null),Dl(V.stateNode),Bi(r),s!==null)for(m=r.onRecoverableError,V=0;V<s.length;V++)H=s[V],m(H.value,{componentStack:H.stack});return _u&3&&Vo(),H=r.pendingLanes,c&4194218&&H&42?r===bp?Eu++:(Eu=0,bp=r):Eu=0,Tu(0),null}function UE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,iu(s)))}function Vo(){if(xa!==null){var r=xa,s=Ep;Ep=0;var o=zc(_u),c=C.T,m=de.p;try{if(de.p=32>o?32:o,C.T=null,xa===null)var g=!1;else{o=Tp,Tp=null;var b=xa,A=_u;if(xa=null,_u=0,ct&6)throw Error(i(331));var V=ct;if(ct|=4,bE(b.current),_E(b,b.current,A,o),ct=V,Tu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qr,b)}catch{}g=!0}return g}finally{de.p=m,C.T=c,UE(r,s)}}return!1}function jE(r,s,o){s=Kn(o,s),s=qm(r.stateNode,s,2),r=ds(r,s,2),r!==null&&(_t(r,2),Bi(r))}function nt(r,s,o){if(r.tag===3)jE(r,r,o);else for(;s!==null;){if(s.tag===3){jE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=Kn(o,r),o=z_(2),c=ds(s,o,2),c!==null&&(H_(o,c,s,r),_t(c,2),Bi(c));break}}s=s.return}}function xp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new yI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(gp=!0,m.add(o),r=wI.bind(null,r,s,o),s.then(r,r))}function wI(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,it===r&&($e&o)===o&&(pt===4||pt===3&&($e&62914560)===$e&&300>bn()-_p?!(ct&2)&&Oo(r,0):yp|=o,Po===$e&&(Po=0)),Bi(r)}function BE(r,s){s===0&&(s=Kr()),r=ss(r,s),r!==null&&(_t(r,s),Bi(r))}function SI(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),BE(r,o)}function AI(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),BE(r,o)}function RI(r,s){return li(r,s)}var Bh=null,ko=null,Cp=!1,Fh=!1,Ip=!1,Ca=0;function Bi(r){r!==ko&&r.next===null&&(ko===null?Bh=ko=r:ko=ko.next=r),Fh=!0,Cp||(Cp=!0,CI(xI))}function Tu(r,s){if(!Ip&&Fh){Ip=!0;do for(var o=!1,c=Bh;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-dn(42|r)+1)-1,g&=m&~(b&~A),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,HE(c,g))}else g=$e,g=Bn(c,c===it?g:0),!(g&3)||Gr(c,g)||(o=!0,HE(c,g));c=c.next}while(o);Ip=!1}}function xI(){Fh=Cp=!1;var r=0;Ca!==0&&(kI()&&(r=Ca),Ca=0);for(var s=bn(),o=null,c=Bh;c!==null;){var m=c.next,g=FE(c,s);g===0?(c.next=null,o===null?Bh=m:o.next=m,m===null&&(ko=o)):(o=c,(r!==0||g&3)&&(Fh=!0)),c=m}Tu(r)}function FE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-dn(g),A=1<<b,V=m[b];V===-1?(!(A&o)||A&c)&&(m[b]=Ja(A,s)):V<=s&&(r.expiredLanes|=A),g&=~A}if(s=it,o=$e,o=Bn(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&rt===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&nr(c),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||Gr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&nr(c),zc(o)){case 2:case 8:o=jt;break;case 32:o=ir;break;case 268435456:o=Il;break;default:o=ir}return c=zE.bind(null,r),o=li(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&nr(c),r.callbackPriority=2,r.callbackNode=null,2}function zE(r,s){var o=r.callbackNode;if(Vo()&&r.callbackNode!==o)return null;var c=$e;return c=Bn(r,r===it?c:0),c===0?null:(IE(r,c,s),FE(r,bn()),r.callbackNode!=null&&r.callbackNode===o?zE.bind(null,r):null)}function HE(r,s){if(Vo())return null;IE(r,s,!0)}function CI(r){UI(function(){ct&6?li(Ct,r):r()})}function Dp(){return Ca===0&&(Ca=Pl()),Ca}function qE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ii(""+r)}function $E(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function II(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=qE((m[It]||null).action),b=c.submitter;b&&(s=(s=b[It]||null)?qE(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new ao("action","action",null,c,m);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ca!==0){var V=b?$E(m,b):new FormData(m);jm(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=b?$E(m,b):new FormData(m),jm(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Np=0;Np<L0.length;Np++){var Pp=L0[Np],DI=Pp.toLowerCase(),NI=Pp[0].toUpperCase()+Pp.slice(1);hi(DI,"on"+NI)}hi(P0,"onAnimationEnd"),hi(O0,"onAnimationIteration"),hi(M0,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Y1,"onTransitionRun"),hi(Q1,"onTransitionStart"),hi(W1,"onTransitionCancel"),hi(V0,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function GE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],V=A.instance,H=A.currentTarget;if(A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=H;try{g(m)}catch(ee){xh(ee)}m.currentTarget=null,g=V}else for(b=0;b<c.length;b++){if(A=c[b],V=A.instance,H=A.currentTarget,A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=H;try{g(m)}catch(ee){xh(ee)}m.currentTarget=null,g=V}}}}function Fe(r,s){var o=s[Js];o===void 0&&(o=s[Js]=new Set);var c=r+"__bubble";o.has(c)||(KE(s,r,2,!1),o.add(c))}function Op(r,s,o){var c=0;s&&(c|=4),KE(o,r,c,s)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Mp(r){if(!r[zh]){r[zh]=!0,Ml.forEach(function(o){o!=="selectionchange"&&(PI.has(o)||Op(o,!1,r),Op(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zh]||(s[zh]=!0,Op("selectionchange",!1,s))}}function KE(r,s,o,c){switch(gT(s)){case 2:var m=rD;break;case 8:m=sD;break;default:m=Kp}o=m.bind(null,s,o,r),m=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Vp(r,s,o,c,m){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;b=b.return}for(;A!==null;){if(b=ci(A),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=g=b;continue e}A=A.parentNode}}c=c.return}Kc(function(){var H=g,ee=so(o),ae=[];e:{var Q=k0.get(r);if(Q!==void 0){var J=ao,ve=r;switch(r){case"keypress":if(Ni(o)===0)break e;case"keydown":case"keyup":J=fo;break;case"focusin":ve="focus",J=uo;break;case"focusout":ve="blur",J=uo;break;case"beforeblur":case"afterblur":J=uo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=th;break;case P0:case O0:case M0:J=co;break;case V0:J=ih;break;case"scroll":case"scrollend":J=Yc;break;case"wheel":J=mo;break;case"copy":case"cut":case"paste":J=ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Gl;break;case"toggle":case"beforetoggle":J=sh}var Ie=(s&4)!==0,gt=!Ie&&(r==="scroll"||r==="scrollend"),$=Ie?Q!==null?Q+"Capture":null:Q;Ie=[];for(var z=H,K;z!==null;){var ie=z;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||$===null||(ie=ra(z,$),ie!=null&&Ie.push(wu(z,ie,K))),gt)break;z=z.return}0<Ie.length&&(Q=new J(Q,ve,null,o,ee),ae.push({event:Q,listeners:Ie}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Q&&o!==Hn&&(ve=o.relatedTarget||o.fromElement)&&(ci(ve)||ve[rr]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(ve=o.relatedTarget||o.toElement,J=H,ve=ve?ci(ve):null,ve!==null&&(gt=ne(ve),Ie=ve.tag,ve!==gt||Ie!==5&&Ie!==27&&Ie!==6)&&(ve=null)):(J=null,ve=H),J!==ve)){if(Ie=$n,ie="onMouseLeave",$="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=Gl,ie="onPointerLeave",$="onPointerEnter",z="pointer"),gt=J==null?Q:Zr(J),K=ve==null?Q:Zr(ve),Q=new Ie(ie,z+"leave",J,o,ee),Q.target=gt,Q.relatedTarget=K,ie=null,ci(ee)===H&&(Ie=new Ie($,z+"enter",ve,o,ee),Ie.target=K,Ie.relatedTarget=gt,ie=Ie),gt=ie,J&&ve)t:{for(Ie=J,$=ve,z=0,K=Ie;K;K=Lo(K))z++;for(K=0,ie=$;ie;ie=Lo(ie))K++;for(;0<z-K;)Ie=Lo(Ie),z--;for(;0<K-z;)$=Lo($),K--;for(;z--;){if(Ie===$||$!==null&&Ie===$.alternate)break t;Ie=Lo(Ie),$=Lo($)}Ie=null}else Ie=null;J!==null&&YE(ae,Q,J,Ie,!1),ve!==null&&gt!==null&&YE(ae,gt,ve,Ie,!0)}}e:{if(Q=H?Zr(H):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ye=T0;else if(Nt(Q))if(b0)ye=q1;else{ye=z1;var Ve=F1}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&jl(H.elementType)&&(ye=T0):ye=H1;if(ye&&(ye=ye(r,H))){fr(ae,ye,o,ee);break e}Ve&&Ve(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&ro(Q,"number",Q.value)}switch(Ve=H?Zr(H):window,r){case"focusin":(Nt(Ve)||Ve.contentEditable==="true")&&(po=Ve,fm=H,Ql=null);break;case"focusout":Ql=fm=po=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,D0(ae,o,ee);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":D0(ae,o,ee)}var Ee;if(Mi)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else He?W(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(T&&o.locale!=="ko"&&(He||we!=="onCompositionStart"?we==="onCompositionEnd"&&He&&(Ee=Fl()):(Di=ee,rs="value"in Di?Di.value:Di.textContent,He=!0)),Ve=Hh(H,we),0<Ve.length&&(we=new ql(we,r,null,o,ee),ae.push({event:we,listeners:Ve}),Ee?we.data=Ee:(Ee=ce(o),Ee!==null&&(we.data=Ee)))),(Ee=v?Dt(r,o):qe(r,o))&&(we=Hh(H,"onBeforeInput"),0<we.length&&(Ve=new ql("onBeforeInput","beforeinput",null,o,ee),ae.push({event:Ve,listeners:we}),Ve.data=Ee)),II(ae,r,H,o,ee)}GE(ae,s)})}function wu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Hh(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ra(r,o),m!=null&&c.unshift(wu(r,m,g)),m=ra(r,s),m!=null&&c.push(wu(r,m,g))),r=r.return}return c}function Lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function YE(r,s,o,c,m){for(var g=s._reactName,b=[];o!==null&&o!==c;){var A=o,V=A.alternate,H=A.stateNode;if(A=A.tag,V!==null&&V===c)break;A!==5&&A!==26&&A!==27||H===null||(V=H,m?(H=ra(o,g),H!=null&&b.unshift(wu(o,H,V))):m||(H=ra(o,g),H!=null&&b.push(wu(o,H,V)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var OI=/\r\n?/g,MI=/\u0000|\uFFFD/g;function QE(r){return(typeof r=="string"?r:""+r).replace(OI,`
`).replace(MI,"")}function WE(r,s){return s=QE(s),QE(r)===s}function qh(){}function tt(r,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||zn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&zn(r,""+c);break;case"className":ts(r,"class",c);break;case"tabIndex":ts(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(r,o,c);break;case"style":Gc(r,c,g);break;case"data":if(s!=="object"){ts(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ii(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(r,s,"name",m.name,m,null),tt(r,s,"formEncType",m.formEncType,m,null),tt(r,s,"formMethod",m.formMethod,m,null),tt(r,s,"formTarget",m.formTarget,m,null)):(tt(r,s,"encType",m.encType,m,null),tt(r,s,"method",m.method,m,null),tt(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ii(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=qh);break;case"onScroll":c!=null&&Fe("scroll",r);break;case"onScrollEnd":c!=null&&Fe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Ii(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Fe("beforetoggle",r),Fe("toggle",r),es(r,"popover",c);break;case"xlinkActuate":Fn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":es(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sm.get(o)||o,es(r,o,c))}}function kp(r,s,o,c,m,g){switch(o){case"style":Gc(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?zn(r,c):(typeof c=="number"||typeof c=="bigint")&&zn(r,""+c);break;case"onScroll":c!=null&&Fe("scroll",r);break;case"onScrollEnd":c!=null&&Fe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[It]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):es(r,o,c)}}}function Wt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",r),Fe("load",r);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,g,b,o,null)}}m&&tt(r,s,"srcSet",o.srcSet,o,null),c&&tt(r,s,"src",o.src,o,null);return;case"input":Fe("invalid",r);var A=g=b=m=null,V=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":b=ee;break;case"checked":V=ee;break;case"defaultChecked":H=ee;break;case"value":g=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:tt(r,s,c,ee,o,null)}}na(r,g,A,V,H,b,m,!1),ta(r);return;case"select":Fe("invalid",r),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:tt(r,s,m,A,o,null)}s=g,o=b,r.multiple=!!c,s!=null?Ye(r,!!c,s,!1):o!=null&&Ye(r,!!c,o,!0);return;case"textarea":Fe("invalid",r),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:tt(r,s,b,A,o,null)}is(r,c,m,g),ta(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(r,s,V,c,o,null)}return;case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":Fe("load",r);break;case"video":case"audio":for(c=0;c<bu.length;c++)Fe(bu[c],r);break;case"image":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"embed":case"source":case"link":Fe("error",r),Fe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,H,c,o,null)}return;default:if(jl(s)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&kp(r,s,ee,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(r,s,A,c,o,null))}function VI(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,A=null,V=null,H=null,ee=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=ae;default:c.hasOwnProperty(J)||tt(r,s,J,null,c,ae)}}for(var Q in c){var J=c[Q];if(ae=o[Q],c.hasOwnProperty(Q)&&(J!=null||ae!=null))switch(Q){case"type":g=J;break;case"name":m=J;break;case"checked":H=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ae&&tt(r,s,Q,J,c,ae)}}ns(r,b,A,V,H,ee,g,m);return;case"select":J=b=A=Q=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":J=V;default:c.hasOwnProperty(g)||tt(r,s,g,null,c,V)}for(m in c)if(g=c[m],V=o[m],c.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==V&&tt(r,s,m,g,c,V)}s=A,o=b,c=J,Q!=null?Ye(r,!!o,Q,!1):!!c!=!!o&&(s!=null?Ye(r,!!o,s,!0):Ye(r,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(r,s,A,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&tt(r,s,b,m,c,g)}ia(r,Q,J);return;case"option":for(var ve in o)if(Q=o[ve],o.hasOwnProperty(ve)&&Q!=null&&!c.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:tt(r,s,ve,null,c,Q)}for(V in c)if(Q=c[V],J=o[V],c.hasOwnProperty(V)&&Q!==J&&(Q!=null||J!=null))switch(V){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(r,s,V,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)Q=o[Ie],o.hasOwnProperty(Ie)&&Q!=null&&!c.hasOwnProperty(Ie)&&tt(r,s,Ie,null,c,Q);for(H in c)if(Q=c[H],J=o[H],c.hasOwnProperty(H)&&Q!==J&&(Q!=null||J!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:tt(r,s,H,Q,c,J)}return;default:if(jl(s)){for(var gt in o)Q=o[gt],o.hasOwnProperty(gt)&&Q!==void 0&&!c.hasOwnProperty(gt)&&kp(r,s,gt,void 0,c,Q);for(ee in c)Q=c[ee],J=o[ee],!c.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||kp(r,s,ee,Q,c,J);return}}for(var $ in o)Q=o[$],o.hasOwnProperty($)&&Q!=null&&!c.hasOwnProperty($)&&tt(r,s,$,null,c,Q);for(ae in c)Q=c[ae],J=o[ae],!c.hasOwnProperty(ae)||Q===J||Q==null&&J==null||tt(r,s,ae,Q,c,J)}var Lp=null,Up=null;function $h(r){return r.nodeType===9?r:r.ownerDocument}function XE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function jp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function kI(){var r=window.event;return r&&r.type==="popstate"?r===Bp?!1:(Bp=r,!0):(Bp=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,LI=typeof clearTimeout=="function"?clearTimeout:void 0,eT=typeof Promise=="function"?Promise:void 0,UI=typeof queueMicrotask=="function"?queueMicrotask:typeof eT<"u"?function(r){return eT.resolve(null).then(r).catch(jI)}:JE;function jI(r){setTimeout(function(){throw r})}function Fp(r,s){var o=s,c=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){r.removeChild(m),Nu(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);Nu(s)}function zp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zp(o),ea(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function BI(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Xr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=mi(r.nextSibling),r===null)break}return null}function FI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=mi(r.nextSibling),r===null))return null;return r}function mi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function tT(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function nT(r,s,o){switch(s=$h(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ti=new Map,iT=new Set;function Gh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var xr=de.d;de.d={f:zI,r:HI,D:qI,C:$I,L:GI,m:KI,X:QI,S:YI,M:WI};function zI(){var r=xr.f(),s=Uh();return r||s}function HI(r){var s=sr(r);s!==null&&s.tag===5&&s.type==="form"?D_(s):xr.r(r)}var Uo=typeof document>"u"?null:document;function rT(r,s,o){var c=Uo;if(c&&typeof s=="string"&&s){var m=dt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),iT.has(m)||(iT.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Wt(s,"link",r),lt(s),c.head.appendChild(s)))}}function qI(r){xr.D(r),rT("dns-prefetch",r,null)}function $I(r,s){xr.C(r,s),rT("preconnect",r,s)}function GI(r,s,o){xr.L(r,s,o);var c=Uo;if(c&&r&&s){var m='link[rel="preload"][as="'+dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+dt(o.imageSizes)+'"]')):m+='[href="'+dt(r)+'"]';var g=m;switch(s){case"style":g=jo(r);break;case"script":g=Bo(r)}ti.has(g)||(r=M({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ti.set(g,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Su(g))||s==="script"&&c.querySelector(Au(g))||(s=c.createElement("link"),Wt(s,"link",r),lt(s),c.head.appendChild(s)))}}function KI(r,s){xr.m(r,s);var o=Uo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+dt(c)+'"][href="'+dt(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(r)}if(!ti.has(g)&&(r=M({rel:"modulepreload",href:r},s),ti.set(g,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Au(g)))return}c=o.createElement("link"),Wt(c,"link",r),lt(c),o.head.appendChild(c)}}}function YI(r,s,o){xr.S(r,s,o);var c=Uo;if(c&&r){var m=Jr(c).hoistableStyles,g=jo(r);s=s||"default";var b=m.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Su(g)))A.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ti.get(g))&&Hp(r,o);var V=b=c.createElement("link");lt(V),Wt(V,"link",r),V._p=new Promise(function(H,ee){V.onload=H,V.onerror=ee}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Kh(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(g,b)}}}function QI(r,s){xr.X(r,s);var o=Uo;if(o&&r){var c=Jr(o).hoistableScripts,m=Bo(r),g=c.get(m);g||(g=o.querySelector(Au(m)),g||(r=M({src:r,async:!0},s),(s=ti.get(m))&&qp(r,s),g=o.createElement("script"),lt(g),Wt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function WI(r,s){xr.M(r,s);var o=Uo;if(o&&r){var c=Jr(o).hoistableScripts,m=Bo(r),g=c.get(m);g||(g=o.querySelector(Au(m)),g||(r=M({src:r,async:!0,type:"module"},s),(s=ti.get(m))&&qp(r,s),g=o.createElement("script"),lt(g),Wt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function sT(r,s,o,c){var m=(m=En.current)?Gh(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=jo(o.href),o=Jr(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=jo(o.href);var g=Jr(m).hoistableStyles,b=g.get(r);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=m.querySelector(Su(r)))&&!g._p&&(b.instance=g,b.state.loading=5),ti.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(r,o),g||XI(m,r,o,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bo(o),o=Jr(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function jo(r){return'href="'+dt(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function aT(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function XI(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Wt(s,"link",o),lt(s),r.head.appendChild(s))}function Bo(r){return'[src="'+dt(r)+'"]'}function Au(r){return"script[async]"+r}function oT(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+dt(o.href)+'"]');if(c)return s.instance=c,lt(c),c;var m=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),lt(c),Wt(c,"style",m),Kh(c,o.precedence,r),s.instance=c;case"stylesheet":m=jo(o.href);var g=r.querySelector(Su(m));if(g)return s.state.loading|=4,s.instance=g,lt(g),g;c=aT(o),(m=ti.get(m))&&Hp(c,m),g=(r.ownerDocument||r).createElement("link"),lt(g);var b=g;return b._p=new Promise(function(A,V){b.onload=A,b.onerror=V}),Wt(g,"link",c),s.state.loading|=4,Kh(g,o.precedence,r),s.instance=g;case"script":return g=Bo(o.src),(m=r.querySelector(Au(g)))?(s.instance=m,lt(m),m):(c=o,(m=ti.get(g))&&(c=M({},o),qp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),lt(m),Wt(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(c=s.instance,s.state.loading|=4,Kh(c,o.precedence,r));return s.instance}function Kh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Hp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function qp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Yh=null;function lT(r,s,o){if(Yh===null){var c=new Map,m=Yh=new Map;m.set(o,c)}else m=Yh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Xr]||g[Bt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function uT(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function ZI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function cT(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Ru=null;function JI(){}function eD(r,s,o){if(Ru===null)throw Error(i(475));var c=Ru;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var m=jo(o.href),g=r.querySelector(Su(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Qh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,lt(g);return}g=r.ownerDocument||r,o=aT(o),(m=ti.get(m))&&Hp(o,m),g=g.createElement("link"),lt(g);var b=g;b._p=new Promise(function(A,V){b.onload=A,b.onerror=V}),Wt(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(c.count++,s=Qh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function tD(){if(Ru===null)throw Error(i(475));var r=Ru;return r.stylesheets&&r.count===0&&$p(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&$p(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wh=null;function $p(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wh=new Map,s.forEach(nD,r),Wh=null,Qh.call(r))}function nD(r,s){if(!(s.state.loading&4)){var o=Wh.get(r);if(o)var c=o.get(null);else{o=new Map,Wh.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=s.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=Qh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var xu={$$typeof:w,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function iD(r,s,o,c,m,g,b,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function hT(r,s,o,c,m,g,b,A,V,H,ee,ae){return r=new iD(r,s,o,b,A,V,H,ae),s=1,g===!0&&(s|=24),g=Jn(3,null,null,s),r.current=g,g.stateNode=r,s=wm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},ip(g),r}function fT(r){return r?(r=vo,r):vo}function dT(r,s,o,c,m,g){m=fT(m),c.context===null?c.context=m:c.pendingContext=m,c=fs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ds(r,c,s),o!==null&&(yn(o,r,s),cu(o,r,s))}function mT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Gp(r,s){mT(r,s),(r=r.alternate)&&mT(r,s)}function pT(r){if(r.tag===13){var s=ss(r,67108864);s!==null&&yn(s,r,67108864),Gp(r,67108864)}}var Xh=!0;function rD(r,s,o,c){var m=C.T;C.T=null;var g=de.p;try{de.p=2,Kp(r,s,o,c)}finally{de.p=g,C.T=m}}function sD(r,s,o,c){var m=C.T;C.T=null;var g=de.p;try{de.p=8,Kp(r,s,o,c)}finally{de.p=g,C.T=m}}function Kp(r,s,o,c){if(Xh){var m=Yp(c);if(m===null)Vp(r,s,c,Zh,o),yT(r,c);else if(oD(m,r,s,o,c))c.stopPropagation();else if(yT(r,c),s&4&&-1<aD.indexOf(r)){for(;m!==null;){var g=sr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ui(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var V=1<<31-dn(b);A.entanglements[1]|=V,b&=~V}Bi(g),!(ct&6)&&(Vh=bn()+500,Tu(0))}}break;case 13:A=ss(g,2),A!==null&&yn(A,g,2),Uh(),Gp(g,2)}if(g=Yp(c),g===null&&Vp(r,s,c,Zh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Vp(r,s,c,null,o)}}function Yp(r){return r=so(r),Qp(r)}var Zh=null;function Qp(r){if(Zh=null,r=ci(r),r!==null){var s=ne(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=le(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zh=r,null}function gT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case Ct:return 2;case jt:return 8;case ir:case Uc:return 32;case Il:return 268435456;default:return 32}default:return 32}}var Wp=!1,Es=null,Ts=null,bs=null,Cu=new Map,Iu=new Map,ws=[],aD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yT(r,s){switch(r){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(s.pointerId)}}function Du(r,s,o,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=sr(s),s!==null&&pT(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function oD(r,s,o,c,m){switch(s){case"focusin":return Es=Du(Es,r,s,o,c,m),!0;case"dragenter":return Ts=Du(Ts,r,s,o,c,m),!0;case"mouseover":return bs=Du(bs,r,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Cu.set(g,Du(Cu.get(g)||null,r,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Iu.set(g,Du(Iu.get(g)||null,r,s,o,c,m)),!0}return!1}function vT(r){var s=ci(r.target);if(s!==null){var o=ne(s);if(o!==null){if(s=o.tag,s===13){if(s=le(o),s!==null){r.blockedOn=s,Wr(r.priority,function(){if(o.tag===13){var c=kn(),m=ss(o,c);m!==null&&yn(m,o,c),Gp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Yp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Hn=c,o.target.dispatchEvent(c),Hn=null}else return s=sr(o),s!==null&&pT(s),r.blockedOn=o,!1;s.shift()}return!0}function _T(r,s,o){Jh(r)&&o.delete(s)}function lD(){Wp=!1,Es!==null&&Jh(Es)&&(Es=null),Ts!==null&&Jh(Ts)&&(Ts=null),bs!==null&&Jh(bs)&&(bs=null),Cu.forEach(_T),Iu.forEach(_T)}function ef(r,s){r.blockedOn===s&&(r.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lD)))}var tf=null;function ET(r){tf!==r&&(tf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tf===r&&(tf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(Qp(c||o)===null)continue;break}var g=sr(o);g!==null&&(r.splice(s,3),s-=3,jm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Nu(r){function s(V){return ef(V,r)}Es!==null&&ef(Es,r),Ts!==null&&ef(Ts,r),bs!==null&&ef(bs,r),Cu.forEach(s),Iu.forEach(s);for(var o=0;o<ws.length;o++){var c=ws[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)vT(o),o.blockedOn===null&&ws.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[It]||null;if(typeof g=="function")b||ET(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[It]||null)A=b.formAction;else if(Qp(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),ET(o)}}}function Xp(r){this._internalRoot=r}nf.prototype.render=Xp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=kn();dT(o,c,r,s,null,null)},nf.prototype.unmount=Xp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Vo(),dT(r.current,2,null,r,null,null),Uh(),s[rr]=null}};function nf(r){this._internalRoot=r}nf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Hc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ws.length&&s!==0&&s<ws[o].priority;o++);ws.splice(o,0,r),o===0&&vT(r)}};var TT=e.version;if(TT!=="19.0.0")throw Error(i(527,TT,"19.0.0"));de.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=te(s),r=r!==null?pe(r):null,r=r===null?null:r.stateNode,r};var uD={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:ci,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{qr=rf.inject(uD),tn=rf}catch{}}return Ou.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=U_,g=j_,b=B_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=hT(r,1,!1,null,null,o,c,m,g,b,A,null),r[rr]=s.current,Mp(r.nodeType===8?r.parentNode:r),new Xp(s)},Ou.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",g=U_,b=j_,A=B_,V=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=hT(r,1,!0,s,o??null,c,m,g,b,A,V,H),s.context=fT(null),o=s.current,c=kn(),m=fs(c),m.callback=null,ds(o,m,c),s.current.lanes=c,_t(s,c),Bi(s),r[rr]=s.current,Mp(r),new nf(s)},Ou.version="19.0.0",Ou}var NT;function _D(){if(NT)return eg.exports;NT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=vD(),eg.exports}var ED=_D();const TD=QS(ED),Ga=k.createContext({theme:"light",toggleTheme:()=>{}}),bD=({children:t})=>{const[e,n]=k.useState(localStorage.getItem("theme")||"light"),i=()=>{console.log("toggleTheme called, current theme:",e),n(a=>{const l=a==="light"?"dark":"light";return localStorage.setItem("theme",l),console.log("Theme set to:",l),l})};return k.useEffect(()=>{console.log("ThemeProvider useEffect ran, theme:",e);const a=l=>{const u=l.newValue||localStorage.getItem("theme")||"light";n(u),console.log("Storage changed, new theme:",u)};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),console.log("ThemeProvider rendered, current theme:",e),P.jsx(Ga.Provider,{value:{theme:e,toggleTheme:i},children:t})};var Mu={},PT;function wD(){if(PT)return Mu;PT=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.parse=u,Mu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,w){const S=new l,D=E.length;if(D<2)return S;const R=(w==null?void 0:w.decode)||y;let O=0;do{const B=E.indexOf("=",O);if(B===-1)break;const F=E.indexOf(";",O),Z=F===-1?D:F;if(B>Z){O=E.lastIndexOf(";",B-1)+1;continue}const Y=h(E,O,B),se=d(E,B,Y),L=E.slice(Y,se);if(S[L]===void 0){let I=h(E,B+1,Z),C=d(E,Z,I);const M=R(E.slice(I,C));S[L]=M}O=Z+1}while(O<D);return S}function h(E,w,S){do{const D=E.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<S);return S}function d(E,w,S){for(;w>S;){const D=E.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return S}function p(E,w,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=D(w);if(!e.test(R))throw new TypeError(`argument val is invalid: ${w}`);let O=E+"="+R;if(!S)return O;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);O+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);O+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);O+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);O+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(O+="; HttpOnly"),S.secure&&(O+="; Secure"),S.partitioned&&(O+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return O}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Mu}wD();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OT="popstate";function SD(t={}){function e(i,a){let{pathname:l,search:u,hash:h}=i.location;return Lg("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:tc(a)}return RD(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AD(){return Math.random().toString(36).substring(2,10)}function MT(t,e){return{usr:t.state,key:t.key,idx:e}}function Lg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||i||AD()}}function tc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function RD(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let R=y(),O=R==null?null:R-p;p=R,d&&d({action:h,location:D.location,delta:O})}function E(R,O){h="PUSH";let B=Lg(D.location,R,O);p=y()+1;let F=MT(B,p),Z=D.createHref(B);try{u.pushState(F,"",Z)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(Z)}l&&d&&d({action:h,location:D.location,delta:1})}function w(R,O){h="REPLACE";let B=Lg(D.location,R,O);p=y();let F=MT(B,p),Z=D.createHref(B);u.replaceState(F,"",Z),l&&d&&d({action:h,location:D.location,delta:0})}function S(R){let O=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof R=="string"?R:tc(R);return B=B.replace(/ $/,"%20"),ot(O,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,O)}let D={get action(){return h},get location(){return t(a,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(OT,_),d=R,()=>{a.removeEventListener(OT,_),d=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let O=S(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:w,go(R){return u.go(R)}};return D}function WS(t,e,n="/"){return xD(t,e,n,!1)}function xD(t,e,n,i){let a=typeof e=="string"?pl(e):e,l=Lr(a.pathname||"/",n);if(l==null)return null;let u=XS(t);CD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=jD(l);h=LD(u[d],p,i)}return h}function XS(t,e=[],n=[],i=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=Pr([i,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),XS(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:VD(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let d of ZS(l.path))a(l,u,d)}),e}function ZS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=ZS(i.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function CD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var ID=/^:[\w-]+$/,DD=3,ND=2,PD=1,OD=10,MD=-2,VT=t=>t==="*";function VD(t,e){let n=t.split("/"),i=n.length;return n.some(VT)&&(i+=MD),e&&(i+=ND),n.filter(a=>!VT(a)).reduce((a,l)=>a+(ID.test(l)?DD:l===""?PD:OD),i)}function kD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function LD(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),E=d.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Pr([l,_.pathname]),pathnameBase:HD(Pr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Pr([l,_.pathnameBase]))}return u}function kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=UD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let S=h[E]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[E];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function UD(t,e=!1,n=!0){vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function jD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function BD(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:FD(n,e):e,search:qD(i),hash:$D(a)}}function FD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Oy(t){let e=zD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function My(t,e,n,i=!1){let a;typeof t=="string"?a=pl(t):(a={...t},ot(!a.pathname||!a.pathname.includes("?"),rg("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),rg("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),rg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=BD(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Pr=t=>t.join("/").replace(/\/\/+/g,"/"),HD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$D=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JS=["POST","PUT","PATCH","DELETE"];new Set(JS);var KD=["GET",...JS];new Set(KD);var gl=k.createContext(null);gl.displayName="DataRouter";var gd=k.createContext(null);gd.displayName="DataRouterState";var eA=k.createContext({isTransitioning:!1});eA.displayName="ViewTransition";var YD=k.createContext(new Map);YD.displayName="Fetchers";var QD=k.createContext(null);QD.displayName="Await";var _i=k.createContext(null);_i.displayName="Navigation";var yc=k.createContext(null);yc.displayName="Location";var Ei=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var Vy=k.createContext(null);Vy.displayName="RouteError";function WD(t,{relative:e}={}){ot(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(_i),{hash:a,pathname:l,search:u}=vc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Pr([n,l])),i.createHref({pathname:h,search:u,hash:a})}function yl(){return k.useContext(yc)!=null}function $s(){return ot(yl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(yc).location}var tA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nA(t){k.useContext(_i).static||k.useLayoutEffect(t)}function Ka(){let{isDataRoute:t}=k.useContext(Ei);return t?uN():XD()}function XD(){ot(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(gl),{basename:e,navigator:n}=k.useContext(_i),{matches:i}=k.useContext(Ei),{pathname:a}=$s(),l=JSON.stringify(Oy(i)),u=k.useRef(!1);return nA(()=>{u.current=!0}),k.useCallback((d,p={})=>{if(vi(u.current,tA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=My(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Pr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}k.createContext(null);function ky(){let{matches:t}=k.useContext(Ei),e=t[t.length-1];return e?e.params:{}}function vc(t,{relative:e}={}){let{matches:n}=k.useContext(Ei),{pathname:i}=$s(),a=JSON.stringify(Oy(n));return k.useMemo(()=>My(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function ZD(t,e){return iA(t,e)}function iA(t,e,n,i){var B;ot(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=k.useContext(_i),{matches:u}=k.useContext(Ei),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";rA(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=$s(),w;if(e){let F=typeof e=="string"?pl(e):e;ot(y==="/"||((B=F.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=E;let S=w.pathname||"/",D=S;if(y!=="/"){let F=y.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=!l&&n&&n.matches&&n.matches.length>0?n.matches:WS(t,{pathname:D});vi(_||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),vi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=iN(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Pr([y,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:Pr([y,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,i);return e&&O?k.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function JD(){let t=lN(),e=GD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var eN=k.createElement(JD,null),tN=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Ei.Provider,{value:this.props.routeContext},k.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nN({routeContext:t,match:e,children:n}){let i=k.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Ei.Provider,{value:t},n)}function iN(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,y)=>{let _,E=!1,w=null,S=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||eN,u&&(h<0&&y===0?(rA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):h===y&&(E=!0,S=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),R=()=>{let O;return _?O=w:E?O=S:p.route.Component?O=k.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,k.createElement(nN,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(tN,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}function Ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rN(t){let e=k.useContext(gl);return ot(e,Ly(t)),e}function sN(t){let e=k.useContext(gd);return ot(e,Ly(t)),e}function aN(t){let e=k.useContext(Ei);return ot(e,Ly(t)),e}function Uy(t){let e=aN(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oN(){return Uy("useRouteId")}function lN(){var i;let t=k.useContext(Vy),e=sN("useRouteError"),n=Uy("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function uN(){let{router:t}=rN("useNavigate"),e=Uy("useNavigate"),n=k.useRef(!1);return nA(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{vi(n.current,tA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var kT={};function rA(t,e,n){!e&&!kT[t]&&(kT[t]=!0,vi(!1,n))}k.memo(cN);function cN({routes:t,future:e,state:n}){return iA(t,void 0,n,e)}function hN({to:t,replace:e,state:n,relative:i}){ot(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(_i);vi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(Ei),{pathname:u}=$s(),h=Ka(),d=My(t,Oy(l),u,i==="path"),p=JSON.stringify(d);return k.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Da(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ot(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=pl(n));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,w=k.useMemo(()=>{let S=Lr(d,u);return S==null?null:{location:{pathname:S,search:p,hash:y,state:_,key:E},navigationType:i}},[u,d,p,y,_,E,i]);return vi(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(_i.Provider,{value:h},k.createElement(yc.Provider,{children:e,value:w}))}function dN({children:t,location:e}){return ZD(Ug(t),e)}function Ug(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let l=[...e,a];if(i.type===k.Fragment){n.push.apply(n,Ug(i.props.children,l));return}ot(i.type===Da,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ug(i.props.children,l)),n.push(u)}),n}var yf="get",vf="application/x-www-form-urlencoded";function yd(t){return t!=null&&typeof t.tagName=="string"}function mN(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function pN(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function gN(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function yN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vN(t,e){return t.button===0&&(!e||e==="_self")&&!yN(t)}var sf=null;function _N(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var EN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sg(t){return t!=null&&!EN.has(t)?(vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):t}function TN(t,e){let n,i,a,l,u;if(pN(t)){let h=t.getAttribute("action");i=h?Lr(h,e):null,n=t.getAttribute("method")||yf,a=sg(t.getAttribute("enctype"))||vf,l=new FormData(t)}else if(mN(t)||gN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?Lr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||yf,a=sg(t.getAttribute("formenctype"))||sg(h.getAttribute("enctype"))||vf,l=new FormData(h,t),!_N()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,i=null,a=vf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}function jy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function bN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SN(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await bN(l,n);return u.links?u.links():[]}return[]}));return CN(i.flat(1).filter(wN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LT(t,e,n,i,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var y;return n[p].pathname!==d.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{var _;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function AN(t,e,{includeHydrateFallback:n}={}){return RN(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function RN(t){return[...new Set(t)]}function xN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function CN(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(xN(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function IN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Lr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function sA(){let t=k.useContext(gl);return jy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DN(){let t=k.useContext(gd);return jy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var By=k.createContext(void 0);By.displayName="FrameworkContext";function aA(){let t=k.useContext(By);return jy(t,"You must render this element inside a <HydratedRouter> element"),t}function NN(t,e){let n=k.useContext(By),[i,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=O=>{O.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),k.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let w=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Vu(h,w),onBlur:Vu(d,S),onMouseEnter:Vu(p,w),onMouseLeave:Vu(y,S),onTouchStart:Vu(_,w)}]:[!1,E,{}]}function Vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PN({page:t,...e}){let{router:n}=sA(),i=k.useMemo(()=>WS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(MN,{page:t,matches:i,...e}):null}function ON(t){let{manifest:e,routeModules:n}=aA(),[i,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return SN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function MN({page:t,matches:e,...n}){let i=$s(),{manifest:a,routeModules:l}=aA(),{basename:u}=sA(),{loaderData:h,matches:d}=DN(),p=k.useMemo(()=>LT(t,e,d,a,i,"data"),[t,e,d,a,i]),y=k.useMemo(()=>LT(t,e,d,a,i,"assets"),[t,e,d,a,i]),_=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,D=!1;if(e.forEach(O=>{var F;let B=a.routes[O.route.id];!B||!B.hasLoader||(!p.some(Z=>Z.route.id===O.route.id)&&O.route.id in h&&((F=l[O.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?D=!0:S.add(O.route.id))}),S.size===0)return[];let R=IN(t,u);return D&&S.size>0&&R.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[u,h,i,a,p,e,t,l]),E=k.useMemo(()=>AN(y,a),[y,a]),w=ON(y);return k.createElement(k.Fragment,null,_.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),E.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:D})=>k.createElement("link",{key:S,...D})))}function VN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oA&&(window.__reactRouterVersion="7.3.0")}catch{}function kN({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=SD({window:n,v5Compat:!0}));let a=i.current,[l,u]=k.useState({action:a.action,location:a.location}),h=k.useCallback(d=>{k.startTransition(()=>u(d))},[u]);return k.useLayoutEffect(()=>a.listen(h),[a,h]),k.createElement(fN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var lA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uA=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:_,...E},w){let{basename:S}=k.useContext(_i),D=typeof p=="string"&&lA.test(p),R,O=!1;if(typeof p=="string"&&D&&(R=p,oA))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),j=Lr(M.pathname,S);M.origin===C.origin&&j!=null?p=j+M.search+M.hash:O=!0}catch{vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=WD(p,{relative:a}),[F,Z,Y]=NN(i,E),se=BN(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_});function L(C){e&&e(C),C.defaultPrevented||se(C)}let I=k.createElement("a",{...E,...Y,href:R||B,onClick:O||l?e:L,ref:VN(w,Z),target:d,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?k.createElement(k.Fragment,null,I,k.createElement(PN,{page:B})):I});uA.displayName="Link";var LN=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let _=vc(u,{relative:p.relative}),E=$s(),w=k.useContext(gd),{navigator:S,basename:D}=k.useContext(_i),R=w!=null&&$N(_)&&h===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,B=E.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&D&&(F=Lr(F,D)||F);const Z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=B===O||!a&&B.startsWith(O)&&B.charAt(Z)==="/",se=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),L={isActive:Y,isPending:se,isTransitioning:R},I=Y?e:void 0,C;typeof i=="function"?C=i(L):C=[i,Y?"active":null,se?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(L):l;return k.createElement(uA,{...p,"aria-current":I,className:C,ref:y,style:M,to:u,viewTransition:h},typeof d=="function"?d(L):d)});LN.displayName="NavLink";var UN=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=yf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,...E},w)=>{let S=HN(),D=qN(h,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&lA.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let Z=F.nativeEvent.submitter,Y=(Z==null?void 0:Z.getAttribute("formmethod"))||u;S(Z||F.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:w,method:R,action:D,onSubmit:i?d:B,...E,"data-discover":!O&&t==="render"?"true":void 0})});UN.displayName="Form";function jN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cA(t){let e=k.useContext(gl);return ot(e,jN(t)),e}function BN(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Ka(),d=$s(),p=vc(t,{relative:l});return k.useCallback(y=>{if(vN(y,e)){y.preventDefault();let _=n!==void 0?n:tc(d)===tc(p);h(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,i,e,t,a,l,u])}var FN=0,zN=()=>`__${String(++FN)}__`;function HN(){let{router:t}=cA("useSubmit"),{basename:e}=k.useContext(_i),n=oN();return k.useCallback(async(i,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=TN(i,e);if(a.navigate===!1){let y=a.fetcherKey||zN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function qN(t,{relative:e}={}){let{basename:n}=k.useContext(_i),i=k.useContext(Ei);ot(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...vc(t||".",{relative:e})},u=$s();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Pr([n,l.pathname])),tc(l)}function $N(t,e={}){let n=k.useContext(eA);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cA("useViewTransitionState"),a=vc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Lr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Lr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return kf(a.pathname,u)!=null||kf(a.pathname,l)!=null}new TextEncoder;const Fy=k.createContext({});function zy(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const vd=k.createContext(null),Hy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class GN extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KN({children:t,isPresent:e,anchorX:n}){const i=k.useId(),a=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=k.useContext(Hy);return k.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:y,right:_}=l.current;if(e||!a.current||!h||!d)return;const E=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");return u&&(w.nonce=u),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),P.jsx(GN,{isPresent:e,childRef:a,sizeRef:l,children:k.cloneElement(t,{ref:a})})}const YN=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h})=>{const d=zy(QN),p=k.useId(),y=k.useCallback(E=>{d.set(E,!0);for(const w of d.values())if(!w)return;i&&i()},[d,i]),_=k.useMemo(()=>({id:p,initial:e,isPresent:n,custom:a,onExitComplete:y,register:E=>(d.set(E,!1),()=>d.delete(E))}),l?[Math.random(),y]:[n,y]);return k.useMemo(()=>{d.forEach((E,w)=>d.set(w,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),u==="popLayout"&&(t=P.jsx(KN,{isPresent:n,anchorX:h,children:t})),P.jsx(vd.Provider,{value:_,children:t})};function QN(){return new Map}function hA(t=!0){const e=k.useContext(vd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const af=t=>t.key||"";function UT(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const qy=typeof window<"u",fA=qy?k.useLayoutEffect:k.useEffect,dA=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left"})=>{const[d,p]=hA(u),y=k.useMemo(()=>UT(t),[t]),_=u&&!d?[]:y.map(af),E=k.useRef(!0),w=k.useRef(y),S=zy(()=>new Map),[D,R]=k.useState(y),[O,B]=k.useState(y);fA(()=>{E.current=!1,w.current=y;for(let Y=0;Y<O.length;Y++){const se=af(O[Y]);_.includes(se)?S.delete(se):S.get(se)!==!0&&S.set(se,!1)}},[O,_.length,_.join("-")]);const F=[];if(y!==D){let Y=[...y];for(let se=0;se<O.length;se++){const L=O[se],I=af(L);_.includes(I)||(Y.splice(se,0,L),F.push(L))}return l==="wait"&&F.length&&(Y=F),B(UT(Y)),R(y),null}const{forceRender:Z}=k.useContext(Fy);return P.jsx(P.Fragment,{children:O.map(Y=>{const se=af(Y),L=u&&!d?!1:y===O||_.includes(se),I=()=>{if(S.has(se))S.set(se,!0);else return;let C=!0;S.forEach(M=>{M||(C=!1)}),C&&(Z==null||Z(),B(w.current),u&&(p==null||p()),i&&i())};return P.jsx(YN,{isPresent:L,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:L?void 0:I,anchorX:h,children:Y},se)})})},Un=t=>t;let mA=Un;function $y(t){let e;return()=>(e===void 0&&(e=t()),e)}const il=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Or=t=>t*1e3,Mr=t=>t/1e3,WN={useManualTiming:!1},of=["read","resolveKeyframes","update","preRender","render","postRender"],jT={value:null};function XN(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){u.has(_)&&(y.schedule(_),t()),d++,_(h)}const y={schedule:(_,E=!1,w=!1)=>{const D=w&&a?n:i;return E&&u.add(_),D.has(_)||D.add(_),_},cancel:_=>{i.delete(_),u.delete(_)},process:_=>{if(h=_,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(p),e&&jT.value&&jT.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const ZN=40;function pA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=of.reduce((O,B)=>(O[B]=XN(l,e?B:void 0),O),{}),{read:h,resolveKeyframes:d,update:p,preRender:y,render:_,postRender:E}=u,w=()=>{const O=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,ZN),1),a.timestamp=O,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),_.process(a),E.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(w))},S=()=>{n=!0,i=!0,a.isProcessing||t(w)};return{schedule:of.reduce((O,B)=>{const F=u[B];return O[B]=(Z,Y=!1,se=!1)=>(n||S(),F.schedule(Z,Y,se)),O},{}),cancel:O=>{for(let B=0;B<of.length;B++)u[of[B]].cancel(O)},state:a,steps:u}}const{schedule:st,cancel:ks,state:Xt,steps:ag}=pA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0),gA=k.createContext({strict:!1}),BT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const t in BT)rl[t]={isEnabled:e=>BT[t].some(n=>!!e[n])};function JN(t){for(const e in t)rl[e]={...rl[e],...t[e]}}const eP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eP.has(t)}let yA=t=>!Lf(t);function tP(t){t&&(yA=e=>e.startsWith("on")?!Lf(e):t(e))}try{tP(require("@emotion/is-prop-valid").default)}catch{}function nP(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(yA(a)||n===!0&&Lf(a)||!e&&!Lf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function iP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const _d=k.createContext({});function Ed(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nc(t){return typeof t=="string"||Array.isArray(t)}const Gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ky=["initial",...Gy];function Td(t){return Ed(t.animate)||Ky.some(e=>nc(t[e]))}function vA(t){return!!(Td(t)||t.variants)}function rP(t,e){if(Td(t)){const{initial:n,animate:i}=t;return{initial:n===!1||nc(n)?n:void 0,animate:nc(i)?i:void 0}}return t.inherit!==!1?e:{}}function sP(t){const{initial:e,animate:n}=rP(t,k.useContext(_d));return k.useMemo(()=>({initial:e,animate:n}),[FT(e),FT(n)])}function FT(t){return Array.isArray(t)?t.join(" "):t}const aP=Symbol.for("motionComponentSymbol");function Go(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oP(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Go(n)&&(n.current=i))},[e])}const Yy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lP="framerAppearId",_A="data-"+Yy(lP),{schedule:Qy}=pA(queueMicrotask,!1),EA=k.createContext({});function uP(t,e,n,i,a){var l,u;const{visualElement:h}=k.useContext(_d),d=k.useContext(gA),p=k.useContext(vd),y=k.useContext(Hy).reducedMotion,_=k.useRef(null);i=i||d.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,w=k.useContext(EA);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&cP(_.current,n,a,w);const S=k.useRef(!1);k.useInsertionEffect(()=>{E&&S.current&&E.update(n,p)});const D=n[_A],R=k.useRef(!!D&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,D))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,D)));return fA(()=>{E&&(S.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Qy.render(E.render),R.current&&E.animationState&&E.animationState.animateChanges())}),k.useEffect(()=>{E&&(!R.current&&E.animationState&&E.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,D)}),R.current=!1))}),E}function cP(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Go(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:p})}function TA(t){if(t)return t.options.allowProjection!==!1?t.projection:TA(t.parent)}function hP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){var l,u;t&&JN(t);function h(p,y){let _;const E={...k.useContext(Hy),...p,layoutId:fP(p)},{isStatic:w}=E,S=sP(p),D=i(p,w);if(!w&&qy){dP();const R=mP(E);_=R.MeasureLayout,S.visualElement=uP(a,D,E,e,R.ProjectionNode)}return P.jsxs(_d.Provider,{value:S,children:[_&&S.visualElement?P.jsx(_,{visualElement:S.visualElement,...E}):null,n(a,p,oP(D,S.visualElement,y),D,w,S.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(u=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&u!==void 0?u:""})`}`;const d=k.forwardRef(h);return d[aP]=a,d}function fP({layoutId:t}){const e=k.useContext(Fy).id;return e&&t!==void 0?e+"-"+t:t}function dP(t,e){k.useContext(gA).strict}function mP(t){const{drag:e,layout:n}=rl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const bA=t=>e=>typeof e=="string"&&e.startsWith(t),Wy=bA("--"),pP=bA("var(--"),Xy=t=>pP(t)?gP.test(t.split("/*")[0].trim()):!1,gP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ic={};function yP(t){for(const e in t)ic[e]=t[e],Wy(e)&&(ic[e].isCSSVariable=!0)}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ya=new Set(vl);function wA(t,{layout:e,layoutId:n}){return Ya.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ic[t]||t==="opacity")}const hn=t=>!!(t&&t.getVelocity),SA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ur=(t,e,n)=>n>e?e:n<t?t:n,_l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rc={..._l,transform:t=>Ur(0,1,t)},lf={..._l,default:1},_c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rs=_c("deg"),qi=_c("%"),Se=_c("px"),vP=_c("vh"),_P=_c("vw"),zT={...qi,parse:t=>qi.parse(t)/100,transform:t=>qi.transform(t*100)},EP={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},TP={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:lf,scaleX:lf,scaleY:lf,scaleZ:lf,skew:Rs,skewX:Rs,skewY:Rs,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:rc,originX:zT,originY:zT,originZ:Se},HT={..._l,transform:Math.round},Zy={...EP,...TP,zIndex:HT,size:Se,fillOpacity:rc,strokeOpacity:rc,numOctaves:HT},bP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wP=vl.length;function SP(t,e,n){let i="",a=!0;for(let l=0;l<wP;l++){const u=vl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=SA(h,Zy[u]);if(!d){a=!1;const y=bP[u]||u;i+=`${y}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Jy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Ya.has(d)){u=!0;continue}else if(Wy(d)){a[d]=p;continue}else{const y=SA(p,Zy[d]);d.startsWith("origin")?(h=!0,l[d]=y):i[d]=y}}if(e.transform||(u||n?i.transform=SP(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${d} ${p} ${y}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AA(t,e,n){for(const i in e)!hn(e[i])&&!wA(i,n)&&(t[i]=e[i])}function AP({transformTemplate:t},e){return k.useMemo(()=>{const n=ev();return Jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RP(t,e){const n=t.style||{},i={};return AA(i,n,t),Object.assign(i,AP(t,e)),i}function xP(t,e){const n={},i=RP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const CP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(CP.indexOf(t)>-1||/[A-Z]/u.test(t))}const IP={offset:"stroke-dashoffset",array:"stroke-dasharray"},DP={offset:"strokeDashoffset",array:"strokeDasharray"};function NP(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?IP:DP;t[l.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(n);t[l.array]=`${u} ${h}`}function qT(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function PP(t,e,n){const i=qT(e,t.x,t.width),a=qT(n,t.y,t.height);return`${i} ${a}`}function nv(t,{attrX:e,attrY:n,attrScale:i,originX:a,originY:l,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...p},y,_){if(Jy(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:w,dimensions:S}=t;E.transform&&(S&&(w.transform=E.transform),delete E.transform),S&&(a!==void 0||l!==void 0||w.transform)&&(w.transformOrigin=PP(S,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),u!==void 0&&NP(E,u,h,d,!1)}const RA=()=>({...ev(),attrs:{}}),iv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OP(t,e,n,i){const a=k.useMemo(()=>{const l=RA();return nv(l,e,iv(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};AA(l,t.style,t),a.style={...l,...a.style}}return a}function MP(t=!1){return(n,i,a,{latestValues:l},u)=>{const d=(tv(n)?OP:xP)(i,l,u,n),p=nP(i,typeof n=="string",t),y=n!==k.Fragment?{...p,...d,ref:a}:{},{children:_}=i,E=k.useMemo(()=>hn(_)?_.get():_,[_]);return k.createElement(n,{...y,children:E})}}function $T(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function rv(t,e,n,i){if(typeof e=="function"){const[a,l]=$T(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$T(i);e=e(n!==void 0?n:t.custom,a,l)}return e}const jg=t=>Array.isArray(t),VP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kP=t=>jg(t)?t[t.length-1]||0:t;function _f(t){const e=hn(t)?t.get():t;return VP(e)?e.toValue():e}function LP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,a,l){const u={latestValues:UP(i,a,l,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const xA=t=>(e,n)=>{const i=k.useContext(_d),a=k.useContext(vd),l=()=>LP(t,e,i,a);return n?l():zy(l)};function UP(t,e,n,i){const a={},l=i(t,{});for(const E in l)a[E]=_f(l[E]);let{initial:u,animate:h}=t;const d=Td(t),p=vA(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!Ed(_)){const E=Array.isArray(_)?_:[_];for(let w=0;w<E.length;w++){const S=rv(t,E[w]);if(S){const{transitionEnd:D,transition:R,...O}=S;for(const B in O){let F=O[B];if(Array.isArray(F)){const Z=y?F.length-1:0;F=F[Z]}F!==null&&(a[B]=F)}for(const B in D)a[B]=D[B]}}}return a}function sv(t,e,n){var i;const{style:a}=t,l={};for(const u in a)(hn(a[u])||e.style&&hn(e.style[u])||wA(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=a[u]);return l}const jP={useVisualState:xA({scrapeMotionValuesFromProps:sv,createRenderState:ev})};function CA(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function IA(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const DA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NA(t,e,n,i){IA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(DA.has(a)?a:Yy(a),e.attrs[a])}function PA(t,e,n){const i=sv(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const GT=["x","y","width","height","cx","cy","r"],BP={useVisualState:xA({scrapeMotionValuesFromProps:PA,createRenderState:RA,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in a)if(Ya.has(h)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let h=0;h<GT.length;h++){const d=GT[h];t[d]!==e[d]&&(u=!0)}u&&st.read(()=>{CA(n,i),st.render(()=>{nv(i,a,iv(n.tagName),t.transformTemplate),NA(n,i)})})}})};function FP(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...tv(i)?BP:jP,preloadedFeatures:t,useRender:MP(a),createVisualElement:e,Component:i};return hP(u)}}function sc(t,e,n){const i=t.getProps();return rv(i,e,n!==void 0?n:i.custom,t)}const zP=$y(()=>window.ScrollTimeline!==void 0);class HP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(a=>{if(zP()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qP extends HP{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function av(t,e){return t?t[e]||t.default||t:void 0}const Bg=2e4;function OA(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Bg;)e+=n,i=t.next(e);return e>=Bg?1/0:e}function ov(t){return typeof t=="function"}function KT(t,e){t.timeline=e,t.onfinish=null}const lv=t=>Array.isArray(t)&&typeof t[0]=="number",$P={linearEasing:void 0};function GP(t,e){const n=$y(t);return()=>{var i;return(i=$P[e])!==null&&i!==void 0?i:n()}}const Uf=GP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MA=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=t(il(0,a-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function VA(t){return!!(typeof t=="function"&&Uf()||!t||typeof t=="string"&&(t in Fg||Uf())||lv(t)||Array.isArray(t)&&t.every(VA))}const ju=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Fg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ju([0,.65,.55,1]),circOut:ju([.55,0,1,.45]),backIn:ju([.31,.01,.66,-.59]),backOut:ju([.33,1.53,.69,.99])};function kA(t,e){if(t)return typeof t=="function"&&Uf()?MA(t,e):lv(t)?ju(t):Array.isArray(t)?t.map(n=>kA(n,e)||Fg.easeOut):Fg[t]}const pi={x:!1,y:!1};function LA(){return pi.x||pi.y}function KP(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function UA(t,e){const n=KP(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function YT(t){return!(t.pointerType==="touch"||LA())}function YP(t,e,n={}){const[i,a,l]=UA(t,n),u=h=>{if(!YT(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=_=>{YT(_)&&(p(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}function jf(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const jA=(t,e)=>e?t===e?!0:jA(t,e.parentElement):!1,uv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WP(t){return QP.has(t.tagName)||t.tabIndex!==-1}const Bu=new WeakSet;function QT(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XP=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=QT(()=>{if(Bu.has(n))return;og(n,"down");const a=QT(()=>{og(n,"up")}),l=()=>og(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function WT(t){return uv(t)&&!LA()}function ZP(t,e,n={}){const[i,a,l]=UA(t,n),u=h=>{const d=h.currentTarget;if(!d||!WT(h)||Bu.has(d))return;Bu.add(d),jf(h,"set");const p=e(d,h),y=(w,S)=>{d.removeEventListener("pointerup",_),d.removeEventListener("pointercancel",E),jf(w,"release"),!(!WT(w)||!Bu.has(d))&&(Bu.delete(d),typeof p=="function"&&p(w,{success:S}))},_=w=>{(w.isTrusted?JP(w,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(w,!1):y(w,!(d instanceof Element)||jA(d,w.target))},E=w=>{y(w,!1)};d.addEventListener("pointerup",_,a),d.addEventListener("pointercancel",E,a),d.addEventListener("lostpointercapture",E,a)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let d=!1;h instanceof HTMLElement&&(d=!0,!WP(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,a),d&&h.addEventListener("focus",p=>XP(p,a),a)}),l}function JP(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function eO(t){return t==="x"||t==="y"?pi[t]?null:(pi[t]=!0,()=>{pi[t]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}const BA=new Set(["width","height","top","left","right","bottom",...vl]);let Ef;function tO(){Ef=void 0}const $i={now:()=>(Ef===void 0&&$i.set(Xt.isProcessing||WN.useManualTiming?Xt.timestamp:performance.now()),Ef),set:t=>{Ef=t,queueMicrotask(tO)}};function cv(t,e){t.indexOf(e)===-1&&t.push(e)}function hv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fv{constructor(){this.subscriptions=[]}add(e){return cv(this.subscriptions,e),()=>hv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function FA(t,e){return e?t*(1e3/e):0}const XT=30,nO=t=>!isNaN(parseFloat(t));class iO{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=$i.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$i.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fv);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$i.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XT);return FA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ac(t,e){return new iO(t,e)}function rO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ac(n))}function sO(t,e){const n=sc(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=kP(l[u]);rO(t,u,h)}}function aO(t){return!!(hn(t)&&t.add)}function zg(t,e){const n=t.getValue("willChange");if(aO(n))return n.add(e)}function zA(t){return t.props[_A]}const HA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oO=1e-7,lO=12;function uO(t,e,n,i,a){let l,u,h=0;do u=e+(n-e)/2,l=HA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>oO&&++h<lO);return u}function Ec(t,e,n,i){if(t===e&&n===i)return Un;const a=l=>uO(l,0,1,t,n);return l=>l===0||l===1?l:HA(a(l),e,i)}const qA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$A=t=>e=>1-t(1-e),GA=Ec(.33,1.53,.69,.99),dv=$A(GA),KA=qA(dv),YA=t=>(t*=2)<1?.5*dv(t):.5*(2-Math.pow(2,-10*(t-1))),mv=t=>1-Math.sin(Math.acos(t)),QA=$A(mv),WA=qA(mv),XA=t=>/^0[^.\s]+$/u.test(t);function cO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||XA(t):!0}const Ku=t=>Math.round(t*1e5)/1e5,pv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hO(t){return t==null}const fO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gv=(t,e)=>n=>!!(typeof n=="string"&&fO.test(n)&&n.startsWith(t)||e&&!hO(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(pv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},dO=t=>Ur(0,255,t),lg={..._l,transform:t=>Math.round(dO(t))},Oa={test:gv("rgb","red"),parse:ZA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+lg.transform(t)+", "+lg.transform(e)+", "+lg.transform(n)+", "+Ku(rc.transform(i))+")"};function mO(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Hg={test:gv("#"),parse:mO,transform:Oa.transform},Ko={test:gv("hsl","hue"),parse:ZA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+qi.transform(Ku(e))+", "+qi.transform(Ku(n))+", "+Ku(rc.transform(i))+")"},an={test:t=>Oa.test(t)||Hg.test(t)||Ko.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Ko.test(t)?Ko.parse(t):Hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Ko.transform(t)},pO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pO))===null||n===void 0?void 0:n.length)||0)>0}const JA="number",eR="color",yO="var",vO="var(",ZT="${}",_O=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(_O,d=>(an.test(d)?(i.color.push(l),a.push(eR),n.push(an.parse(d))):d.startsWith(vO)?(i.var.push(l),a.push(yO),n.push(d)):(i.number.push(l),a.push(JA),n.push(parseFloat(d))),++l,ZT)).split(ZT);return{values:n,split:h,indexes:i,types:a}}function tR(t){return oc(t).values}function nR(t){const{split:e,types:n}=oc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===JA?l+=Ku(a[u]):h===eR?l+=an.transform(a[u]):l+=a[u]}return l}}const EO=t=>typeof t=="number"?0:t;function TO(t){const e=tR(t);return nR(t)(e.map(EO))}const Ls={test:gO,parse:tR,createTransformer:nR,getAnimatableNone:TO},bO=new Set(["brightness","contrast","saturate","opacity"]);function wO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(pv)||[];if(!i)return t;const a=n.replace(i,"");let l=bO.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const SO=/\b([a-z-]*)\(.*?\)/gu,qg={...Ls,getAnimatableNone:t=>{const e=t.match(SO);return e?e.map(wO).join(" "):t}},AO={...Zy,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:qg,WebkitFilter:qg},yv=t=>AO[t];function iR(t,e){let n=yv(t);return n!==qg&&(n=Ls),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RO=new Set(["auto","none","0"]);function xO(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!RO.has(l)&&oc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=iR(n,a)}const JT=t=>t===_l||t===Se,eb=(t,e)=>parseFloat(t.split(", ")[e]),tb=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return eb(a[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?eb(l[1],t):0}},CO=new Set(["x","y","z"]),IO=vl.filter(t=>!CO.has(t));function DO(t){const e=[];return IO.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:tb(4,13),y:tb(5,14)};sl.translateX=sl.x;sl.translateY=sl.y;const La=new Set;let $g=!1,Gg=!1;function rR(){if(Gg){const t=Array.from(La).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=DO(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var h;(h=i.getValue(l))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Gg=!1,$g=!1,La.forEach(t=>t.complete()),La.clear()}function sR(){La.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gg=!0)})}function NO(){sR(),rR()}class vv{constructor(e,n,i,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(La.add(this),$g||($g=!0,st.read(sR),st.resolveKeyframes(rR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const d=i.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),La.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,La.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const aR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),PO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OO(t){const e=PO.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function oR(t,e,n=1){const[i,a]=OO(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return aR(u)?parseFloat(u):u}return Xy(a)?oR(a,e,n+1):a}const lR=t=>e=>e.test(t),MO={test:t=>t==="auto",parse:t=>t},uR=[_l,Se,qi,Rs,_P,vP,MO],nb=t=>uR.find(lR(t));class cR extends vv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Xy(p))){const y=oR(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!BA.has(i)||e.length!==2)return;const[a,l]=e,u=nb(a),h=nb(l);if(u!==h)if(JT(u)&&JT(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)cO(e[a])&&i.push(a);i.length&&xO(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,h=a[u];a[u]=sl[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const ib=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ls.test(t)||t==="0")&&!t.startsWith("url("));function VO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kO(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=ib(a,e),h=ib(l,e);return!u||!h?!1:VO(t)||(n==="spring"||ov(n))&&i}const LO=t=>t!==null;function bd(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(LO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const UO=40;class hR{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$i.now(),this.options={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=$i.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:u,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!kO(e,i,a,l))if(u)this.options.duration=0;else{d&&d(bd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,n)=>t+(e-t)*n;function ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jO({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=ug(d,h,t+1/3),l=ug(d,h,t),u=ug(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Bf(t,e){return n=>n>0?e:t}const cg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},BO=[Hg,Oa,Ko],FO=t=>BO.find(e=>e.test(t));function rb(t){const e=FO(t);if(!e)return!1;let n=e.parse(t);return e===Ko&&(n=jO(n)),n}const sb=(t,e)=>{const n=rb(t),i=rb(e);if(!n||!i)return Bf(t,e);const a={...n};return l=>(a.red=cg(n.red,i.red,l),a.green=cg(n.green,i.green,l),a.blue=cg(n.blue,i.blue,l),a.alpha=ht(n.alpha,i.alpha,l),Oa.transform(a))},zO=(t,e)=>n=>e(t(n)),Tc=(...t)=>t.reduce(zO),Kg=new Set(["none","hidden"]);function HO(t,e){return Kg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qO(t,e){return n=>ht(t,e,n)}function _v(t){return typeof t=="number"?qO:typeof t=="string"?Xy(t)?Bf:an.test(t)?sb:KO:Array.isArray(t)?fR:typeof t=="object"?an.test(t)?sb:$O:Bf}function fR(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>_v(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function $O(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=_v(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function GO(t,e){var n;const i=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],h=t.indexes[u][a[u]],d=(n=t.values[h])!==null&&n!==void 0?n:0;i[l]=d,a[u]++}return i}const KO=(t,e)=>{const n=Ls.createTransformer(e),i=oc(t),a=oc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Kg.has(t)&&!a.values.length||Kg.has(e)&&!i.values.length?HO(t,e):Tc(fR(GO(i,a),a.values),n):Bf(t,e)};function dR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):_v(t)(t,e)}const YO=5;function mR(t,e,n){const i=Math.max(e-YO,0);return FA(n-t(i),e-i)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ab=.001;function QO({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:i=yt.mass}){let a,l,u=1-e;u=Ur(yt.minDamping,yt.maxDamping,u),t=Ur(yt.minDuration,yt.maxDuration,Mr(t)),u<1?(a=p=>{const y=p*u,_=y*t,E=y-n,w=Yg(p,u),S=Math.exp(-_);return ab-E/w*S},l=p=>{const _=p*u*t,E=_*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,S=Math.exp(-_),D=Yg(Math.pow(p,2),u);return(-a(p)+ab>0?-1:1)*((E-w)*S)/D}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,d=XO(a,l,h);if(t=Or(t),isNaN(d))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const WO=12;function XO(t,e,n){let i=n;for(let a=1;a<WO;a++)i=i-t(i)/e(i);return i}function Yg(t,e){return t*Math.sqrt(1-e*e)}const ZO=["duration","bounce"],JO=["stiffness","damping","mass"];function ob(t,e){return e.some(n=>t[n]!==void 0)}function e2(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!ob(t,JO)&&ob(t,ZO))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Ur(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=QO(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function pR(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:w}=e2({...n,velocity:-Mr(n.velocity||0)}),S=E||0,D=p/(2*Math.sqrt(d*y)),R=u-l,O=Mr(Math.sqrt(d/y)),B=Math.abs(R)<5;i||(i=B?yt.restSpeed.granular:yt.restSpeed.default),a||(a=B?yt.restDelta.granular:yt.restDelta.default);let F;if(D<1){const Y=Yg(O,D);F=se=>{const L=Math.exp(-D*O*se);return u-L*((S+D*O*R)/Y*Math.sin(Y*se)+R*Math.cos(Y*se))}}else if(D===1)F=Y=>u-Math.exp(-O*Y)*(R+(S+O*R)*Y);else{const Y=O*Math.sqrt(D*D-1);F=se=>{const L=Math.exp(-D*O*se),I=Math.min(Y*se,300);return u-L*((S+D*O*R)*Math.sinh(I)+Y*R*Math.cosh(I))/Y}}const Z={calculatedDuration:w&&_||null,next:Y=>{const se=F(Y);if(w)h.done=Y>=_;else{let L=0;D<1&&(L=Y===0?Or(S):mR(F,Y,se));const I=Math.abs(L)<=i,C=Math.abs(u-se)<=a;h.done=I&&C}return h.value=h.done?u:se,h},toString:()=>{const Y=Math.min(OA(Z),Bg),se=MA(L=>Z.next(Y*L).value,Y,30);return Y+"ms "+se}};return Z}function lb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},w=I=>h!==void 0&&I<h||d!==void 0&&I>d,S=I=>h===void 0?d:d===void 0||Math.abs(h-I)<Math.abs(d-I)?h:d;let D=n*e;const R=_+D,O=u===void 0?R:u(R);O!==R&&(D=O-_);const B=I=>-D*Math.exp(-I/i),F=I=>O+B(I),Z=I=>{const C=B(I),M=F(I);E.done=Math.abs(C)<=p,E.value=E.done?O:M};let Y,se;const L=I=>{w(E.value)&&(Y=I,se=pR({keyframes:[E.value,S(E.value)],velocity:mR(F,I,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return L(0),{calculatedDuration:null,next:I=>{let C=!1;return!se&&Y===void 0&&(C=!0,Z(I),L(I)),Y!==void 0&&I>=Y?se.next(I-Y):(!C&&Z(I),E)}}}const t2=Ec(.42,0,1,1),n2=Ec(0,0,.58,1),gR=Ec(.42,0,.58,1),i2=t=>Array.isArray(t)&&typeof t[0]!="number",r2={linear:Un,easeIn:t2,easeInOut:gR,easeOut:n2,circIn:mv,circInOut:WA,circOut:QA,backIn:dv,backInOut:KA,backOut:GA,anticipate:YA},ub=t=>{if(lv(t)){mA(t.length===4);const[e,n,i,a]=t;return Ec(e,n,i,a)}else if(typeof t=="string")return r2[t];return t};function s2(t,e,n){const i=[],a=n||dR,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Un:e;h=Tc(d,h)}i.push(h)}return i}function a2(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(mA(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=s2(e,i,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=il(t[_],t[_+1],y);return h[_](E)};return n?y=>p(Ur(t[0],t[l-1],y)):p}function o2(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=il(0,e,i);t.push(ht(n,1,a))}}function l2(t){const e=[0];return o2(e,t.length-1),e}function u2(t,e){return t.map(n=>n*e)}function c2(t,e){return t.map(()=>e||gR).splice(0,t.length-1)}function Ff({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=i2(i)?i.map(ub):ub(i),l={done:!1,value:e[0]},u=u2(n&&n.length===e.length?n:l2(e),t),h=a2(u,e,{ease:Array.isArray(a)?a:c2(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const h2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>ks(e),now:()=>Xt.isProcessing?Xt.timestamp:$i.now()}},f2={decay:lb,inertia:lb,tween:Ff,keyframes:Ff,spring:pR},d2=t=>t/100;class Ev extends hR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||vv,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new u(l,h,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,h=ov(n)?n:f2[n]||Ff;let d,p;h!==Ff&&typeof e[0]!="number"&&(d=Tc(d2,dR(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});l==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=OA(y));const{calculatedDuration:_}=y,E=_+a,w=E*(i+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:E,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=i;if(this.startTime===null)return l.next(0);const{delay:E,repeat:w,repeatType:S,repeatDelay:D,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-E*(this.speed>=0?1:-1),B=this.speed>=0?O<0:O>y;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let F=this.currentTime,Z=l;if(w){const I=Math.min(this.currentTime,y)/_;let C=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(S==="reverse"?(M=1-M,D&&(M-=D/_)):S==="mirror"&&(Z=u)),F=Ur(0,1,M)*_}const Y=B?{done:!1,value:d[0]}:Z.next(F);h&&(Y.value=h(Y.value));let{done:se}=Y;!B&&p!==null&&(se=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return L&&a!==void 0&&(Y.value=bd(d,this.options,a)),R&&R(Y.value),L&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?Mr(e.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(e){e=Or(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=h2,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const m2=new Set(["opacity","clipPath","filter","transform"]);function p2(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const y=kA(h,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const g2=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zf=10,y2=2e4;function v2(t){return ov(t.type)||t.type==="spring"||!VA(t.ease)}function _2(t,e){const n=new Ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let l=0;for(;!i.done&&l<y2;)i=n.sample(l),a.push(i.value),l+=zf;return{times:void 0,keyframes:a,duration:l-zf,ease:"linear"}}const yR={anticipate:YA,backInOut:KA,circInOut:WA};function E2(t){return t in yR}class cb extends hR{constructor(e){super(e);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new cR(l,(u,h)=>this.onKeyframesResolved(u,h),n,i,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:a,ease:l,type:u,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Uf()&&E2(l)&&(l=yR[l]),v2(this.options)){const{onComplete:_,onUpdate:E,motionValue:w,element:S,...D}=this.options,R=_2(e,D);e=R.keyframes,e.length===1&&(e[1]=e[0]),i=R.duration,a=R.times,l=R.ease,u="keyframes"}const y=p2(h.owner.current,d,e,{...this.options,duration:i,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(KT(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;h.set(bd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Mr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Mr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Or(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Un;const{animation:i}=n;KT(i,e)}return Un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:a,type:l,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:E,...w}=this.options,S=new Ev({...w,keyframes:i,duration:a,type:l,ease:u,times:h,isGenerator:!0}),D=Or(this.time);p.setWithVelocity(S.sample(D-zf).value,S.sample(D).value,zf)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return g2()&&i&&m2.has(i)&&!d&&!p&&!a&&l!=="mirror"&&u!==0&&h!=="inertia"}}const T2={type:"spring",stiffness:500,damping:25,restSpeed:10},b2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),w2={type:"keyframes",duration:.8},S2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A2=(t,{keyframes:e})=>e.length>2?w2:Ya.has(t)?t.startsWith("scale")?b2(e[1]):T2:S2;function R2({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Tv=(t,e,n,i={},a,l)=>u=>{const h=av(i,t)||{},d=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Or(d);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};R2(h)||(y={...y,...A2(t,y)}),y.duration&&(y.duration=Or(y.duration)),y.repeatDelay&&(y.repeatDelay=Or(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),_&&!l&&e.get()!==void 0){const E=bd(y.keyframes,h);if(E!==void 0)return st.update(()=>{y.onUpdate(E),y.onComplete()}),new qP([])}return!l&&cb.supports(y)?new cb(y):new Ev(y)};function x2({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function vR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...d}=e;i&&(u=i);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const _ in d){const E=t.getValue(_,(l=t.latestValues[_])!==null&&l!==void 0?l:null),w=d[_];if(w===void 0||y&&x2(y,_))continue;const S={delay:n,...av(u||{},_)};let D=!1;if(window.MotionHandoffAnimation){const O=zA(t);if(O){const B=window.MotionHandoffAnimation(O,_,st);B!==null&&(S.startTime=B,D=!0)}}zg(t,_),E.start(Tv(_,E,w,t.shouldReduceMotion&&BA.has(_)?{type:!1}:S,t,D));const R=E.animation;R&&p.push(R)}return h&&Promise.all(p).then(()=>{st.update(()=>{h&&sO(t,h)})}),p}function Qg(t,e,n={}){var i;const a=sc(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const u=a?()=>Promise.all(vR(t,a,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=l;return C2(t,e,y+p,_,E,n)}:()=>Promise.resolve(),{when:d}=l;if(d){const[p,y]=d==="beforeChildren"?[u,h]:[h,u];return p().then(()=>y())}else return Promise.all([u(),h(n.delay)])}function C2(t,e,n=0,i=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*i,d=a===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(I2).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(Qg(p,e,{...l,delay:n+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function I2(t,e){return t.sortNodePosition(e)}function D2(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Qg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Qg(t,e,n);else{const a=typeof e=="function"?sc(t,e,n.custom):e;i=Promise.all(vR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function _R(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const N2=Ky.length;function ER(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ER(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N2;n++){const i=Ky[n],a=t.props[i];(nc(a)||a===!1)&&(e[i]=a)}return e}const P2=[...Gy].reverse(),O2=Gy.length;function M2(t){return e=>Promise.all(e.map(({animation:n,options:i})=>D2(t,n,i)))}function V2(t){let e=M2(t),n=hb(),i=!0;const a=d=>(p,y)=>{var _;const E=sc(t,y,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:w,transitionEnd:S,...D}=E;p={...p,...D,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=ER(t.parent)||{},_=[],E=new Set;let w={},S=1/0;for(let R=0;R<O2;R++){const O=P2[R],B=n[O],F=p[O]!==void 0?p[O]:y[O],Z=nc(F),Y=O===d?B.isActive:null;Y===!1&&(S=R);let se=F===y[O]&&F!==p[O]&&Z;if(se&&i&&t.manuallyAnimateOnMount&&(se=!1),B.protectedKeys={...w},!B.isActive&&Y===null||!F&&!B.prevProp||Ed(F)||typeof F=="boolean")continue;const L=k2(B.prevProp,F);let I=L||O===d&&B.isActive&&!se&&Z||R>S&&Z,C=!1;const M=Array.isArray(F)?F:[F];let j=M.reduce(a(O),{});Y===!1&&(j={});const{prevResolvedValues:q={}}=B,U={...q,...j},Je=me=>{I=!0,E.has(me)&&(C=!0,E.delete(me)),B.needsAnimating[me]=!0;const ne=t.getValue(me);ne&&(ne.liveStyle=!1)};for(const me in U){const ne=j[me],le=q[me];if(w.hasOwnProperty(me))continue;let N=!1;jg(ne)&&jg(le)?N=!_R(ne,le):N=ne!==le,N?ne!=null?Je(me):E.add(me):ne!==void 0&&E.has(me)?Je(me):B.protectedKeys[me]=!0}B.prevProp=F,B.prevResolvedValues=j,B.isActive&&(w={...w,...j}),i&&t.blockInitialAnimation&&(I=!1),I&&(!(se&&L)||C)&&_.push(...M.map(me=>({animation:me,options:{type:O}})))}if(E.size){const R={};if(typeof p.initial!="boolean"){const O=sc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(R.transition=O.transition)}E.forEach(O=>{const B=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),R[O]=B??null}),_.push({animation:R})}let D=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(_):Promise.resolve()}function h(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(E=>{var w;return(w=E.animationState)===null||w===void 0?void 0:w.setActive(d,p)}),n[d].isActive=p;const _=u(d);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=hb(),i=!0}}}function k2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_R(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hb(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Gs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class L2 extends Gs{constructor(e){super(e),e.animationState||(e.animationState=V2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ed(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let U2=0;class j2 extends Gs{constructor(){super(...arguments),this.id=U2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const B2={animation:{Feature:L2},exit:{Feature:j2}};function lc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function bc(t){return{point:{x:t.pageX,y:t.pageY}}}const F2=t=>e=>uv(e)&&t(e,bc(e));function Yo(t,e,n,i){return lc(t,e,F2(n),i)}function TR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function z2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const bR=1e-4,q2=1-bR,$2=1+bR,wR=.01,G2=0-wR,K2=0+wR;function vn(t){return t.max-t.min}function Y2(t,e,n){return Math.abs(t-e)<=n}function fb(t,e,n,i=.5){t.origin=i,t.originPoint=ht(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=q2&&t.scale<=$2||isNaN(t.scale))&&(t.scale=1),(t.translate>=G2&&t.translate<=K2||isNaN(t.translate))&&(t.translate=0)}function Yu(t,e,n,i){fb(t.x,e.x,n.x,i?i.originX:void 0),fb(t.y,e.y,n.y,i?i.originY:void 0)}function db(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function Q2(t,e,n){db(t.x,e.x,n.x),db(t.y,e.y,n.y)}function mb(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function Qu(t,e,n){mb(t.x,e.x,n.x),mb(t.y,e.y,n.y)}const pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:pb(),y:pb()}),gb=()=>({min:0,max:0}),Tt=()=>({x:gb(),y:gb()});function ii(t){return[t("x"),t("y")]}function hg(t){return t===void 0||t===1}function Wg({scale:t,scaleX:e,scaleY:n}){return!hg(t)||!hg(e)||!hg(n)}function Na(t){return Wg(t)||SR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SR(t){return yb(t.x)||yb(t.y)}function yb(t){return t&&t!=="0%"}function Hf(t,e,n){const i=t-n,a=e*i;return n+a}function vb(t,e,n,i,a){return a!==void 0&&(t=Hf(t,a,i)),Hf(t,n,i)+e}function Xg(t,e=0,n=1,i,a){t.min=vb(t.min,e,n,i,a),t.max=vb(t.max,e,n,i,a)}function AR(t,{x:e,y:n}){Xg(t.x,e.translate,e.scale,e.originPoint),Xg(t.y,n.translate,n.scale,n.originPoint)}const _b=.999999999999,Eb=1.0000000000001;function W2(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,AR(t,u)),i&&Na(l.latestValues)&&Xo(t,l.latestValues))}e.x<Eb&&e.x>_b&&(e.x=1),e.y<Eb&&e.y>_b&&(e.y=1)}function Wo(t,e){t.min=t.min+e,t.max=t.max+e}function Tb(t,e,n,i,a=.5){const l=ht(t.min,t.max,a);Xg(t,e,n,l,i)}function Xo(t,e){Tb(t.x,e.x,e.scaleX,e.scale,e.originX),Tb(t.y,e.y,e.scaleY,e.scale,e.originY)}function RR(t,e){return TR(H2(t.getBoundingClientRect(),e))}function X2(t,e,n){const i=RR(t,n),{scroll:a}=e;return a&&(Wo(i.x,a.offset.x),Wo(i.y,a.offset.y)),i}const bb=(t,e)=>Math.abs(t-e);function Z2(t,e){const n=bb(t.x,e.x),i=bb(t.y,e.y);return Math.sqrt(n**2+i**2)}class xR{constructor(e,n,{transformPagePoint:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=dg(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=Z2(y.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:w}=y,{timestamp:S}=Xt;this.history.push({...w,timestamp:S});const{onStart:D,onMove:R}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{if(y.target instanceof Element&&y.target.hasPointerCapture&&y.pointerId!==void 0)try{if(!y.target.hasPointerCapture(y.pointerId))return}catch{}this.lastMoveEvent=y,this.lastMoveEventInfo=fg(_,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{jf(y,"release"),this.end();const{onEnd:E,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=dg(y.type==="pointercancel"||y.type==="lostpointercapture"?this.lastMoveEventInfo:fg(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,D),w&&w(y,D)},!uv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i;const l=bc(e),u=fg(l,this.transformPagePoint),{point:h}=u,{timestamp:d}=Xt;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,dg(u,this.history)),jf(e,"set"),this.removeListeners=Tc(Yo(e.currentTarget,"pointermove",this.handlePointerMove),Yo(e.currentTarget,"pointerup",this.handlePointerUp),Yo(e.currentTarget,"pointercancel",this.handlePointerUp),Yo(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function fg(t,e){return e?{point:e(t.point)}:t}function wb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dg({point:t},e){return{point:t,delta:wb(t,CR(e)),offset:wb(t,J2(e)),velocity:eM(e,.1)}}function J2(t){return t[0]}function CR(t){return t[t.length-1]}function eM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=CR(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Or(e)));)n--;if(!i)return{x:0,y:0};const l=Mr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function tM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ht(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ht(n,t,i.max):Math.min(t,n)),t}function Sb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nM(t,{top:e,left:n,bottom:i,right:a}){return{x:Sb(t.x,n,a),y:Sb(t.y,e,i)}}function Ab(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function iM(t,e){return{x:Ab(t.x,e.x),y:Ab(t.y,e.y)}}function rM(t,e){let n=.5;const i=vn(t),a=vn(e);return a>i?n=il(e.min,e.max-i,t.min):i>a&&(n=il(t.min,t.max-a,e.min)),Ur(0,1,n)}function sM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zg=.35;function aM(t=Zg){return t===!1?t=0:t===!0&&(t=Zg),{x:Rb(t,"left","right"),y:Rb(t,"top","bottom")}}function Rb(t,e,n){return{min:xb(t,e),max:xb(t,n)}}function xb(t,e){return typeof t=="number"?t:t[e]||0}const oM=new WeakMap;class lM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:w,onDragStart:S}=this.getProps();if(E&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eO(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(R=>{let O=this.getAxisMotionValue(R).get()||0;if(qi.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[R];F&&(O=vn(F)*(parseFloat(O)/100))}}this.originPoint[R]=O}),S&&st.postRender(()=>S(y,_)),zg(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(y,_)=>{const{dragPropagation:E,dragDirectionLock:w,onDirectionLock:S,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=_;if(w&&this.currentDirection===null){this.currentDirection=uM(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),D&&D(y,_)},h=(y,_)=>this.stop(y,_),d=()=>ii(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new xR(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&st.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!uf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=tM(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Go(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=nM(a.layoutBox,n):this.constraints=!1,this.elastic=aM(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ii(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=sM(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Go(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=X2(i,a.root,this.visualElement.getTransformPagePoint());let u=iM(a.layout.layoutBox,l);if(n){const h=n(z2(u));this.hasMutatedConstraints=!!h,h&&(u=TR(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ii(y=>{if(!uf(y,n,this.currentDirection))return;let _=d&&d[y]||{};u&&(_={min:0,max:0});const E=a?200:1e6,w=a?40:1e7,S={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,S)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return zg(this.visualElement,e),i.start(Tv(e,i,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:i}=this.getProps();if(!uf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-ht(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Go(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=rM({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ii(u=>{if(!uf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(ht(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;oM.set(this.visualElement,this);const e=this.visualElement.current,n=Yo(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Go(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),st.read(i);const u=lc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ii(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Zg,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cM extends Gs{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new lM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cb=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class hM extends Gs{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new xR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Cb(e),onStart:Cb(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&st.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ib(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=Ib(t,e.target.x),i=Ib(t,e.target.y);return`${n}% ${i}%`}},fM={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ls.parse(t);if(a.length>5)return i;const l=Ls.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=ht(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};class dM extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;yP(mM),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||st.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IR(t){const[e,n]=hA(),i=k.useContext(Fy);return P.jsx(dM,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(EA),isPresent:e,safeToRemove:n})}const mM={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:fM};function pM(t,e,n){const i=hn(t)?t:ac(t);return i.start(Tv("",i,e,n)),i.animation}function gM(t){return t instanceof SVGElement&&t.tagName!=="svg"}const yM=(t,e)=>t.depth-e.depth;class vM{constructor(){this.children=[],this.isDirty=!1}add(e){cv(this.children,e),this.isDirty=!0}remove(e){hv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yM),this.isDirty=!1,this.children.forEach(e)}}function _M(t,e){const n=$i.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ks(i),t(l-e))};return st.read(i,!0),()=>ks(i)}const DR=["TopLeft","TopRight","BottomLeft","BottomRight"],EM=DR.length,Db=t=>typeof t=="string"?parseFloat(t):t,Nb=t=>typeof t=="number"||Se.test(t);function TM(t,e,n,i,a,l){a?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,bM(i)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,wM(i))):l&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<EM;u++){const h=`border${DR[u]}Radius`;let d=Pb(e,h),p=Pb(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Nb(d)===Nb(p)?(t[h]=Math.max(ht(Db(d),Db(p),i),0),(qi.test(p)||qi.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,i))}function Pb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bM=NR(0,.5,QA),wM=NR(.5,.95,Un);function NR(t,e,n){return i=>i<t?0:i>e?1:n(il(t,e,i))}function Ob(t,e){t.min=e.min,t.max=e.max}function ni(t,e){Ob(t.x,e.x),Ob(t.y,e.y)}function Mb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vb(t,e,n,i,a){return t-=e,t=Hf(t,1/n,i),a!==void 0&&(t=Hf(t,1/a,i)),t}function SM(t,e=0,n=1,i=.5,a,l=t,u=t){if(qi.test(e)&&(e=parseFloat(e),e=ht(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=ht(l.min,l.max,i);t===l&&(h-=e),t.min=Vb(t.min,e,n,h,a),t.max=Vb(t.max,e,n,h,a)}function kb(t,e,[n,i,a],l,u){SM(t,e[n],e[i],e[a],e.scale,l,u)}const AM=["x","scaleX","originX"],RM=["y","scaleY","originY"];function Lb(t,e,n,i){kb(t.x,e,AM,n?n.x:void 0,i?i.x:void 0),kb(t.y,e,RM,n?n.y:void 0,i?i.y:void 0)}function Ub(t){return t.translate===0&&t.scale===1}function PR(t){return Ub(t.x)&&Ub(t.y)}function jb(t,e){return t.min===e.min&&t.max===e.max}function xM(t,e){return jb(t.x,e.x)&&jb(t.y,e.y)}function Bb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OR(t,e){return Bb(t.x,e.x)&&Bb(t.y,e.y)}function Fb(t){return vn(t.x)/vn(t.y)}function zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class CM{constructor(){this.members=[]}add(e){cv(this.members,e),e.scheduleRender()}remove(e){if(hv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IM(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:w,skewY:S}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),E&&(i+=`rotateY(${E}deg) `),w&&(i+=`skewX(${w}deg) `),S&&(i+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const mg=["","X","Y","Z"],DM={visibility:"hidden"},Hb=1e3;let NM=0;function pg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function MR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&MR(i)}function VR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=NM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MM),this.nodes.forEach(jM),this.nodes.forEach(BM),this.nodes.forEach(VM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new vM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new fv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gM(u),this.instance=u;const{layoutId:d,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=_M(E,250),Tf.hasAnimatedSinceResize&&(Tf.hasAnimatedSinceResize=!1,this.nodes.forEach($b))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||$M,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=y.getProps(),B=!this.targetLayout||!OR(this.targetLayout,S),F=!E&&w;if(this.options.layoutRoot||this.resumeFrom||F||E&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,F);const Z={...av(D,"layout"),onPlay:R,onComplete:O};(y.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else E||$b(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qb);return}this.isUpdating||this.nodes.forEach(LM),this.isUpdating=!1,this.nodes.forEach(UM),this.nodes.forEach(PM),this.nodes.forEach(OM),this.clearAllSnapshots();const h=$i.now();Xt.delta=Ur(0,1e3/60,h-Xt.timestamp),Xt.timestamp=h,Xt.isProcessing=!0,ag.update.process(Xt),ag.preRender.process(Xt),ag.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kM),this.sharedNodes.forEach(zM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!PR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(h||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),GM(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return Tt();const d=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(KM))){const{scroll:y}=this.root;y&&(Wo(d.x,y.offset.x),Wo(d.y,y.offset.y))}return d}removeElementScroll(u){var h;const d=Tt();if(ni(d,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&ni(d,u),Wo(d.x,_.offset.x),Wo(d.y,_.offset.y))}return d}applyTransform(u,h=!1){const d=Tt();ni(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Xo(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Xo(d,y.latestValues)}return Na(this.latestValues)&&Xo(d,this.latestValues),d}removeTransform(u){const h=Tt();ni(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Na(p.latestValues))continue;Wg(p.latestValues)&&p.updateSnapshot();const y=Tt(),_=p.measurePageBox();ni(y,_),Lb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&Lb(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),AR(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Qu(this.relativeTargetOrigin,this.target,w.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||SR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;ni(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,w=this.treeScale.y;W2(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Tt());const{target:S}=h;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mb(this.prevProjectionDelta.x,this.projectionDelta.x),Mb(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==w||!zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},_=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Tt(),w=d?d.source:void 0,S=this.layout?this.layout.source:void 0,D=w!==S,R=this.getStack(),O=!R||R.members.length<=1,B=!!(D&&!O&&this.options.crossfade===!0&&!this.path.some(qM));this.animationProgress=0;let F;this.mixTargetDelta=Z=>{const Y=Z/1e3;Gb(_.x,u.x,Y),Gb(_.y,u.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HM(this.relativeTarget,this.relativeTargetOrigin,E,Y),F&&xM(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Tt()),ni(F,this.relativeTarget)),D&&(this.animationValues=y,TM(y,p,this.latestValues,Y,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Tf.hasAnimatedSinceResize=!0,this.currentAnimation=pM(0,Hb,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&kR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Tt();const _=vn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+_;const E=vn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}ni(h,d),Xo(h,y),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new CM),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&pg("z",u,p,this.animationValues);for(let y=0;y<mg.length;y++)pg(`rotate${mg[y]}`,u,p,this.animationValues),pg(`skew${mg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DM;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=_f(u==null?void 0:u.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=_f(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(D.transform=y?y({},""):"none",this.hasProjected=!1),D}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=IM(this.projectionDeltaWithTransform,this.treeScale,E),y&&(p.transform=y(E,p.transform));const{x:w,y:S}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in ic){if(E[D]===void 0)continue;const{correct:R,applyTo:O,isCSSVariable:B}=ic[D],F=p.transform==="none"?E[D]:R(E[D],_);if(O){const Z=O.length;for(let Y=0;Y<Z;Y++)p[O[Y]]=F}else B?this.options.visualElement.renderState.vars[D]=F:p[D]=F}return this.options.layoutId&&(p.pointerEvents=_===this?_f(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(qb),this.root.sharedNodes.clear()}}}function PM(t){t.updateLayout()}function OM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?ii(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],w=vn(E);E.min=i[_].min,E.max=E.min+w}):kR(l,n.layoutBox,i)&&ii(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],w=vn(i[_]);E.max=E.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+w)});const h=Qo();Yu(h,i,n.layoutBox);const d=Qo();u?Yu(d,t.applyTransform(a,!0),n.measuredBox):Yu(d,i,n.layoutBox);const p=!PR(h);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:w}=_;if(E&&w){const S=Tt();Qu(S,n.layoutBox,E.layoutBox);const D=Tt();Qu(D,i,w.layoutBox),OR(S,D)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function MM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kM(t){t.clearSnapshot()}function qb(t){t.clearMeasurements()}function LM(t){t.isLayoutDirty=!1}function UM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $b(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jM(t){t.resolveTargetDelta()}function BM(t){t.calcProjection()}function FM(t){t.resetSkewAndRotation()}function zM(t){t.removeLeadSnapshot()}function Gb(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kb(t,e,n,i){t.min=ht(e.min,n.min,i),t.max=ht(e.max,n.max,i)}function HM(t,e,n,i){Kb(t.x,e.x,n.x,i),Kb(t.y,e.y,n.y,i)}function qM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $M={duration:.45,ease:[.4,0,.1,1]},Yb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qb=Yb("applewebkit/")&&!Yb("chrome/")?Math.round:Un;function Wb(t){t.min=Qb(t.min),t.max=Qb(t.max)}function GM(t){Wb(t.x),Wb(t.y)}function kR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Y2(Fb(e),Fb(n),.2)}function KM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const YM=VR({attachResizeListener:(t,e)=>lc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},LR=VR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new YM({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),QM={pan:{Feature:hM},drag:{Feature:cM,ProjectionNode:LR,MeasureLayout:IR}};function Xb(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&st.postRender(()=>l(e,bc(e)))}class WM extends Gs{mount(){const{current:e}=this.node;e&&(this.unmount=YP(e,(n,i)=>(Xb(this.node,i,"Start"),a=>Xb(this.node,a,"End"))))}unmount(){}}class XM extends Gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tc(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zb(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&st.postRender(()=>l(e,bc(e)))}class ZM extends Gs{mount(){const{current:e}=this.node;e&&(this.unmount=ZP(e,(n,i)=>(Zb(this.node,i,"Start"),(a,{success:l})=>Zb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jg=new WeakMap,yg=new WeakMap,JM=t=>{const e=Jg.get(t.target);e&&e(t)},eV=t=>{t.forEach(JM)};function tV({root:t,...e}){const n=t||document;yg.has(n)||yg.set(n,{});const i=yg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(eV,{root:t,...e})),i[a]}function nV(t,e,n){const i=tV(e);return Jg.set(t,n),i.observe(t),()=>{Jg.delete(t),i.unobserve(t)}}const iV={some:0,all:1};class rV extends Gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:iV[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(d)};return nV(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sV(e,n))&&this.startObserver()}unmount(){}}function sV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aV={inView:{Feature:rV},tap:{Feature:ZM},focus:{Feature:XM},hover:{Feature:WM}},oV={layout:{ProjectionNode:LR,MeasureLayout:IR}},ey={current:null},UR={current:!1};function lV(){if(UR.current=!0,!!qy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ey.current=t.matches;t.addListener(e),e()}else ey.current=!1}const uV=[...uR,an,Ls],cV=t=>uV.find(lR(t)),hV=new WeakMap;function fV(t,e,n){for(const i in e){const a=e[i],l=n[i];if(hn(a))t.addValue(i,a);else if(hn(l))t.addValue(i,ac(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,ac(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Jb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dV{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=$i.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,st.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:y}=u;this.onUpdate=y,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Td(n),this.isVariantNode=vA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in E){const S=E[w];d[w]!==void 0&&hn(S)&&S.set(d[w],!1)}}mount(e){this.current=e,hV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),UR.current||lV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ya.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rl){const n=rl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Jb.length;i++){const a=Jb[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=fV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ac(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(aR(a)||XA(a))?a=parseFloat(a):!cV(a)&&Ls.test(n)&&(a=iR(e,n)),this.setBaseTarget(e,hn(a)?a.get():a)),hn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=rv(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!hn(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jR extends dV{constructor(){super(...arguments),this.KeyframeResolver=cR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mV(t){return window.getComputedStyle(t)}class pV extends jR{constructor(){super(...arguments),this.type="html",this.renderInstance=IA}readValueFromInstance(e,n){if(Ya.has(n)){const i=yv(n);return i&&i.default||0}else{const i=mV(e),a=(Wy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RR(e,n)}build(e,n,i){Jy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return sv(e,n,i)}}class gV extends jR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&CA(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ya.has(n)){const i=yv(n);return i&&i.default||0}return n=DA.has(n)?n:Yy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return PA(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&st.postRender(this.updateDimensions)}build(e,n,i){nv(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,a){NA(e,n,i,a)}mount(e){this.isSVGTag=iv(e.tagName),super.mount(e)}}const yV=(t,e)=>tv(t)?new gV(e):new pV(e,{allowProjection:t!==k.Fragment}),vV=FP({...B2,...aV,...QM,...oV},yV),bf=iP(vV);var vg={exports:{}},_g,ew;function _V(){if(ew)return _g;ew=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _g=t,_g}var Eg,tw;function EV(){if(tw)return Eg;tw=1;var t=_V();function e(){}function n(){}return n.resetWarningCache=e,Eg=function(){function i(u,h,d,p,y,_){if(_!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Eg}var nw;function TV(){return nw||(nw=1,vg.exports=EV()()),vg.exports}var bV=TV();const Hi=QS(bV),BR=({comics:t=[]})=>{var h,d,p,y;const[e,n]=k.useState(0),[i,a]=k.useState(!1);k.useEffect(()=>{if(t.length<=1||i)return;const _=setInterval(()=>{n(E=>(E+1)%t.length)},5e3);return()=>clearInterval(_)},[t.length,i]),k.useEffect(()=>{t.length===0&&n(0)},[t]);const l=()=>{t.length>0&&n(_=>(_+1)%t.length)},u=()=>{t.length>0&&n(_=>_===0?t.length-1:_-1)};return console.log("ComicSlider comics:",t),console.log("Current Index:",e),console.log("Current Comic:",t[e]),P.jsx("div",{className:"w-full h-[600px] bg-cover bg-center flex justify-center items-center",style:{backgroundImage:"url('https://www.shutterstock.com/shutterstock/photos/1552346156/display_1500/stock-photo-blue-background-texture-blue-background-1552346156.jpg')"},children:P.jsxs("div",{className:"w-full max-w-5xl mt-6 flex justify-center items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[P.jsx(bf.button,{onClick:u,className:"px-4 py-12 bg-black text-white rounded-lg shadow-lg disabled:opacity-50 hover:bg-gray-900 transition-all duration-300 flex items-center justify-center",disabled:t.length===0,"aria-label":"Previous comic",whileHover:{scale:1.1},whileTap:{scale:.95},children:P.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})})}),P.jsx("div",{className:"w-full md:w-[1100px] h-[450px] bg-white shadow-md flex items-center mx-6 rounded-lg overflow-hidden relative",children:t.length>0?P.jsx(dA,{mode:"wait",children:P.jsxs(bf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute w-full h-full flex",children:[P.jsx("img",{src:(h=t[e])==null?void 0:h.img,alt:((d=t[e])==null?void 0:d.title)||"Comic image",onError:_=>_.target.src="/fallback-image.jpg",className:"w-1/2 h-full object-cover"}),P.jsxs("div",{className:"w-1/2 h-full flex flex-col justify-center items-center text-center px-8",children:[P.jsx("h2",{className:"font-bold text-3xl mb-4",children:((p=t[e])==null?void 0:p.title)||"Untitled"}),P.jsx("p",{className:"text-gray-600 text-lg overflow-wrap break-word",children:(y=t[e])==null?void 0:y.info})]})]},e)}):P.jsx("div",{className:"w-full h-full flex justify-center items-center",children:P.jsx("p",{className:"text-gray-500 text-xl",children:"No comics available"})})}),P.jsx(bf.button,{onClick:l,className:"px-4 py-12 bg-black text-white rounded-lg shadow-lg disabled:opacity-50 hover:bg-gray-900 transition-all duration-300 flex items-center justify-center",disabled:t.length===0,"aria-label":"Next comic",whileHover:{scale:1.1},whileTap:{scale:.95},children:P.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 5l7 7-7 7"})})})]})})};BR.propTypes={comics:Hi.arrayOf(Hi.shape({img:Hi.string.isRequired,title:Hi.string.isRequired,info:Hi.string.isRequired}))};const wd=({comic:t,onClick:e})=>{const[n,i]=k.useState(!1);return P.jsxs("div",{className:"group relative w-full h-40 bg-white shadow-lg rounded-lg flex items-center justify-center overflow-hidden cursor-pointer","aria-label":`Comic: ${t.title}`,onClick:()=>e(t),role:"button",tabIndex:0,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[P.jsx("img",{src:t.img,alt:t.title,onError:a=>a.target.src="/fallback-image.jpg",className:"absolute w-full h-full object-cover"}),P.jsx(dA,{mode:"wait",children:n&&P.jsxs(bf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute w-full h-full bg-black bg-opacity-50 flex flex-col justify-center items-center text-center p-2",children:[P.jsx("h2",{className:"font-bold text-lg text-white mb-1",children:t.title}),P.jsx("p",{className:"text-sm text-white overflow-wrap break-word line-clamp-3",children:t.info})]})})]})};wd.propTypes={comic:Hi.shape({img:Hi.string.isRequired,title:Hi.string.isRequired,info:Hi.string.isRequired}).isRequired,onClick:Hi.func};wd.defaultProps={onClick:()=>{}};const wV=()=>{};var iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},SV=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},zR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;d||(w=64,u||(E=64)),i.push(n[y],n[_],n[E],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new AV;const E=l<<2|h>>4;if(i.push(E),p!==64){const w=h<<4&240|p>>2;if(i.push(w),_!==64){const S=p<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RV=function(t){const e=FR(t);return zR.encodeByteArray(e,!0)},qf=function(t){return RV(t).replace(/\./g,"")},HR=function(t){try{return zR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=()=>xV().__FIREBASE_DEFAULTS__,IV=()=>{if(typeof process>"u"||typeof iw>"u")return;const t=iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HR(t[1]);return e&&JSON.parse(e)},Sd=()=>{try{return wV()||CV()||IV()||DV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qR=t=>{var e,n;return(n=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$R=t=>{const e=qR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},GR=()=>{var t;return(t=Sd())===null||t===void 0?void 0:t.config},KR=t=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qf(JSON.stringify(n)),qf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function OV(){var t;const e=(t=Sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LV(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UV(){return!OV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jV(){try{return typeof indexedDB=="object"}catch{return!1}}function BV(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FirebaseError";class er extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FV,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?zV(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new er(a,h,i)}}function zV(t,e){return t.replace(HV,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const HV=/\{\$([^}]+)}/g;function qV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(rw(l)&&rw(u)){if(!jr(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function rw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $V(t,e){const n=new GV(t,e);return n.subscribe.bind(n)}class GV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");KV(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Tg),a.error===void 0&&(a.error=Tg),a.complete===void 0&&(a.complete=Tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new NV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WV(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QV(t){return t===Pa?void 0:t}function WV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const ZV={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},JV=je.INFO,ek={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},tk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=ek[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bv{constructor(e){this.name=e,this._logLevel=JV,this._logHandler=tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const nk=(t,e)=>e.some(n=>t instanceof n);let sw,aw;function ik(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rk(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QR=new WeakMap,ty=new WeakMap,WR=new WeakMap,bg=new WeakMap,wv=new WeakMap;function sk(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ps(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&QR.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function ak(t){if(ty.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ok(t){ny=t(ny)}function lk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(wg(this),e,...n);return WR.set(i,e.sort?e.sort():[e]),Ps(i)}:rk().includes(t)?function(...e){return t.apply(wg(this),e),Ps(QR.get(this))}:function(...e){return Ps(t.apply(wg(this),e))}}function uk(t){return typeof t=="function"?lk(t):(t instanceof IDBTransaction&&ak(t),nk(t,ik())?new Proxy(t,ny):t)}function Ps(t){if(t instanceof IDBRequest)return sk(t);if(bg.has(t))return bg.get(t);const e=uk(t);return e!==t&&(bg.set(t,e),wv.set(e,t)),e}const wg=t=>wv.get(t);function ck(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ps(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ps(u.result),d.oldVersion,d.newVersion,Ps(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const hk=["get","getKey","getAll","getAllKeys","count"],fk=["put","add","delete","clear"],Sg=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=fk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||hk.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Sg.set(e,l),l}ok(t=>({...t,get:(e,n,i)=>ow(e,n)||t.get(e,n,i),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iy="@firebase/app",lw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new bv("@firebase/app"),pk="@firebase/app-compat",gk="@firebase/analytics-compat",yk="@firebase/analytics",vk="@firebase/app-check-compat",_k="@firebase/app-check",Ek="@firebase/auth",Tk="@firebase/auth-compat",bk="@firebase/database",wk="@firebase/data-connect",Sk="@firebase/database-compat",Ak="@firebase/functions",Rk="@firebase/functions-compat",xk="@firebase/installations",Ck="@firebase/installations-compat",Ik="@firebase/messaging",Dk="@firebase/messaging-compat",Nk="@firebase/performance",Pk="@firebase/performance-compat",Ok="@firebase/remote-config",Mk="@firebase/remote-config-compat",Vk="@firebase/storage",kk="@firebase/storage-compat",Lk="@firebase/firestore",Uk="@firebase/vertexai",jk="@firebase/firestore-compat",Bk="firebase",Fk="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",zk={[iy]:"fire-core",[pk]:"fire-core-compat",[yk]:"fire-analytics",[gk]:"fire-analytics-compat",[_k]:"fire-app-check",[vk]:"fire-app-check-compat",[Ek]:"fire-auth",[Tk]:"fire-auth-compat",[bk]:"fire-rtdb",[wk]:"fire-data-connect",[Sk]:"fire-rtdb-compat",[Ak]:"fire-fn",[Rk]:"fire-fn-compat",[xk]:"fire-iid",[Ck]:"fire-iid-compat",[Ik]:"fire-fcm",[Dk]:"fire-fcm-compat",[Nk]:"fire-perf",[Pk]:"fire-perf-compat",[Ok]:"fire-rc",[Mk]:"fire-rc-compat",[Vk]:"fire-gcs",[kk]:"fire-gcs-compat",[Lk]:"fire-fst",[jk]:"fire-fst-compat",[Uk]:"fire-vertex","fire-js":"fire-js",[Bk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,Hk=new Map,sy=new Map;function uw(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ja(t){const e=t.name;if(sy.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of $f.values())uw(n,t);for(const n of Hk.values())uw(n,t);return!0}function Ad(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new wc("app","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=Fk;function XR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ry,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(n||(n=GR()),!n)throw Os.create("no-options");const l=$f.get(a);if(l){if(jr(n,l.options)&&jr(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const u=new XV(a);for(const d of sy.values())u.addComponent(d);const h=new $k(n,i,u);return $f.set(a,h),h}function Sv(t=ry){const e=$f.get(t);if(!e&&t===ry&&GR())return XR();if(!e)throw Os.create("no-app",{appName:t});return e}function Gi(t,e,n){var i;let a=(i=zk[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(h.join(" "));return}ja(new Us(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-heartbeat-database",Kk=1,uc="firebase-heartbeat-store";let Ag=null;function ZR(){return Ag||(Ag=ck(Gk,Kk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Ag}async function Yk(t){try{const n=(await ZR()).transaction(uc),i=await n.objectStore(uc).get(JR(t));return await n.done,i}catch(e){if(e instanceof er)Br.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function cw(t,e){try{const i=(await ZR()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,JR(t)),await i.done}catch(n){if(n instanceof er)Br.warn(n.message);else{const i=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(i.message)}}}function JR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1024,Wk=30;class Xk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jk(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Wk){const u=eL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hw(),{heartbeatsToSend:i,unsentEntries:a}=Zk(this._heartbeatsCache.heartbeats),l=qf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Br.warn(n),""}}}function hw(){return new Date().toISOString().substring(0,10)}function Zk(t,e=Qk){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),fw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),fw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Jk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jV()?BV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fw(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}function eL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){ja(new Us("platform-logger",e=>new dk(e),"PRIVATE")),ja(new Us("heartbeat",e=>new Xk(e),"PRIVATE")),Gi(iy,lw,t),Gi(iy,lw,"esm2017"),Gi("fire-js","")}tL("");var nL="firebase",iL="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(nL,iL,"app");function Av(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rL=ex,tx=new wc("auth","Firebase",ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new bv("@firebase/auth");function sL(t,...e){Gf.logLevel<=je.WARN&&Gf.warn(`Auth (${Qa}): ${t}`,...e)}function wf(t,...e){Gf.logLevel<=je.ERROR&&Gf.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw xv(t,...e)}function yi(t,...e){return xv(t,...e)}function Rv(t,e,n){const i=Object.assign(Object.assign({},rL()),{[e]:n});return new wc("auth","Firebase",i).create(e,{appName:t.name})}function Vr(t){return Rv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aL(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&si(t,"argument-error"),Rv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return tx.create(t,...e)}function Ae(t,e,...n){if(!t)throw xv(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wf(e),new Error(e)}function Fr(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oL(){return dw()==="http:"||dw()==="https:"}function dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oL()||VV()||"connection"in navigator)?navigator.onLine:!0}function uL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=PV()||kV()}get(){return lL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Ac(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ys(t,e,n,i,a={}){return ix(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=Sc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return MV()||(p.referrerPolicy="no-referrer"),nx.fetch()(rx(t,t.config.apiHost,n,h),p)})}async function ix(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},cL),e);try{const a=new dL(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw cf(t,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Rv(t,y,p);si(t,y)}}catch(a){if(a instanceof er)throw a;si(t,"network-request-failed",{message:String(a)})}}async function Rc(t,e,n,i,a={}){const l=await Ys(t,e,n,i,a);return"mfaPendingCredential"in l&&si(t,"multi-factor-auth-required",{_serverResponse:l}),l}function rx(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`}function fL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),hL.get())})}}function cf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=yi(t,e,i);return a.customData._tokenResponse=n,a}function mw(t){return t!==void 0&&t.enterprise!==void 0}class mL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pL(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function sx(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=Lt(t),i=await n.getIdToken(e),a=Iv(i);Ae(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Wu(Rg(a.auth_time)),issuedAtTime:Wu(Rg(a.iat)),expirationTime:Wu(Rg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Rg(t){return Number(t)*1e3}function Iv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const a=HR(n);return a?JSON.parse(a):(wf("Failed to decode base64 JWT payload"),null)}catch(a){return wf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function pw(t){const e=Iv(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof er&&vL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function vL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){var e;const n=t.auth,i=await t.getIdToken(),a=await cc(t,sx(n,{idToken:i}));Ae(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ax(l.providerUserInfo):[],h=TL(t.providerData,u),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new oy(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function EL(t){const e=Lt(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ax(t){return t.map(e=>{var{providerId:n}=e,i=Av(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){const n=await ix(t,{},async()=>{const i=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=rx(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",nx.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wL(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=pw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await bL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Jo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new oy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return EL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await cc(this,gL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,h,d,p,y;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,B=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:Z,isAnonymous:Y,providerData:se,stsTokenManager:L}=n;Ae(F&&L,e,"internal-error");const I=Jo.fromJSON(this.name,L);Ae(typeof F=="string",e,"internal-error"),As(_,e.name),As(E,e.name),Ae(typeof Z=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),As(w,e.name),As(S,e.name),As(D,e.name),As(R,e.name),As(O,e.name),As(B,e.name);const C=new Dr({uid:F,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:Y,photoURL:S,phoneNumber:w,tenantId:D,stsTokenManager:I,createdAt:O,lastLoginAt:B});return se&&Array.isArray(se)&&(C.providerData=se.map(M=>Object.assign({},M))),R&&(C._redirectEventId=R),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new Jo;a.updateFromServerResponse(n);const l=new Dr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ax(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Jo;h.updateFromIdToken(i);const d=new Dr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;function Nr(t){Fr(t instanceof Function,"Expected a class definition");let e=gw.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ox.type="NONE";const yw=ox;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new el(Nr(yw),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Nr(yw);const u=Sf(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){const _=Dr._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new el(l,e,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new el(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dx(e))return"Blackberry";if(mx(e))return"Webos";if(ux(e))return"Safari";if((e.includes("chrome/")||cx(e))&&!e.includes("edge/"))return"Chrome";if(fx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lx(t=fn()){return/firefox\//i.test(t)}function ux(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cx(t=fn()){return/crios\//i.test(t)}function hx(t=fn()){return/iemobile/i.test(t)}function fx(t=fn()){return/android/i.test(t)}function dx(t=fn()){return/blackberry/i.test(t)}function mx(t=fn()){return/webos/i.test(t)}function Dv(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SL(t=fn()){var e;return Dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AL(){return LV()&&document.documentMode===10}function px(t=fn()){return Dv(t)||fx(t)||mx(t)||dx(t)||/windows phone/i.test(t)||hx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e=[]){let n;switch(t){case"Browser":n=vw(fn());break;case"Worker":n=`${vw(fn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class IL{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:CL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _w(this),this.idTokenSubscription=new _w(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sx(this,{idToken:e}),i=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Vr(this));const n=e?Lt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xL(this),n=new IL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await wL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qs(t){return Lt(t)}class _w{constructor(e){this.auth=e,this.observer=null,this.addObserver=$V(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NL(t){Rd=t}function yx(t){return Rd.loadJS(t)}function PL(){return Rd.recaptchaEnterpriseScript}function OL(){return Rd.gapiScript}function ML(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class VL{constructor(){this.enterprise=new kL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LL="recaptcha-enterprise",vx="NO_RECAPTCHA";class UL{constructor(e){this.type=LL,this.auth=Qs(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{pL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new mL(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;mw(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(vx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VL().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&mw(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=PL();d.length!==0&&(d+=h),yx(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Ew(t,e,n,i=!1,a=!1){const l=new UL(t);let u;if(a)u=vx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ly(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ew(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Ew(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){const n=Ad(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(jr(l,e??{}))return a;si(a,"already-initialized")}return n.initialize({options:e})}function BL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FL(t,e,n){const i=Qs(t);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=_x(e),{host:u,port:h}=zL(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(jr(p,i.config.emulator)&&jr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,HL()}function _x(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zL(t){const e=_x(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Tw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Tw(u)}}}function Tw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function qL(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e){return Rc(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function KL(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Nv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new hc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,n,"signInWithPassword",$L);case"emailLink":return GL(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,i,"signUpPassword",qL);case"emailLink":return KL(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return Rc(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="http://localhost";class Ba extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Av(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Ba(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,tl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:YL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WL(t){const e=Fu(zu(t)).link,n=e?Fu(zu(e)).deep_link_id:null,i=Fu(zu(t)).deep_link_id;return(i?Fu(zu(i)).link:null)||i||n||e||t}class Pv{constructor(e){var n,i,a,l,u,h;const d=Fu(zu(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(i=d.oobCode)!==null&&i!==void 0?i:null,_=QL((a=d.mode)!==null&&a!==void 0?a:null);Ae(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=WL(e);try{return new Pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Pv.parseLink(n);return Ae(i,"argument-error"),hc._fromEmailAndCode(e,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends xc{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cr.credential(n,i)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends xc{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends xc{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Is.credential(n,i)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){return Rc(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Dr._fromIdTokenResponse(e,i,a),u=bw(i);return new Fa({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=bw(i);return new Fa({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends er{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Yf(e,n,i,a)}}function Ex(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(t,l,e,i):l})}async function ZL(t,e,n=!1){const i=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e,n=!1){const{auth:i}=t;if(Rn(i.app))return Promise.reject(Vr(i));const a="reauthenticate";try{const l=await cc(t,Ex(i,a,e,t),n);Ae(l.idToken,i,"internal-error");const u=Iv(l.idToken);Ae(u,i,"internal-error");const{sub:h}=u;return Ae(t.uid===h,i,"user-mismatch"),Fa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e,n=!1){if(Rn(t.app))return Promise.reject(Vr(t));const i="signIn",a=await Ex(t,i,e),l=await Fa._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function eU(t,e){return Tx(Qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(t){const e=Qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tU(t,e,n){if(Rn(t.app))return Promise.reject(Vr(t));const i=Qs(t),u=await ly(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&bx(t),d}),h=await Fa._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function nU(t,e,n){return Rn(t.app)?Promise.reject(Vr(t)):eU(Lt(t),El.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bx(t),i})}function iU(t,e,n,i){return Lt(t).onIdTokenChanged(e,n,i)}function rU(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function sU(t,e,n,i){return Lt(t).onAuthStateChanged(e,n,i)}function aU(t){return Lt(t).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=1e3,lU=10;class Sx extends wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=px(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);AL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lU):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sx.type="LOCAL";const uU=Sx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax extends wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ax.type="SESSION";const Rx=Ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new xd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await cU(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Mv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function fU(t){Ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function dU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pU(){return xx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebaseLocalStorageDb",gU=1,Wf="firebaseLocalStorage",Ix="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function yU(){const t=indexedDB.deleteDatabase(Cx);return new Cc(t).toPromise()}function uy(){const t=indexedDB.open(Cx,gU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Wf,{keyPath:Ix})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Wf)?e(i):(i.close(),await yU(),e(await uy()))})})}async function ww(t,e,n){const i=Cd(t,!0).put({[Ix]:e,value:n});return new Cc(i).toPromise()}async function vU(t,e){const n=Cd(t,!1).get(e),i=await new Cc(n).toPromise();return i===void 0?null:i.value}function Sw(t,e){const n=Cd(t,!0).delete(e);return new Cc(n).toPromise()}const _U=800,EU=3;class Dx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>EU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(pU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dU(),!this.activeServiceWorker)return;this.sender=new hU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await ww(e,Qf,"1"),await Sw(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ww(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>vU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Cd(a,!1).getAll();return new Cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dx.type="LOCAL";const TU=Dx;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){return e?Nr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bU(t){return Tx(t.auth,new Vv(t),t.bypassAuthState)}function wU(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),JL(n,new Vv(t),t.bypassAuthState)}async function SU(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),ZL(n,new Vv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bU;case"linkViaPopup":case"linkViaRedirect":return SU;case"reauthViaPopup":case"reauthViaRedirect":return wU;default:si(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new Ac(2e3,1e4);async function RU(t,e,n){if(Rn(t.app))return Promise.reject(yi(t,"operation-not-supported-in-this-environment"));const i=Qs(t);aL(t,e,Ov);const a=Nx(i,n);return new Ma(i,"signInViaPopup",e,a).executeNotNull()}class Ma extends Px{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AU.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="pendingRedirect",Af=new Map;class CU extends Px{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const i=await IU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IU(t,e){const n=PU(e),i=NU(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function DU(t,e){Af.set(t._key(),e)}function NU(t){return Nr(t._redirectPersistence)}function PU(t){return Sf(xU,t.config.apiKey,t.name)}async function OU(t,e,n=!1){if(Rn(t.app))return Promise.reject(Vr(t));const i=Qs(t),a=Nx(i,e),u=await new CU(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=10*60*1e3;class VU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Ox(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Aw(e))}saveEventToCache(e){this.cachedEventUids.add(Aw(e)),this.lastProcessedEventTime=Date.now()}}function Aw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ox({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function BU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LU(t);for(const n of e)try{if(FU(n))return}catch{}si(t,"unauthorized-domain")}function FU(t){const e=ay(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!jU.test(n))return!1;if(UU.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Ac(3e4,6e4);function Rw(){const t=Ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HU(t){return new Promise((e,n)=>{var i,a,l;function u(){Rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rw(),n(yi(t,"network-request-failed"))},timeout:zU.get()})}if(!((a=(i=Ki().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ki().gapi)===null||l===void 0)&&l.load)u();else{const h=ML("iframefcb");return Ki()[h]=()=>{gapi.load?u():n(yi(t,"network-request-failed"))},yx(`${OL()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function qU(t){return Rf=Rf||HU(t),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new Ac(5e3,15e3),GU="__/auth/iframe",KU="emulator/auth/iframe",YU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WU(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,KU):`https://${t.config.authDomain}/${GU}`,i={apiKey:e.apiKey,appName:t.name,v:Qa},a=QU.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Sc(i).slice(1)}`}async function XU(t){const e=await qU(t),n=Ki().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:WU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YU,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=yi(t,"network-request-failed"),h=Ki().setTimeout(()=>{l(u)},$U.get());function d(){Ki().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JU=500,e4=600,t4="_blank",n4="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(t,e,n,i=JU,a=e4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},ZU),{width:i.toString(),height:a.toString(),top:l,left:u}),p=fn().toLowerCase();n&&(h=cx(p)?t4:n),lx(p)&&(e=e||n4,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[w,S])=>`${E}${w}=${S},`,"");if(SL(p)&&h!=="_self")return r4(e||"",h),new xw(null);const _=window.open(e||"",h,y);Ae(_,t,"popup-blocked");try{_.focus()}catch{}return new xw(_)}function r4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="__/auth/handler",a4="emulator/auth/handler",o4=encodeURIComponent("fac");async function Cw(t,e,n,i,a,l){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Qa,eventId:a};if(e instanceof Ov){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",qV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof xc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${o4}=${encodeURIComponent(d)}`:"";return`${l4(t)}?${Sc(h).slice(1)}${p}`}function l4({config:t}){return t.emulator?Cv(t,a4):`https://${t.authDomain}/${s4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class u4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rx,this._completeRedirectFn=OU,this._overrideRedirectResult=DU}async _openPopup(e,n,i,a){var l;Fr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Cw(e,n,i,ay(),a);return i4(e,u,Mv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Cw(e,n,i,ay(),a);return fU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await XU(e),i=new VU(e);return n.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xg,{type:xg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[xg];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return px()||ux()||Dv()}}const c4=u4;var Iw="@firebase/auth",Dw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d4(t){ja(new Us("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gx(t)},p=new DL(i,a,l,d);return BL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ja(new Us("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(i=>new h4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(Iw,Dw,f4(t)),Gi(Iw,Dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=5*60,p4=KR("authIdTokenMaxAge")||m4;let Nw=null;const g4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>p4)return;const a=n==null?void 0:n.token;Nw!==a&&(Nw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function y4(t=Sv()){const e=Ad(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jL(t,{popupRedirectResolver:c4,persistence:[TU,uU,Rx]}),i=KR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=g4(l.toString());rU(n,u,()=>u(n.currentUser)),iU(n,h=>u(h))}}const a=qR("auth");return a&&FL(n,`http://${a}`),n}function v4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=yi("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",v4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d4("Browser");var Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,Mx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,I){function C(){}C.prototype=I.prototype,L.D=I.prototype,L.prototype=new C,L.prototype.constructor=L,L.C=function(M,j,q){for(var U=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)U[Je-2]=arguments[Je];return I.prototype[j].apply(M,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,I,C){C||(C=0);var M=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)M[j]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(j=0;16>j;++j)M[j]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=L.g[0],C=L.g[1],j=L.g[2];var q=L.g[3],U=I+(q^C&(j^q))+M[0]+3614090360&4294967295;I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[2]+606105819&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[3]+3250441966&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(q^C&(j^q))+M[4]+4118548399&4294967295,I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[6]+2821735955&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[7]+4249261313&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(q^C&(j^q))+M[8]+1770035416&4294967295,I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[10]+4294925233&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[11]+2304563134&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(q^C&(j^q))+M[12]+1804603682&4294967295,I=C+(U<<7&4294967295|U>>>25),U=q+(j^I&(C^j))+M[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(C^q&(I^C))+M[14]+2792965006&4294967295,j=q+(U<<17&4294967295|U>>>15),U=C+(I^j&(q^I))+M[15]+1236535329&4294967295,C=j+(U<<22&4294967295|U>>>10),U=I+(j^q&(C^j))+M[1]+4129170786&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[11]+643717713&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[0]+3921069994&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(C^j))+M[5]+3593408605&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[15]+3634488961&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[4]+3889429448&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(C^j))+M[9]+568446438&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[3]+4107603335&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[8]+1163531501&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(C^j))+M[13]+2850285829&4294967295,I=C+(U<<5&4294967295|U>>>27),U=q+(C^j&(I^C))+M[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^C&(q^I))+M[7]+1735328473&4294967295,j=q+(U<<14&4294967295|U>>>18),U=C+(q^I&(j^q))+M[12]+2368359562&4294967295,C=j+(U<<20&4294967295|U>>>12),U=I+(C^j^q)+M[5]+4294588738&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[11]+1839030562&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[14]+4259657740&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(C^j^q)+M[1]+2763975236&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[7]+4139469664&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[10]+3200236656&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(C^j^q)+M[13]+681279174&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[3]+3572445317&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[6]+76029189&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(C^j^q)+M[9]+3654602809&4294967295,I=C+(U<<4&4294967295|U>>>28),U=q+(I^C^j)+M[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^C)+M[15]+530742520&4294967295,j=q+(U<<16&4294967295|U>>>16),U=C+(j^q^I)+M[2]+3299628645&4294967295,C=j+(U<<23&4294967295|U>>>9),U=I+(j^(C|~q))+M[0]+4096336452&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[14]+2878612391&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[5]+4237533241&4294967295,C=j+(U<<21&4294967295|U>>>11),U=I+(j^(C|~q))+M[12]+1700485571&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[10]+4293915773&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[1]+2240044497&4294967295,C=j+(U<<21&4294967295|U>>>11),U=I+(j^(C|~q))+M[8]+1873313359&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[6]+2734768916&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[13]+1309151649&4294967295,C=j+(U<<21&4294967295|U>>>11),U=I+(j^(C|~q))+M[4]+4149444226&4294967295,I=C+(U<<6&4294967295|U>>>26),U=q+(C^(I|~j))+M[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~C))+M[2]+718787259&4294967295,j=q+(U<<15&4294967295|U>>>17),U=C+(q^(j|~I))+M[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,L.g[2]=L.g[2]+j&4294967295,L.g[3]=L.g[3]+q&4294967295}i.prototype.u=function(L,I){I===void 0&&(I=L.length);for(var C=I-this.blockSize,M=this.B,j=this.h,q=0;q<I;){if(j==0)for(;q<=C;)a(this,L,q),q+=this.blockSize;if(typeof L=="string"){for(;q<I;)if(M[j++]=L.charCodeAt(q++),j==this.blockSize){a(this,M),j=0;break}}else for(;q<I;)if(M[j++]=L[q++],j==this.blockSize){a(this,M),j=0;break}}this.h=j,this.o+=I},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;var C=8*this.o;for(I=L.length-8;I<L.length;++I)L[I]=C&255,C/=256;for(this.u(L),L=Array(16),I=C=0;4>I;++I)for(var M=0;32>M;M+=8)L[C++]=this.g[I]>>>M&255;return L};function l(L,I){var C=h;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=I(L)}function u(L,I){this.h=I;for(var C=[],M=!0,j=L.length-1;0<=j;j--){var q=L[j]|0;M&&q==I||(C[j]=q,M=!1)}this.g=C}var h={};function d(L){return-128<=L&&128>L?l(L,function(I){return new u([I|0],0>I?-1:0)}):new u([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return _;if(0>L)return R(p(-L));for(var I=[],C=1,M=0;L>=C;M++)I[M]=L/C|0,C*=4294967296;return new u(I,0)}function y(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return R(y(L.substring(1),I));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(I,8)),M=_,j=0;j<L.length;j+=8){var q=Math.min(8,L.length-j),U=parseInt(L.substring(j,j+q),I);8>q?(q=p(Math.pow(I,q)),M=M.j(q).add(p(U))):(M=M.j(C),M=M.add(p(U)))}return M}var _=d(0),E=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-R(this).m();for(var L=0,I=1,C=0;C<this.g.length;C++){var M=this.i(C);L+=(0<=M?M:4294967296+M)*I,I*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(S(this))return"0";if(D(this))return"-"+R(this).toString(L);for(var I=p(Math.pow(L,6)),C=this,M="";;){var j=Z(C,I).g;C=O(C,j.j(I));var q=((0<C.g.length?C.g[0]:C.h)>>>0).toString(L);if(C=j,S(C))return q+M;for(;6>q.length;)q="0"+q;M=q+M}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function S(L){if(L.h!=0)return!1;for(var I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function D(L){return L.h==-1}t.l=function(L){return L=O(this,L),D(L)?-1:S(L)?0:1};function R(L){for(var I=L.g.length,C=[],M=0;M<I;M++)C[M]=~L.g[M];return new u(C,~L.h).add(E)}t.abs=function(){return D(this)?R(this):this},t.add=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0,j=0;j<=I;j++){var q=M+(this.i(j)&65535)+(L.i(j)&65535),U=(q>>>16)+(this.i(j)>>>16)+(L.i(j)>>>16);M=U>>>16,q&=65535,U&=65535,C[j]=U<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function O(L,I){return L.add(R(I))}t.j=function(L){if(S(this)||S(L))return _;if(D(this))return D(L)?R(this).j(R(L)):R(R(this).j(L));if(D(L))return R(this.j(R(L)));if(0>this.l(w)&&0>L.l(w))return p(this.m()*L.m());for(var I=this.g.length+L.g.length,C=[],M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<L.g.length;j++){var q=this.i(M)>>>16,U=this.i(M)&65535,Je=L.i(j)>>>16,Ke=L.i(j)&65535;C[2*M+2*j]+=U*Ke,B(C,2*M+2*j),C[2*M+2*j+1]+=q*Ke,B(C,2*M+2*j+1),C[2*M+2*j+1]+=U*Je,B(C,2*M+2*j+1),C[2*M+2*j+2]+=q*Je,B(C,2*M+2*j+2)}for(M=0;M<I;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=I;M<2*I;M++)C[M]=0;return new u(C,0)};function B(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function F(L,I){this.g=L,this.h=I}function Z(L,I){if(S(I))throw Error("division by zero");if(S(L))return new F(_,_);if(D(L))return I=Z(R(L),I),new F(R(I.g),R(I.h));if(D(I))return I=Z(L,R(I)),new F(R(I.g),I.h);if(30<L.g.length){if(D(L)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,M=I;0>=M.l(L);)C=Y(C),M=Y(M);var j=se(C,1),q=se(M,1);for(M=se(M,2),C=se(C,2);!S(M);){var U=q.add(M);0>=U.l(L)&&(j=j.add(C),q=U),M=se(M,1),C=se(C,1)}return I=O(L,j.j(I)),new F(j,I)}for(j=_;0<=L.l(I);){for(C=Math.max(1,Math.floor(L.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),q=p(C),U=q.j(I);D(U)||0<U.l(L);)C-=M,q=p(C),U=q.j(I);S(q)&&(q=E),j=j.add(q),L=O(L,U)}return new F(j,L)}t.A=function(L){return Z(this,L).h},t.and=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)&L.i(M);return new u(C,this.h&L.h)},t.or=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)|L.i(M);return new u(C,this.h|L.h)},t.xor=function(L){for(var I=Math.max(this.g.length,L.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)^L.i(M);return new u(C,this.h^L.h)};function Y(L){for(var I=L.g.length+1,C=[],M=0;M<I;M++)C[M]=L.i(M)<<1|L.i(M-1)>>>31;return new u(C,L.h)}function se(L,I){var C=I>>5;I%=32;for(var M=L.g.length-C,j=[],q=0;q<M;q++)j[q]=0<I?L.i(q+C)>>>I|L.i(q+C+1)<<32-I:L.i(q+C);return new u(j,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Mx=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ms=u}).apply(typeof Pw<"u"?Pw:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vx,Hu,kx,xf,cy,Lx,Ux,jx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)e:{var T=i;f=f.split(".");for(var x=0;x<f.length-1;x++){var G=f[x];if(!(G in T))break e;T=T[G]}f=f[f.length-1],x=T[f],v=v(x),v!=x&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var T=0,x=!1,G={next:function(){if(!x&&T<f.length){var W=T++;return{value:v(W,f[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,T){return f.call.apply(f.bind,arguments)}function _(f,v,T){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,x),f.apply(v,G)}}return function(){return f.apply(v,arguments)}}function E(f,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function w(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function S(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(x,G,W){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return v.prototype[G].apply(x,ce)}}function D(f){const v=f.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=f[x];return T}return[]}function R(f,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(d(x)){const G=f.length||0,W=x.length||0;f.length=G+W;for(let ce=0;ce<W;ce++)f[G+ce]=x[ce]}else f.push(x)}}class O{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Z(f){return Z[" "](f),f}Z[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function se(f,v,T){for(const x in f)v.call(T,f[x],x,f)}function L(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function I(f){const v={};for(const T in f)v[T]=f[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,v){let T,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(T in x)f[T]=x[T];for(let W=0;W<C.length;W++)T=C[W],Object.prototype.hasOwnProperty.call(x,T)&&(f[T]=x[T])}}function j(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function q(f){h.setTimeout(()=>{throw f},0)}function U(){var f=le;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Je{constructor(){this.h=this.g=null}add(v,T){const x=Ke.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var Ke=new O(()=>new ue,f=>f.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ne=!1,le=new Je,N=()=>{const f=h.Promise.resolve(void 0);me=()=>{f.then(te)}};var te=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(T){q(T)}var v=Ke;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ne=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return f}();function xe(f,v){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(Y){e:{try{Z(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:he[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&xe.aa.h.call(this)}}S(xe,fe);var he={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),be=0;function Pe(f,v,T,x,G){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=G,this.key=++be,this.da=this.fa=!1}function ke(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ut(f){this.src=f,this.g={},this.h=0}Ut.prototype.add=function(f,v,T,x,G){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var ce=En(f,v,x,G);return-1<ce?(v=f[ce],T||(v.fa=!1)):(v=new Pe(v,this.src,W,!!x,G),v.fa=T,f.push(v)),v};function bi(f,v){var T=v.type;if(T in f.g){var x=f.g[T],G=Array.prototype.indexOf.call(x,v,void 0),W;(W=0<=G)&&Array.prototype.splice.call(x,G,1),W&&(ke(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function En(f,v,T,x){for(var G=0;G<f.length;++G){var W=f[G];if(!W.da&&W.listener==v&&W.capture==!!T&&W.ha==x)return G}return-1}var ai="closure_lm_"+(1e6*Math.random()|0),wi={};function oi(f,v,T,x,G){if(Array.isArray(v)){for(var W=0;W<v.length;W++)oi(f,v[W],T,x,G);return null}return T=Lc(T),f&&f[Ue]?f.K(v,T,p(x)?!!x.capture:!1,G):jn(f,v,T,!1,x,G)}function jn(f,v,T,x,G,W){if(!v)throw Error("Invalid event type");var ce=p(G)?!!G.capture:!!G,He=Cl(f);if(He||(f[ai]=He=new Ut(f)),T=He.add(v,T,x,ce,W),T.proxy)return T;if(x=Si(),T.proxy=x,x.src=f,x.listener=T,f.addEventListener)de||(G=ce),G===void 0&&(G=!1),f.addEventListener(v.toString(),x,G);else if(f.attachEvent)f.attachEvent(nr(v.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Si(){function f(T){return v.call(f.src,f.listener,T)}const v=Za;return f}function Tn(f,v,T,x,G){if(Array.isArray(v))for(var W=0;W<v.length;W++)Tn(f,v[W],T,x,G);else x=p(x)?!!x.capture:!!x,T=Lc(T),f&&f[Ue]?(f=f.i,v=String(v).toString(),v in f.g&&(W=f.g[v],T=En(W,T,x,G),-1<T&&(ke(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete f.g[v],f.h--)))):f&&(f=Cl(f))&&(v=f.g[v.toString()],f=-1,v&&(f=En(v,T,x,G)),(T=-1<f?v[f]:null)&&li(T))}function li(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ue])bi(v.i,f);else{var T=f.type,x=f.proxy;v.removeEventListener?v.removeEventListener(T,x,f.capture):v.detachEvent?v.detachEvent(nr(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Cl(v))?(bi(T,f),T.h==0&&(T.src=null,v[ai]=null)):ke(f)}}}function nr(f){return f in wi?wi[f]:wi[f]="on"+f}function Za(f,v){if(f.da)f=!0;else{v=new xe(v,this);var T=f.listener,x=f.ha||f.src;f.fa&&li(f),f=T.call(x,v)}return f}function Cl(f){return f=f[ai],f instanceof Ut?f:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(f){return typeof f=="function"?f:(f[bn]||(f[bn]=function(v){return f.handleEvent(v)}),f[bn])}function Ct(){pe.call(this),this.i=new Ut(this),this.M=this,this.F=null}S(Ct,pe),Ct.prototype[Ue]=!0,Ct.prototype.removeEventListener=function(f,v,T,x){Tn(this,f,v,T,x)};function jt(f,v){var T,x=f.F;if(x)for(T=[];x;x=x.F)T.push(x);if(f=f.M,x=v.type||v,typeof v=="string")v=new fe(v,f);else if(v instanceof fe)v.target=v.target||f;else{var G=v;v=new fe(x,f),M(v,G)}if(G=!0,T)for(var W=T.length-1;0<=W;W--){var ce=v.g=T[W];G=ir(ce,x,!0,v)&&G}if(ce=v.g=f,G=ir(ce,x,!0,v)&&G,G=ir(ce,x,!1,v)&&G,T)for(W=0;W<T.length;W++)ce=v.g=T[W],G=ir(ce,x,!1,v)&&G}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],x=0;x<T.length;x++)ke(T[x]);delete f.g[v],f.h--}}this.F=null},Ct.prototype.K=function(f,v,T,x){return this.i.add(String(f),v,!1,T,x)},Ct.prototype.L=function(f,v,T,x){return this.i.add(String(f),v,!0,T,x)};function ir(f,v,T,x){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,W=0;W<v.length;++W){var ce=v[W];if(ce&&!ce.da&&ce.capture==T){var He=ce.listener,Dt=ce.ha||ce.src;ce.fa&&bi(f.i,ce),G=He.call(Dt,x)!==!1&&G}}return G&&!x.defaultPrevented}function Uc(f,v,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function Il(f){f.g=Uc(()=>{f.g=null,f.i&&(f.i=!1,Il(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class tm extends pe{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Il(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(f){pe.call(this),this.h=f,this.g={}}S(Zs,pe);var qr=[];function tn(f){se(f.g,function(v,T){this.g.hasOwnProperty(T)&&li(v)},f),f.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),tn(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dl=h.JSON.stringify,Ai=h.JSON.parse,dn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Nl(){}Nl.prototype.h=null;function jc(f){return f.h||(f.h=f.i())}function Bc(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){fe.call(this,"d")}S($r,fe);function ui(){fe.call(this,"c")}S(ui,fe);var Bn={},Gr=null;function Ja(){return Gr=Gr||new Ct}Bn.La="serverreachability";function Pl(f){fe.call(this,Bn.La,f)}S(Pl,fe);function Kr(f){const v=Ja();jt(v,new Pl(v))}Bn.STAT_EVENT="statevent";function eo(f,v){fe.call(this,Bn.STAT_EVENT,f),this.stat=v}S(eo,fe);function _t(f){const v=Ja();jt(v,new eo(v,f))}Bn.Ma="timingevent";function Fc(f,v){fe.call(this,Bn.Ma,f),this.size=v}S(Fc,fe);function Yr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Qr(){this.g=!0}Qr.prototype.xa=function(){this.g=!1};function zc(f,v,T,x,G,W){f.info(function(){if(f.g)if(W)for(var ce="",He=W.split("&"),Dt=0;Dt<He.length;Dt++){var qe=He[Dt].split("=");if(1<qe.length){var zt=qe[0];qe=qe[1];var Nt=zt.split("_");ce=2<=Nt.length&&Nt[1]=="type"?ce+(zt+"="+qe+"&"):ce+(zt+"=redacted&")}}else ce=null;else ce=W;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+v+`
`+T+`
`+ce})}function Hc(f,v,T,x,G,W,ce){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+v+`
`+T+`
`+W+" "+ce})}function Wr(f,v,T,x){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bt(f,T)+(x?" "+x:"")})}function xi(f,v){f.info(function(){return"TIMEOUT: "+v})}Qr.prototype.info=function(){};function Bt(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var x=T[f];if(!(2>x.length)){var G=x[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return Dl(T)}catch{return v}}var It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Js;function to(){}S(to,Nl),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},Js=new to;function Ci(f,v,T,x){this.j=f,this.i=v,this.l=T,this.R=x||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}var Xr={},ea={};function ci(f,v,T){f.L=1,f.v=ia(dt(v)),f.m=T,f.P=!0,sr(f,null)}function sr(f,v){f.F=Date.now(),lt(f),f.A=dt(f.v);var T=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),lr(T.i,"t",x),f.C=0,T=f.j.J,f.h=new Ol,f.g=ih(f.j,T?v:null,!f.m),0<f.O&&(f.M=new tm(E(f.Y,f,f.g),f.O)),v=f.U,T=f.g,x=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(qr[0]=G.toString()),G=qr);for(var W=0;W<G.length;W++){var ce=oi(T,G[W],x||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Kr(),zc(f.i,f.u,f.A,f.l,f.R,f.m)}Ci.prototype.ca=function(f){f=f.target;const v=this.M;v&&$n(f)==3?v.j():this.Y(f)},Ci.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=$n(this.g);var v=this.g.Ba();const fr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=fr?Kr(3):Kr(2)),no(this);var T=this.g.Z();this.X=T;t:if(Zr(this)){var x=Qc(this.g);f="";var G=x.length,W=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Dn(this);var ce="";break t}this.h.i=new h.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,f+=this.h.i.decode(x[v],{stream:!(W&&v==G-1)});x.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,Hc(this.i,this.u,this.A,this.l,this.R,Nt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Dt=this.g;if((He=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(He)){var qe=He;break t}}qe=null}if(T=qe)Wr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,T);else{this.o=!1,this.s=3,_t(12),wn(this),Dn(this);break e}}if(this.P){T=!0;let Kt;for(;!this.J&&this.C<ce.length;)if(Kt=Jr(this,ce),Kt==ea){Nt==4&&(this.s=4,_t(14),T=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Xr){this.s=4,_t(15),Wr(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else Wr(this.i,this.l,Kt,null),Nn(this,Kt);if(Zr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ce.length!=0||this.h.h||(this.s=1,_t(16),T=!1),this.o=this.o&&T,!T)Wr(this.i,this.l,ce,"[Invalid Chunked Response]"),wn(this),Dn(this);else if(0<ce.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ca(zt),zt.M=!0,_t(11))}}else Wr(this.i,this.l,ce,null),Nn(this,ce);Nt==4&&wn(this),this.o&&!this.J&&(Nt==4?eh(this.j,this):(this.o=!1,lt(this)))}else om(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),wn(this),Dn(this)}}}catch{}finally{}};function Zr(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Jr(f,v){var T=f.C,x=v.indexOf(`
`,T);return x==-1?ea:(T=Number(v.substring(T,x)),isNaN(T)?Xr:(x+=1,x+T>v.length?ea:(v=v.slice(x,x+T),f.C=x+T,v)))}Ci.prototype.cancel=function(){this.J=!0,wn(this)};function lt(f){f.S=Date.now()+f.I,Ml(f,f.I)}function Ml(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Yr(E(f.ba,f),v)}function no(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Ci.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(xi(this.i,this.A),this.L!=2&&(Kr(),_t(17)),wn(this),this.s=2,Dn(this)):Ml(this,this.S-f)};function Dn(f){f.j.G==0||f.J||eh(f.j,f)}function wn(f){no(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,tn(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Nn(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||es(T.h,f))){if(!f.K&&es(T.h,f)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)fo(T),co(T);else break e;$l(T),_t(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Yr(E(T.Za,T),6e3));if(1>=qc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else hr(T,11)}else if((f.K||T.g==f)&&fo(T),!B(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let qe=G[v];if(T.T=qe[0],qe=qe[1],T.G==2)if(qe[0]=="c"){T.K=qe[1],T.ia=qe[2];const zt=qe[3];zt!=null&&(T.la=zt,T.j.info("VER="+T.la));const Nt=qe[4];Nt!=null&&(T.Aa=Nt,T.j.info("SVER="+T.Aa));const fr=qe[5];fr!=null&&typeof fr=="number"&&0<fr&&(x=1.5*fr,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Kt=f.g;if(Kt){const Vi=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var W=x.h;W.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ts(W,W.h),W.h=null))}if(x.D){const Kl=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(x.ya=Kl,Ye(x.I,x.D,Kl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var ce=f;if(x.qa=nh(x,x.J?x.ia:null,x.W),ce.K){Fn(x.h,ce);var He=ce,Dt=x.L;Dt&&(He.I=Dt),He.B&&(no(He),lt(He)),x.g=ce}else Zc(x);0<T.i.length&&ho(T)}else qe[0]!="stop"&&qe[0]!="close"||hr(T,7);else T.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?hr(T,7):Hl(T):qe[0]!="noop"&&T.l&&T.l.ta(qe),T.v=0)}}Kr(4)}catch{}}var nm=class{constructor(f,v){this.g=f,this.map=v}};function Vl(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qc(f){return f.h?1:f.g?f.g.size:0}function es(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function ts(f,v){f.g?f.g.add(v):f.h=v}function Fn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return D(f.i)}function $c(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],T=f.length,x=0;x<T;x++)v.push(f[x]);return v}v=[],T=0;for(x in f)v[T++]=f[x];return v}function im(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const x in f)v[T++]=x;return v}}}function ta(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=im(f),x=$c(f),G=x.length,W=0;W<G;W++)v.call(void 0,x[W],T&&T[W],f)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var x=f[T].indexOf("="),G=null;if(0<=x){var W=f[T].substring(0,x);G=f[T].substring(x+1)}else W=f[T];v(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ar(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ar){this.h=f.h,ns(this,f.j),this.o=f.o,this.g=f.g,na(this,f.s),this.l=f.l;var v=f.i,T=new Ii;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ro(this,T),this.m=f.m}else f&&(v=String(f).match(Ll))?(this.h=!1,ns(this,v[1]||"",!0),this.o=is(v[2]||""),this.g=is(v[3]||"",!0),na(this,v[4]),this.l=is(v[5]||"",!0),ro(this,v[6]||"",!0),this.m=is(v[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}ar.prototype.toString=function(){var f=[],v=this.j;v&&f.push(zn(v,Ul,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(zn(v,Ul,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(zn(T,T.charAt(0)=="/"?jl:Gc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",zn(T,am)),f.join("")};function dt(f){return new ar(f)}function ns(f,v,T){f.j=T?is(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function na(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function ro(f,v,T){v instanceof Ii?(f.i=v,Bl(f.i,f.h)):(T||(v=zn(v,sm)),f.i=new Ii(v,f.h))}function Ye(f,v,T){f.i.set(v,T)}function ia(f){return Ye(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function is(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zn(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,rm),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function rm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ul=/[#\/\?@]/g,Gc=/[#\?:]/g,jl=/[#\?]/g,sm=/[#\?@]/g,am=/#/g;function Ii(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&io(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Ii.prototype,t.add=function(f,v){Hn(this),this.i=null,f=ur(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function so(f,v){Hn(f),v=ur(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function or(f,v){return Hn(f),v=ur(f,v),f.g.has(v)}t.forEach=function(f,v){Hn(this),this.g.forEach(function(T,x){T.forEach(function(G){f.call(v,G,x,this)},this)},this)},t.na=function(){Hn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const G=f[x];for(let W=0;W<G.length;W++)T.push(v[x])}return T},t.V=function(f){Hn(this);let v=[];if(typeof f=="string")or(this,f)&&(v=v.concat(this.g.get(ur(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},t.set=function(f,v){return Hn(this),this.i=null,f=ur(this,f),or(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function lr(f,v,T){so(f,v),0<T.length&&(f.i=null,f.g.set(ur(f,v),D(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const W=encodeURIComponent(String(x)),ce=this.V(x);for(x=0;x<ce.length;x++){var G=W;ce[x]!==""&&(G+="="+encodeURIComponent(String(ce[x]))),f.push(G)}}return this.i=f.join("&")};function ur(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Bl(f,v){v&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(T,x){var G=x.toLowerCase();x!=G&&(so(this,x),lr(this,G,T))},f)),f.j=v}function Kc(f,v){const T=new Qr;if(h.Image){const x=new Image;x.onload=w(qn,T,"TestLoadImage: loaded",!0,v,x),x.onerror=w(qn,T,"TestLoadImage: error",!1,v,x),x.onabort=w(qn,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=w(qn,T,"TestLoadImage: timeout",!1,v,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else v(!1)}function ra(f,v){const T=new Qr,x=new AbortController,G=setTimeout(()=>{x.abort(),qn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:x.signal}).then(W=>{clearTimeout(G),W.ok?qn(T,"TestPingServer: ok",!0,v):qn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),qn(T,"TestPingServer: error",!1,v)})}function qn(f,v,T,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(T)}catch{}}function sa(){this.g=new dn}function Di(f,v,T){const x=T||"";try{ta(f,function(G,W){let ce=G;p(G)&&(ce=Dl(G)),v.push(x+W+"="+encodeURIComponent(ce))})}catch(G){throw v.push(x+"type="+encodeURIComponent("_badmap")),G}}function rs(f){this.l=f.Ub||null,this.j=f.eb||!1}S(rs,Nl),rs.prototype.g=function(){return new cr(this.l,this.j)},rs.prototype.i=function(f){return function(){return f}}({});function cr(f,v){Ct.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(cr,Ct),t=cr.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Pi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Ni(this):Pi(this),this.readyState==3&&Fl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ni(this))},t.Qa=function(f){this.g&&(this.response=f,Ni(this))},t.ga=function(){this.g&&Ni(this)};function Ni(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Pi(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zl(f){let v="";return se(f,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Ft(f,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=zl(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Ye(f,v,T))}function Xe(f){Ct.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,Ct);var ao=/^https?$/i,aa=["POST","PUT"];t=Xe.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Js.g(),this.v=this.o?jc(this.o):jc(Js),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(W){Yc(this,W);return}if(f=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)T.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())T.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),G=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(aa,v,void 0))||x||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ce]of T)this.g.setRequestHeader(W,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){Yc(this,W)}};function Yc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,oo(f),Oi(f)}function oo(f){f.A||(f.A=!0,jt(f,"complete"),jt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,jt(this,"complete"),jt(this,"abort"),Oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},t.bb=function(){lo(this)};function lo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)Uc(f.Ea,0,f);else if(jt(f,"readystatechange"),$n(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=ce===0){var G=String(f.D).match(Ll)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),x=!ao.test(G?G.toLowerCase():"")}T=x}if(T)jt(f,"complete"),jt(f,"success");else{f.m=6;try{var W=2<$n(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",oo(f)}}finally{Oi(f)}}}}function Oi(f,v){if(f.g){oa(f);const T=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||jt(f,"ready");try{T.onreadystatechange=x}catch{}}}function oa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Ai(v)}};function Qc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function om(f){const v={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(B(f[x]))continue;var T=j(f[x]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=v[G]||[];v[G]=W,W.push(T)}L(v,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function uo(f){this.Aa=0,this.i=[],this.j=new Qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,f),this.cb=la("retryDelaySeedMs",1e4,f),this.Wa=la("forwardChannelMaxRetries",2,f),this.wa=la("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Vl(f&&f.concurrentRequestLimit),this.Da=new sa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uo.prototype,t.la=8,t.G=1,t.connect=function(f,v,T,x){_t(0),this.W=f,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=nh(this,null,this.W),ho(this)};function Hl(f){if(Wc(f),f.G==3){var v=f.U++,T=dt(f.I);if(Ye(T,"SID",f.K),Ye(T,"RID",v),Ye(T,"TYPE","terminate"),ua(f,T),v=new Ci(f,f.j,v),v.L=2,v.v=ia(dt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=ih(v.j,null),v.g.ea(v.v)),v.F=Date.now(),lt(v)}th(f)}function co(f){f.g&&(ca(f),f.g.cancel(),f.g=null)}function Wc(f){co(f),f.u&&(h.clearTimeout(f.u),f.u=null),fo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function ho(f){if(!kl(f.h)&&!f.s){f.s=!0;var v=f.Ga;me||N(),ne||(me(),ne=!0),le.add(v,f),f.B=0}}function lm(f,v){return qc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Yr(E(f.Ga,f,v),Gl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new Ci(this,this.j,f);let W=this.o;if(this.S&&(W?(W=I(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Xc(this,G,v),T=dt(this.I),Ye(T,"RID",f),Ye(T,"CVER",22),this.D&&Ye(T,"X-HTTP-Session-Id",this.D),ua(this,T),W&&(this.O?v="headers="+encodeURIComponent(String(zl(W)))+"&"+v:this.m&&Ft(T,this.m,W)),ts(this.h,G),this.Ua&&Ye(T,"TYPE","init"),this.P?(Ye(T,"$req",v),Ye(T,"SID","null"),G.T=!0,ci(G,T,null)):ci(G,T,v),this.G=2}}else this.G==3&&(f?ql(this,f):this.i.length==0||kl(this.h)||ql(this))};function ql(f,v){var T;v?T=v.l:T=f.U++;const x=dt(f.I);Ye(x,"SID",f.K),Ye(x,"RID",T),Ye(x,"AID",f.T),ua(f,x),f.m&&f.o&&Ft(x,f.m,f.o),T=new Ci(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Xc(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ts(f.h,T),ci(T,x,v)}function ua(f,v){f.H&&se(f.H,function(T,x){Ye(v,x,T)}),f.l&&ta({},function(T,x){Ye(v,x,T)})}function Xc(f,v,T){T=Math.min(f.i.length,T);var x=f.l?E(f.l.Na,f.l,f):null;e:{var G=f.i;let W=-1;for(;;){const ce=["count="+T];W==-1?0<T?(W=G[0].g,ce.push("ofs="+W)):W=0:ce.push("ofs="+W);let He=!0;for(let Dt=0;Dt<T;Dt++){let qe=G[Dt].g;const zt=G[Dt].map;if(qe-=W,0>qe)W=Math.max(0,G[Dt].g-100),He=!1;else try{Di(zt,ce,"req"+qe+"_")}catch{x&&x(zt)}}if(He){x=ce.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,x}function Zc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;me||N(),ne||(me(),ne=!0),le.add(v,f),f.v=0}}function $l(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Yr(E(f.Fa,f),Gl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Yr(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),co(this),Jc(this))};function ca(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Jc(f){f.g=new Ci(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=dt(f.qa);Ye(v,"RID","rpc"),Ye(v,"SID",f.K),Ye(v,"AID",f.T),Ye(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ye(v,"TO",f.ja),Ye(v,"TYPE","xmlhttp"),ua(f,v),f.m&&f.o&&Ft(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ia(dt(v)),T.m=null,T.P=!0,sr(T,f)}t.Za=function(){this.C!=null&&(this.C=null,co(this),$l(this),_t(19))};function fo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function eh(f,v){var T=null;if(f.g==v){fo(f),ca(f),f.g=null;var x=2}else if(es(f.h,v))T=v.D,Fn(f.h,v),x=1;else return;if(f.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=f.B;x=Ja(),jt(x,new Fc(x,T)),ho(f)}else Zc(f);else if(G=v.s,G==3||G==0&&0<v.X||!(x==1&&lm(f,v)||x==2&&$l(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),G){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function Gl(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function hr(f,v){if(f.j.info("Error code "+v),v==2){var T=E(f.fb,f),x=f.Xa;const G=!x;x=new ar(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ns(x,"https"),ia(x),G?Kc(x.toString(),T):ra(x.toString(),T)}else _t(2);f.G=0,f.l&&f.l.sa(v),th(f),Wc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function th(f){if(f.G=0,f.ka=[],f.l){const v=mn(f.h);(v.length!=0||f.i.length!=0)&&(R(f.ka,v),R(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function nh(f,v,T){var x=T instanceof ar?dt(T):new ar(T);if(x.g!="")v&&(x.g=v+"."+x.g),na(x,x.s);else{var G=h.location;x=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var W=new ar(null);x&&ns(W,x),v&&(W.g=v),G&&na(W,G),T&&(W.l=T),x=W}return T=f.D,v=f.ya,T&&v&&Ye(x,T,v),Ye(x,"VER",f.la),ua(f,x),x}function ih(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Xe(new rs({eb:T})):new Xe(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}t=rh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mo(){}mo.prototype.g=function(f,v){return new pn(f,v)};function pn(f,v){Ct.call(this),this.g=new uo(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!B(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Mi(this)}S(pn,Ct),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Hl(this.g)},pn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Dl(f),f=T);v.i.push(new nm(v.Ya++,f)),v.G==3&&ho(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,pn.aa.N.call(this)};function sh(f){$r.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}S(sh,$r);function ah(){ui.call(this),this.status=1}S(ah,ui);function Mi(f){this.g=f}S(Mi,rh),Mi.prototype.ua=function(){jt(this.g,"a")},Mi.prototype.ta=function(f){jt(this.g,new sh(f))},Mi.prototype.sa=function(f){jt(this.g,new ah)},Mi.prototype.ra=function(){jt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,jx=function(){return new mo},Ux=function(){return Ja()},Lx=Bn,cy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,xf=It,rr.COMPLETE="complete",kx=rr,Bc.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Hu=Bc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Vx=Xe}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const Ow="@firebase/firestore",Mw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new bv("@firebase/firestore");function Fo(){return za.logLevel}function ge(t,...e){if(za.logLevel<=je.DEBUG){const n=e.map(kv);za.debug(`Firestore (${Tl}): ${t}`,...n)}}function zr(t,...e){if(za.logLevel<=je.ERROR){const n=e.map(kv);za.error(`Firestore (${Tl}): ${t}`,...n)}}function al(t,...e){if(za.logLevel<=je.WARN){const n=e.map(kv);za.warn(`Firestore (${Tl}): ${t}`,...n)}}function kv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Ze(t,e){t||Re()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class E4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T4{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new kr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new kr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new Bx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new on(e)}}class b4{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class w4{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new b4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Rn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Vw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new Vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=A4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function ze(t,e){return t<e?-1:t>e?1:0}function ol(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=-62135596800,Lw=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Lw);return new Vt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kw)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Vt(0,0))}static max(){return new Ce(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__name__";class zi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(),i===void 0?i=e.length-n:i>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=zi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=zi.isNumericId(e),a=zi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?zi.extractNumericId(e).compare(zi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class at extends zi{construct(e,n,i){return new at(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new at(n)}static emptyPath(){return new at([])}}const R4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends zi{construct(e,n,i){return new Jt(e,n,i)}static isValidIdentifier(e){return R4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uw}static keyField(){return new Jt([Uw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(at.fromString(e))}static fromName(e){return new Te(at.fromString(e).popFirst(5))}static empty(){return new Te(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function x4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(i===1e9?new Vt(n+1,0):new Vt(n,i));return new js(a,Te.empty(),e)}function C4(t){return new js(t.readTime,t.key,fc)}class js{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new js(Ce.min(),Te.empty(),fc)}static max(){return new js(Ce.max(),Te.empty(),fc)}}function I4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==D4)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,i)=>{n(e)})}static reject(e){return new re((n,i)=>{i(e)})}static waitFor(e){return new re((n,i)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},d=>i(d))}),u=!0,l===a&&n()})}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next(a=>a?re.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new re((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(y=>{u[p]=y,++h,h===l&&i(u)},y=>a(y))}})}static doWhile(e,n){return new re((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function P4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Id.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-1;function Dd(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function O4(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="";function M4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jw(e)),e=V4(t.get(n),e);return jw(e)}function V4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case zx:n+="";break;default:n+=l}}return n}function jw(t){return t+zx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new Zt(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,i,a,l){return this}insert(e,n,i){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new kt(Jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qx("Invalid base64 string: "+l):l}}(e);return new en(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const k4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=k4.exec(t);if(Ze(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="server_timestamp",Gx="__type__",Kx="__previous_value__",Yx="__local_write_time__";function Uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gx])===null||n===void 0?void 0:n.stringValue)===$x}function Nd(t){const e=t.mapValue.fields[Kx];return Uv(e)?Nd(e):e}function dc(t){const e=Bs(t.mapValue.fields[Yx].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,i,a,l,u,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Zf="(default)";class mc{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="__type__",U4="__max__",df={mapValue:{}},Wx="__vector__",Jf="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:B4(t)?9007199254740991:j4(t)?10:11:Re()}function Xi(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Bs(a.timestampValue),h=Bs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Fs(a.bytesValue).isEqual(Fs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return bt(a.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(a.geoPointValue.longitude)===bt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return bt(a.integerValue)===bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=bt(a.doubleValue),h=bt(l.doubleValue);return u===h?Xf(u)===Xf(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Bw(u)!==Bw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Xi(u[d],h[d])))return!1;return!0}(t,e);default:return Re()}}function pc(t,e){return(t.values||[]).find(n=>Xi(n,e))!==void 0}function ll(t,e){if(t===e)return 0;const n=zs(t),i=zs(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=bt(l.integerValue||l.doubleValue),d=bt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return zw(t.timestampValue,e.timestampValue);case 4:return zw(dc(t),dc(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(l,u){const h=Fs(l),d=Fs(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=ze(h[p],d[p]);if(y!==0)return y}return ze(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=ze(bt(l.latitude),bt(u.latitude));return h!==0?h:ze(bt(l.longitude),bt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hw(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,y;const _=l.fields||{},E=u.fields||{},w=(h=_[Jf])===null||h===void 0?void 0:h.arrayValue,S=(d=E[Jf])===null||d===void 0?void 0:d.arrayValue,D=ze(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:Hw(w,S)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===df.mapValue&&u===df.mapValue)return 0;if(l===df.mapValue)return 1;if(u===df.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=ze(d[_],y[_]);if(E!==0)return E;const w=ll(h[d[_]],p[y[_]]);if(w!==0)return w}return ze(d.length,y.length)}(t.mapValue,e.mapValue);default:throw Re()}}function zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Bs(t),i=Bs(e),a=ze(n.seconds,i.seconds);return a!==0?a:ze(n.nanos,i.nanos)}function Hw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ll(n[a],i[a]);if(l)return l}return ze(n.length,i.length)}function ul(t){return hy(t)}function hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Bs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=hy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${hy(n.fields[u])}`;return a+"}"}(t.mapValue):Re()}function Cf(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(t);return e?16+Cf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Cf(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Ws(i.fields,(l,u)=>{a+=l.length+Cf(u)}),a}(t.mapValue);default:throw Re()}}function fy(t){return!!t&&"integerValue"in t}function jv(t){return!!t&&"arrayValue"in t}function qw(t){return!!t&&"nullValue"in t}function $w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function j4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qx])===null||n===void 0?void 0:n.stringValue)===Wx}function Xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Xu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(n)}setAll(e){let n=Jt.emptyPath(),i={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Xu(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];If(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ws(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new xn(Xu(this.value))}}function Xx(t){const e=[];return Ws(t.fields,(n,i)=>{const a=new Jt([n]);if(If(i)){const l=Xx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),xn.empty(),0)}static newFoundDocument(e,n,i,a){return new un(e,1,n,Ce.min(),i,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ce.min(),Ce.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ce.min(),Ce.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.position=e,this.inclusive=n}}function Gw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=ll(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function F4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{}class Mt extends Zx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new H4(e,n,i):n==="array-contains"?new G4(e,i):n==="in"?new K4(e,i):n==="not-in"?new Y4(e,i):n==="array-contains-any"?new Q4(e,i):new Mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new q4(e,i):new $4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ll(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends Zx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Zi(e,n)}matches(e){return Jx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Jx(t){return t.op==="and"}function eC(t){return z4(t)&&Jx(t)}function z4(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function dy(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(eC(t))return t.filters.map(e=>dy(e)).join(",");{const e=t.filters.map(n=>dy(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof Mt?function(i,a){return a instanceof Mt&&i.op===a.op&&i.field.isEqual(a.field)&&Xi(i.value,a.value)}(t,e):t instanceof Zi?function(i,a){return a instanceof Zi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,h)=>l&&tC(u,a.filters[h]),!0):!1}(t,e):void Re()}function nC(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`}(t):t instanceof Zi?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class H4 extends Mt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends Mt{constructor(e,n){super(e,"in",n),this.keys=iC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $4 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=iC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class G4 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jv(n)&&pc(n.arrayValue,this.value)}}class K4 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class Y4 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pc(this.value.arrayValue,n)}}class Q4 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.le=null}}function Yw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new W4(t,e,n,i,a,l,u)}function Bv(t){const e=De(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>dy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ul(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ul(i)).join(",")),e.le=n}return e.le}function Fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kw(t.startAt,e.startAt)&&Kw(t.endAt,e.endAt)}function my(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function X4(t,e,n,i,a,l,u,h){return new Pd(t,e,n,i,a,l,u,h)}function Od(t){return new Pd(t)}function Qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z4(t){return t.collectionGroup!==null}function Zu(t){const e=De(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new kt(Jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new td(l,i))}),n.has(Jt.keyField().canonicalString())||e.he.push(new td(Jt.keyField(),i))}return e.he}function Yi(t){const e=De(t);return e.Pe||(e.Pe=J4(e,Zu(t))),e.Pe}function J4(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new td(a.field,l)});const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function py(t,e,n){return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return Fv(Yi(t),Yi(e))&&t.limitType===e.limitType}function rC(t){return`${Bv(Yi(t))}|lt:${t.limitType}`}function zo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>nC(a)).join(", ")}]`),Dd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ul(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ul(a)).join(",")),`Target(${i})`}(Yi(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Zu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(u,h,d){const p=Gw(u,h,d);return u.inclusive?p<=0:p<0}(i.startAt,Zu(i),a)||i.endAt&&!function(u,h,d){const p=Gw(u,h,d);return u.inclusive?p>=0:p>0}(i.endAt,Zu(i),a))}(t,e)}function ej(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sC(t){return(e,n)=>{let i=!1;for(const a of Zu(t)){const l=tj(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function tj(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?ll(d,p):Re()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Hx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new ft(Te.comparator);function Hr(){return nj}const aC=new ft(Te.comparator);function qu(...t){let e=aC;for(const n of t)e=e.insert(n.key,n);return e}function oC(t){let e=aC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Va(){return Ju()}function lC(){return Ju()}function Ju(){return new Wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const ij=new ft(Te.comparator),rj=new kt(Te.comparator);function Be(...t){let e=rj;for(const n of t)e=e.add(n);return e}const sj=new kt(ze);function aj(){return sj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function oj(t,e){return O4(e)?uC(e):zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function lj(t,e,n){return t instanceof nd?function(a,l){const u={fields:{[Gx]:{stringValue:$x},[Yx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uv(l)&&(l=Nd(l)),l&&(u.fields[Kx]=l),{mapValue:u}}(n,e):t instanceof cl?hC(t,e):t instanceof hl?fC(t,e):function(a,l){const u=cC(a,l),h=Ww(u)+Ww(a.Ie);return fy(u)&&fy(a.Ie)?uC(h):zv(a.serializer,h)}(t,e)}function uj(t,e,n){return t instanceof cl?hC(t,e):t instanceof hl?fC(t,e):n}function cC(t,e){return t instanceof id?function(i){return fy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class nd extends kd{}class cl extends kd{constructor(e){super(),this.elements=e}}function hC(t,e){const n=dC(e);for(const i of t.elements)n.some(a=>Xi(a,i))||n.push(i);return{arrayValue:{values:n}}}class hl extends kd{constructor(e){super(),this.elements=e}}function fC(t,e){let n=dC(e);for(const i of t.elements)n=n.filter(a=>!Xi(a,i));return{arrayValue:{values:n}}}class id extends kd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ww(t){return bt(t.integerValue||t.doubleValue)}function dC(t){return jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.field=e,this.transform=n}}function cj(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof cl&&a instanceof cl||i instanceof hl&&a instanceof hl?ol(i.elements,a.elements,Xi):i instanceof id&&a instanceof id?Xi(i.Ie,a.Ie):i instanceof nd&&a instanceof nd}(t.transform,e.transform)}class hj{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function pC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yC(t.key,Qi.none()):new Ic(t.key,t.data,Qi.none());{const n=t.data,i=xn.empty();let a=new kt(Jt.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Xs(t.key,i,new Ln(a.toArray()),Qi.none())}}function fj(t,e,n){t instanceof Ic?function(a,l,u){const h=a.value.clone(),d=Zw(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(a,l,u){if(!Df(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Zw(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(gC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,i){return t instanceof Ic?function(l,u,h,d){if(!Df(l.precondition,u))return h;const p=l.value.clone(),y=Jw(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Xs?function(l,u,h,d){if(!Df(l.precondition,u))return h;const p=Jw(l.fieldTransforms,d,u),y=u.data;return y.setAll(gC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,u,h){return Df(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function dj(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=cC(i.transform,a||null);l!=null&&(n===null&&(n=xn.empty()),n.set(i.field,l))}return n||null}function Xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ol(i,a,(l,u)=>cj(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ic extends Ld{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xs extends Ld{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Zw(t,e,n){const i=new Map;Ze(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,uj(u,h,n[a]))}return i}function Jw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,lj(l,u,e))}return i}class yC extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mj extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&fj(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ec(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ec(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=lC();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=pC(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(n,i)=>Xw(n,i))&&ol(this.baseMutations,e.baseMutations,(n,i)=>Xw(n,i))}}class Hv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Ze(e.mutations.length===i.length);let a=function(){return ij}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Hv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ge;function vj(t){switch(t){case oe.OK:return Re();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re()}}function vC(t){if(t===void 0)return zr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Rt.OK:return oe.OK;case Rt.CANCELLED:return oe.CANCELLED;case Rt.UNKNOWN:return oe.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return oe.INTERNAL;case Rt.UNAVAILABLE:return oe.UNAVAILABLE;case Rt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Rt.NOT_FOUND:return oe.NOT_FOUND;case Rt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Rt.ABORTED:return oe.ABORTED;case Rt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Rt.DATA_LOSS:return oe.DATA_LOSS;default:return Re()}}(Ge=Rt||(Rt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Ms([4294967295,4294967295],0);function eS(t){const e=_j().encode(t),n=new Mx;return n.update(e),new Uint8Array(n.digest())}function tS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([n,i],0),new Ms([a,l],0)]}class qv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(i<0)throw new $u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ms.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(Ms.fromNumber(i)));return a.compare(Ej)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=eS(e),[i,a]=tS(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);if(!this.Re(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new qv(l,a,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=eS(e),[i,a]=tS(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ud(Ce.min(),a,new ft(ze),Hr(),Be())}}class Dc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Dc(i,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class _C{constructor(e,n){this.targetId=e,this.ge=n}}class EC{constructor(e,n,i=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class nS{constructor(){this.pe=0,this.ye=iS(),this.we=en.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Be(),n=Be(),i=Be();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re()}}),new Dc(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=iS()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Tj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hr(),this.$e=mf(),this.Ke=mf(),this.Ue=new ft(ze)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(my(l))if(i===0){const u=new Te(l.path);this.ze(n,u,un.newNoDocument(u,Ce.min()))}else Ze(i===1);else{const u=this.et(n);if(u!==i){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Fs(i).toUint8Array()}catch(d){if(d instanceof qx)return al("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new qv(u,a,l)}catch(d){return al(d instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,u)=>{const h=this.Xe(u);if(h){if(l.current&&my(h.target)){const d=new Te(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,un.newNoDocument(d,e))}l.ve&&(n.set(u,l.Fe()),l.Me())}});let i=Be();this.Ke.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const a=new Ud(e,n,this.Ue,this.Qe,i);return this.Qe=Hr(),this.$e=mf(),this.Ke=mf(),this.Ue=new ft(ze),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new nS,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new kt(ze),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new kt(ze),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nS),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function mf(){return new ft(Te.comparator)}function iS(){return new ft(Te.comparator)}const bj={asc:"ASCENDING",desc:"DESCENDING"},wj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sj={and:"AND",or:"OR"};class Aj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rj(t,e){return rd(t,e.toTimestamp())}function Wi(t){return Ze(!!t),Ce.fromTimestamp(function(n){const i=Bs(n);return new Vt(i.seconds,i.nanos)}(t))}function $v(t,e){return yy(t,e).canonicalString()}function yy(t,e){const n=function(a){return new at(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bC(t){const e=at.fromString(t);return Ze(xC(e)),e}function vy(t,e){return $v(t.databaseId,e.path)}function Cg(t,e){const n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(SC(n))}function wC(t,e){return $v(t.databaseId,e)}function xj(t){const e=bC(t);return e.length===4?at.emptyPath():SC(e)}function _y(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SC(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rS(t,e,n){return{name:vy(t,e),fields:n.value.mapValue.fields}}function Cj(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string"),en.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array),en.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?oe.UNKNOWN:vC(p.code);return new _e(y,p.message||"")}(u);n=new EC(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Cg(t,i.document.name),l=Wi(i.document.updateTime),u=i.document.createTime?Wi(i.document.createTime):Ce.min(),h=new xn({mapValue:{fields:i.document.fields}}),d=un.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Nf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Cg(t,i.document),l=i.readTime?Wi(i.readTime):Ce.min(),u=un.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Nf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Cg(t,i.document),l=i.removedTargetIds||[];n=new Nf([],l,a,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new yj(a,l),h=i.targetId;n=new _C(h,u)}}return n}function Ij(t,e){let n;if(e instanceof Ic)n={update:rS(t,e.key,e.value)};else if(e instanceof yC)n={delete:vy(t,e.key)};else if(e instanceof Xs)n={update:rS(t,e.key,e.data),updateMask:Uj(e.fieldMask)};else{if(!(e instanceof mj))return Re();n={verify:vy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const h=u.transform;if(h instanceof nd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof id)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Re()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Rj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re()}(t,e.precondition)),n}function Dj(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(a,l){let u=a.updateTime?Wi(a.updateTime):Wi(l);return u.isEqual(Ce.min())&&(u=Wi(l)),new hj(u,a.transformResults||[])}(n,e))):[]}function Nj(t,e){return{documents:[wC(t,e.path)]}}function Pj(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wC(t,a);const l=function(p){if(p.length!==0)return RC(Zi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Ho(E.field),direction:Vj(E.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=gy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:a}}function Oj(t){let e=xj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Ze(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=AC(_);return E instanceof Zi&&eC(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(S){return new td(qo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Dd(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,w=_.values||[];return new ed(w,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,w=_.values||[];return new ed(w,E)}(n.endAt)),X4(e,a,u,l,h,"F",d,p)}function Mj(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=qo(n.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(n.unaryFilter.field);return Mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qo(n.unaryFilter.field);return Mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(n.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(qo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zi.create(n.compositeFilter.filters.map(i=>AC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function Vj(t){return bj[t]}function kj(t){return wj[t]}function Lj(t){return Sj[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function qo(t){return Jt.fromServerFormat(t.fieldPath)}function RC(t){return t instanceof Mt?function(n){if(n.op==="=="){if($w(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(qw(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($w(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(qw(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:kj(n.op),value:n.value}}}(t):t instanceof Zi?function(n){const i=n.getFilters().map(a=>RC(a));return i.length===1?i[0]:{compositeFilter:{op:Lj(n.op),filters:i}}}(t):Re()}function Uj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,i,a,l=Ce.min(),u=Ce.min(),h=en.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.Tt=e}}function Bj(t){const e=Oj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?py(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.Tn=new zj}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(js.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(js.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class zj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new kt(at.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new kt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CC=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(CC,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new fl(0)}static Un(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="LruGarbageCollector",Hj=1048576;function oS([t,e],[n,i]){const a=ze(t,n);return a===0?ze(e,i):a}class qj{constructor(e){this.Hn=e,this.buffer=new kt(oS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();oS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $j{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(aS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?ge(aS,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.er(3e5)})}}class Gj{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Id.ae);const i=new qj(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(sS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sS):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Fo()<=je.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function Kj(t,e){return new Gj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&ec(i.mutation,a,Ln.empty(),Vt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Be()){const a=Va();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let u=qu();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Be()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,a){let l=Hr();const u=Ju(),h=function(){return Ju()}();return n.forEach((d,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Xs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),ec(y.mutation,p,y.mutation.getFieldMask(),Vt.now())):u.set(p.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>u.set(p,y)),n.forEach((p,y)=>{var _;return h.set(p,new Qj(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const i=Ju();let a=new ft((u,h)=>u-h),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let y=i.get(d)||Ln.empty();y=h.applyToLocalView(p,y),i.set(d,y);const _=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,_=lC();y.forEach(E=>{if(!l.has(E)){const w=pC(n.get(E),i.get(E));w!==null&&_.set(E,w),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(Va());let h=fc,d=l;return u.next(p=>re.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,Be())).next(y=>({batchId:h,changes:oC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let a=qu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=qu();return this.indexManager.getCollectionParents(e,l).next(h=>re.forEach(h,d=>{const p=function(_,E){return new Pd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(u=>{l.forEach((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,un.newInvalidDocument(y)))});let h=qu();return u.forEach((d,p)=>{const y=l.get(d);y!==void 0&&ec(y.mutation,p,Ln.empty(),Vt.now()),Vd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Wi(a.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:Bj(a.bundledQuery),readTime:Wi(a.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.overlays=new ft(Te.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Va();return re.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=Va(),l=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new ft((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Va(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Va(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return re.resolve(h)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new gj(n,i));let l=this.Rr.get(n);l===void 0&&(l=Be(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Vr=new kt(Gt.mr),this.gr=new kt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Gt(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Gt(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new Te(new at([])),i=new Gt(n,e),a=new Gt(n,e+1),l=[];return this.gr.forEachInRange([i,a],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new at([])),i=new Gt(n,e),a=new Gt(n,e+1);let l=Be();return this.gr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Gt(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||ze(e.Cr,n.Cr)}static pr(e,n){return ze(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Gt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new pj(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Gt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Lv:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Gt(n,0),a=new Gt(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],u=>{const h=this.Or(u.Cr);l.push(h)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new kt(ze);return n.forEach(a=>{const l=new Gt(a,0),u=new Gt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],h=>{i=i.add(h.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const u=new Gt(new Te(l),0);let h=new kt(ze);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Cr)),!0)},u),re.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(n.mutations,a=>{const l=new Gt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Gt(n,0),a=this.Mr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.kr=e,this.docs=function(){return new ft(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=Hr();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))}),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Hr();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||I4(C4(y),i)<=0||(a.has(y.key)||Vd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re()}qr(e,n){return re.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new nB(this)}getSize(e){return re.resolve(this.size)}}class nB extends Yj{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.persistence=e,this.Qr=new Wa(n=>Bv(n),Fv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Gv,this.targetCount=0,this.Ur=fl.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),re.waitFor(l).next(()=>a)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Id(0),this.zr=!1,this.zr=!0,this.jr=new Jj,this.referenceDelegate=e(this),this.Hr=new iB(this),this.indexManager=new Fj,this.remoteDocumentCache=function(a){return new tB(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new jj(n),this.Yr=new Xj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new eB(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const a=new rB(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class rB extends N4{constructor(e){super(),this.currentSequenceNumber=e}}class Kv{constructor(e){this.persistence=e,this.ti=new Gv,this.ni=null}static ri(e){return new Kv(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const a=Te.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class sd{constructor(e,n){this.persistence=e,this.oi=new Wa(i=>M4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=Kj(this,n)}static ri(e,n){return new sd(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?re.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,n).next(h=>{h||(i++,l.removeEntry(u,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cf(e.data.value)),n}ar(e,n,i){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return UV()?8:P4(fn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new sB;return this._s(e,n,u).next(h=>{if(l.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Fo()<=je.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Fo()<=je.DEBUG&&ge("QueryEngine","Query:",zo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Fo()<=je.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):re.resolve())}rs(e,n){if(Qw(n))return re.resolve(null);let i=Yi(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=py(n,null,"F"),i=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Be(...l);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.cs(n,h);return this.ls(n,p,u,d.readTime)?this.rs(e,py(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,i,a){return Qw(n)||a.isEqual(Ce.min())?re.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(n,l);return this.ls(n,u,i,a)?re.resolve(null):(Fo()<=je.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(n)),this.hs(e,u,n,x4(a,fc)).next(h=>h))})}cs(e,n){let i=new kt(sC(e));return n.forEach((a,l)=>{Vd(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Fo()<=je.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ns.getDocumentsMatchingQuery(e,n,js.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LocalStore",oB=3e8;class lB{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new ft(ze),this.Is=new Wa(l=>Bv(l),Fv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wj(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function uB(t,e,n,i){return new lB(t,e,n,i)}async function DC(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],h=[];let d=Be();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function cB(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,y){const _=p.batch,E=_.keys();let w=re.resolve();return E.forEach(S=>{w=w.next(()=>y.getEntry(d,S)).next(D=>{const R=p.docVersions.get(S);Ze(R!==null),D.version.compareTo(R)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function NC(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function hB(t,e){const n=De(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(_,w),function(D,R,O){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=oB?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,w,y)&&h.push(n.Hr.updateTargetData(l,w))});let d=Hr(),p=Be();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(fB(l,u,e.documentUpdates).next(y=>{d=y.Vs,p=y.fs})),!i.isEqual(Ce.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return re.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.Ts=a,l))}function fB(t,e,n){let i=Be(),a=Be();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=Hr();return n.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ge(Qv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:u,fs:a}})}function dB(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Lv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mB(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,re.resolve(a)):n.Hr.allocateTargetId(i).next(u=>(a=new Ds(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Ey(t,e,n){const i=De(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!wl(u))throw u;ge(Qv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function lS(t,e,n){const i=De(t);let a=Ce.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,y){const _=De(d),E=_.Is.get(y);return E!==void 0?re.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,y)}(i,u,Yi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Be())).next(h=>(pB(i,ej(e),h),{documents:h,gs:l})))}function pB(t,e,n){let i=t.Es.get(e)||Ce.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class uS{constructor(){this.activeTargetIds=aj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gB{constructor(){this.ho=new uS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new uS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="ConnectivityMonitor";class hS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(cS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(cS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function Ty(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",vB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _B{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const u=Ty(),h=this.So(e,n.toUriEncodedString());ge(Ig,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,a,l),this.vo(e,h,d,i).then(p=>(ge(Ig,`Received RPC '${e}' ${u}: `,p),p),p=>{throw al(Ig,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",i),p})}Co(e,n,i,a,l,u){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=vB[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class TB extends _B{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Ty();return new Promise((u,h)=>{const d=new Vx;d.setWithCredentials(!0),d.listenOnce(kx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xf.NO_ERROR:const y=d.getResponseJson();ge(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case xf.TIMEOUT:ge(sn,`RPC '${e}' ${l} timed out`),h(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const _=d.getStatus();if(ge(sn,`RPC '${e}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const S=function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(O)>=0?O:oe.UNKNOWN}(w.status);h(new _e(S,w.message))}else h(new _e(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ge(sn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);ge(sn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",p,i,15)})}Wo(e,n,i){const a=Ty(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jx(),h=Ux(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=l.join("");ge(sn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=u.createWebChannel(y,d);let E=!1,w=!1;const S=new EB({Fo:R=>{w?ge(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(E||(ge(sn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ge(sn,`RPC '${e}' stream ${a} sending:`,R),_.send(R))},Mo:()=>_.close()}),D=(R,O,B)=>{R.listen(O,F=>{try{B(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return D(_,Hu.EventType.OPEN,()=>{w||(ge(sn,`RPC '${e}' stream ${a} transport opened.`),S.Qo())}),D(_,Hu.EventType.CLOSE,()=>{w||(w=!0,ge(sn,`RPC '${e}' stream ${a} transport closed`),S.Ko())}),D(_,Hu.EventType.ERROR,R=>{w||(w=!0,al(sn,`RPC '${e}' stream ${a} transport errored:`,R),S.Ko(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),D(_,Hu.EventType.MESSAGE,R=>{var O;if(!w){const B=R.data[0];Ze(!!B);const F=B,Z=(F==null?void 0:F.error)||((O=F[0])===null||O===void 0?void 0:O.error);if(Z){ge(sn,`RPC '${e}' stream ${a} received error:`,Z);const Y=Z.status;let se=function(C){const M=Rt[C];if(M!==void 0)return vC(M)}(Y),L=Z.message;se===void 0&&(se=oe.INTERNAL,L="Unknown error status: "+Y+" with message "+Z.message),w=!0,S.Ko(new _e(se,L)),_.close()}else ge(sn,`RPC '${e}' stream ${a} received:`,B),S.Uo(B)}}),D(h,Lx.STAT_EVENT,R=>{R.stat===cy.PROXY?ge(sn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===cy.NOPROXY&&ge(sn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function Dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return new Aj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="PersistentStream";class OC{constructor(e,n,i,a,l,u,h,d){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new _e(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(fS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ge(fS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bB extends OC{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Cj(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Wi(u.readTime):Ce.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=_y(this.serializer),n.addTarget=function(l,u){let h;const d=u.target;if(h=my(d)?{documents:Nj(l,d)}:{query:Pj(l,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=TC(l,u.resumeToken);const p=gy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=rd(l,u.snapshotVersion.toTimestamp());const p=gy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=Mj(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=_y(this.serializer),n.removeTarget=e,this.I_(n)}}class wB extends OC{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Dj(e.writeResults,e.commitTime),i=Wi(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=_y(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Ij(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{}class AB extends SB{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.bo(e,yy(n,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(oe.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,yy(n,i),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class RB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zr(n),this.N_=!1):ge("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class xB{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{Xa(this)&&(ge(Ha,"Restarting streams for network reachability change."),await async function(d){const p=De(d);p.W_.add(4),await Nc(p),p.j_.set("Unknown"),p.W_.delete(4),await Bd(p)}(this))})}),this.j_=new RB(i,a)}}async function Bd(t){if(Xa(t))for(const e of t.G_)await e(!0)}async function Nc(t){for(const e of t.G_)await e(!1)}function MC(t,e){const n=De(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Jv(n)?Zv(n):Sl(n).c_()&&Xv(n,e))}function Wv(t,e){const n=De(t),i=Sl(n);n.U_.delete(e),i.c_()&&VC(n,e),n.U_.size===0&&(i.c_()?i.P_():Xa(n)&&n.j_.set("Unknown"))}function Xv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).y_(e)}function VC(t,e){t.H_.Ne(e),Sl(t).w_(e)}function Zv(t){t.H_=new Tj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.j_.B_()}function Jv(t){return Xa(t)&&!Sl(t).u_()&&t.U_.size>0}function Xa(t){return De(t).W_.size===0}function kC(t){t.H_=void 0}async function CB(t){t.j_.set("Online")}async function IB(t){t.U_.forEach((e,n)=>{Xv(t,e)})}async function DB(t,e){kC(t),Jv(t)?(t.j_.q_(e),Zv(t)):t.j_.set("Unknown")}async function NB(t,e,n){if(t.j_.set("Online"),e instanceof EC&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.U_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(i){ge(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ad(t,i)}else if(e instanceof Nf?t.H_.We(e):e instanceof _C?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ce.min()))try{const i=await NC(t.localStore);n.compareTo(i)>=0&&await function(l,u){const h=l.H_.ot(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.U_.get(p);y&&l.U_.set(p,y.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const y=l.U_.get(d);if(!y)return;l.U_.set(d,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),VC(l,d);const _=new Ds(y.target,d,p,y.sequenceNumber);Xv(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){ge(Ha,"Failed to raise snapshot:",i),await ad(t,i)}}async function ad(t,e,n){if(!wl(e))throw e;t.W_.add(1),await Nc(t),t.j_.set("Offline"),n||(n=()=>NC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(Ha,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Bd(t)})}function LC(t,e){return e().catch(n=>ad(t,n,e))}async function Fd(t){const e=De(t),n=Hs(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Lv;for(;PB(e);)try{const a=await dB(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,OB(e,a)}catch(a){await ad(e,a)}UC(e)&&jC(e)}function PB(t){return Xa(t)&&t.K_.length<10}function OB(t,e){t.K_.push(e);const n=Hs(t);n.c_()&&n.b_&&n.S_(e.mutations)}function UC(t){return Xa(t)&&!Hs(t).u_()&&t.K_.length>0}function jC(t){Hs(t).start()}async function MB(t){Hs(t).C_()}async function VB(t){const e=Hs(t);for(const n of t.K_)e.S_(n.mutations)}async function kB(t,e,n){const i=t.K_.shift(),a=Hv.from(i,e,n);await LC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Fd(t)}async function LB(t,e){e&&Hs(t).b_&&await async function(i,a){if(function(u){return vj(u)&&u!==oe.ABORTED}(a.code)){const l=i.K_.shift();Hs(i).h_(),await LC(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Fd(i)}}(t,e),UC(t)&&jC(t)}async function dS(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ge(Ha,"RemoteStore received new credentials");const i=Xa(n);n.W_.add(3),await Nc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Bd(n)}async function UB(t,e){const n=De(t);e?(n.W_.delete(2),await Bd(n)):e||(n.W_.add(2),await Nc(n),n.j_.set("Unknown"))}function Sl(t){return t.J_||(t.J_=function(n,i,a){const l=De(n);return l.M_(),new bB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:CB.bind(null,t),No:IB.bind(null,t),Lo:DB.bind(null,t),p_:NB.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Jv(t)?Zv(t):t.j_.set("Unknown")):(await t.J_.stop(),kC(t))})),t.J_}function Hs(t){return t.Y_||(t.Y_=function(n,i,a){const l=De(n);return l.M_(),new wB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:MB.bind(null,t),Lo:LB.bind(null,t),D_:VB.bind(null,t),v_:kB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Fd(t)):(await t.Y_.stop(),t.K_.length>0&&(ge(Ha,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new e0(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t0(t,e){if(zr("AsyncQueue",`${e}: ${t}`),wl(t))return new _e(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=qu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new nl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Z_=new ft(Te.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class dl{constructor(e,n,i,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new dl(e,n,nl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BB{constructor(){this.queries=pS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=De(n),l=a.queries;a.queries=pS(),l.forEach((u,h)=>{for(const d of h.ta)d.onError(i)})})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function pS(){return new Wa(t=>rC(t),Md)}async function n0(t,e){const n=De(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new jB,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=t0(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&r0(n)}async function i0(t,e){const n=De(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FB(t,e){const n=De(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.ta)h.oa(a)&&(i=!0);u.ea=a}}i&&r0(n)}function zB(t,e,n){const i=De(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function r0(t){t.ia.forEach(e=>{e.next()})}var by,gS;(gS=by||(by={}))._a="default",gS.Cache="cache";class s0{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==by.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.key=e}}class FC{constructor(e){this.key=e}}class HB{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=sC(e),this.wa=new nl(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new mS,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),w=Vd(this.query,_)?_:null,S=!!E&&this.mutatedKeys.has(E.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;E&&w?E.data.isEqual(w.data)?S!==D&&(i.track({type:3,doc:w}),R=!0):this.va(E,w)||(i.track({type:2,doc:w}),R=!0,(d&&this.ya(w,d)>0||p&&this.ya(w,p)<0)&&(h=!0)):!E&&w?(i.track({type:0,doc:w}),R=!0):E&&!w&&(i.track({type:1,doc:E}),R=!0,(d||p)&&(h=!0)),R&&(w?(u=u.add(w),l=D?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:u,Da:i,ls:h,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((y,_)=>function(w,S){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return D(w)-D(S)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const h=n&&!a?this.Fa():[],d=this.pa.size===0&&this.current&&!a?1:0,p=d!==this.ga;return this.ga=d,u.length!==0||p?{snapshot:new dl(this.query,e.wa,l,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new FC(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new BC(i))}),n}Oa(e){this.fa=e.gs,this.pa=Be();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const a0="SyncEngine";class qB{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class $B{constructor(e){this.key=e,this.Ba=!1}}class GB{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Wa(h=>rC(h),Md),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Te.comparator),this.Ka=new Map,this.Ua=new Gv,this.Wa={},this.Ga=new Map,this.za=fl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KB(t,e,n=!0){const i=KC(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await zC(i,e,n,!0),a}async function YB(t,e){const n=KC(t);await zC(n,e,!0,!1)}async function zC(t,e,n,i){const a=await mB(t.localStore,Yi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await QB(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&MC(t.remoteStore,a),h}async function QB(t,e,n,i,a){t.Ha=(_,E,w)=>async function(D,R,O,B){let F=R.view.Sa(O);F.ls&&(F=await lS(D.localStore,R.query,!1).then(({documents:L})=>R.view.Sa(L,F)));const Z=B&&B.targetChanges.get(R.targetId),Y=B&&B.targetMismatches.get(R.targetId)!=null,se=R.view.applyChanges(F,D.isPrimaryClient,Z,Y);return vS(D,R.targetId,se.Ma),se.snapshot}(t,_,E,w);const l=await lS(t.localStore,e,!0),u=new HB(e,l.gs),h=u.Sa(l.documents),d=Dc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);vS(t,n,p.Ma);const y=new qB(e,n,u);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function WB(t,e,n){const i=De(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(u=>!Md(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ey(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Wv(i.remoteStore,a.targetId),wy(i,a.targetId)}).catch(bl)):(wy(i,a.targetId),await Ey(i.localStore,a.targetId,!0))}async function XB(t,e){const n=De(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Wv(n.remoteStore,i.targetId))}async function ZB(t,e,n){const i=s6(t);try{const a=await function(u,h){const d=De(u),p=Vt.now(),y=h.reduce((w,S)=>w.add(S.key),Be());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Hr(),D=Be();return d.ds.getEntries(w,y).next(R=>{S=R,S.forEach((O,B)=>{B.isValidDocument()||(D=D.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,S)).next(R=>{_=R;const O=[];for(const B of h){const F=dj(B,_.get(B.key).overlayedDocument);F!=null&&O.push(new Xs(B.key,F,Xx(F.value.mapValue),Qi.exists(!0)))}return d.mutationQueue.addMutationBatch(w,p,O,h)}).next(R=>{E=R;const O=R.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(w,R.batchId,O)})}).then(()=>({batchId:E.batchId,changes:oC(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let p=u.Wa[u.currentUser.toKey()];p||(p=new ft(ze)),p=p.insert(h,d),u.Wa[u.currentUser.toKey()]=p}(i,a.batchId,n),await Pc(i,a.changes),await Fd(i.remoteStore)}catch(a){const l=t0(a,"Failed to persist write");n.reject(l)}}async function HC(t,e){const n=De(t);try{const i=await hB(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Ka.get(l);u&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Ze(u.Ba):a.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await Pc(n,i,e)}catch(i){await bl(i)}}function yS(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=De(u);d.onlineState=h;let p=!1;d.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(h)&&(p=!0)}),p&&r0(d)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function JB(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let u=new ft(Te.comparator);u=u.insert(l,un.newNoDocument(l,Ce.min()));const h=Be().add(l),d=new Ud(Ce.min(),new Map,new ft(ze),u,h);await HC(i,d),i.$a=i.$a.remove(l),i.Ka.delete(e),o0(i)}else await Ey(i.localStore,e,!1).then(()=>wy(i,e,n)).catch(bl)}async function e6(t,e){const n=De(t),i=e.batch.batchId;try{const a=await cB(n.localStore,e);$C(n,i,null),qC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pc(n,a)}catch(a){await bl(a)}}async function t6(t,e,n){const i=De(t);try{const a=await function(u,h){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ze(_!==null),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,e);$C(i,e,n),qC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pc(i,a)}catch(a){await bl(a)}}function qC(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function $C(t,e,n){const i=De(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||GC(t,i)})}function GC(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Wv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),o0(t))}function vS(t,e,n){for(const i of n)i instanceof BC?(t.Ua.addReference(i.key,e),n6(t,i)):i instanceof FC?(ge(a0,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||GC(t,i.key)):Re()}function n6(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(ge(a0,"New document in limbo: "+n),t.Qa.add(i),o0(t))}function o0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(at.fromString(e)),i=t.za.next();t.Ka.set(i,new $B(n)),t.$a=t.$a.insert(n,i),MC(t.remoteStore,new Ds(Yi(Od(n.path)),i,"TargetPurposeLimboResolution",Id.ae))}}async function Pc(t,e,n){const i=De(t),a=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,d)=>{u.push(i.Ha(d,e,n).then(p=>{var y;if((p||n)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Yv.Yi(d.targetId,p);l.push(_)}}))}),await Promise.all(u),i.La.p_(a),await async function(d,p){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(p,E=>re.forEach(E.Hi,w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w)).next(()=>re.forEach(E.Ji,w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))}catch(_){if(!wl(_))throw _;ge(Qv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.Ts.get(E),S=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(S);y.Ts=y.Ts.insert(E,D)}}}(i.localStore,l))}async function i6(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ge(a0,"User change. New user:",e.toKey());const i=await DC(n.localStore,e);n.currentUser=e,function(l,u){l.Ga.forEach(h=>{h.forEach(d=>{d.reject(new _e(oe.CANCELLED,u))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pc(n,i.Rs)}}function r6(t,e){const n=De(t),i=n.Ka.get(e);if(i&&i.Ba)return Be().add(i.key);{let a=Be();const l=n.qa.get(e);if(!l)return a;for(const u of l){const h=n.ka.get(u);a=a.unionWith(h.view.ba)}return a}}function KC(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JB.bind(null,e),e.La.p_=FB.bind(null,e.eventManager),e.La.Ja=zB.bind(null,e.eventManager),e}function s6(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t6.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return uB(this.persistence,new aB,e.initialUser,this.serializer)}Xa(e){return new IC(Kv.ri,this.serializer)}Za(e){return new gB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class a6 extends od{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ze(this.persistence.referenceDelegate instanceof sd);const i=this.persistence.referenceDelegate.garbageCollector;return new $j(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new IC(i=>sd.ri(i,n),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i6.bind(null,this.syncEngine),await UB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BB}()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),i=function(l){return new TB(l)}(e.databaseInfo);return function(l,u,h,d){return new AB(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,u,h){return new xB(i,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>yS(this.syncEngine,n,0),function(){return hS.D()?new hS:new yB}())}createSyncEngine(e,n){return function(a,l,u,h,d,p,y){const _=new GB(a,l,u,h,d,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=De(a);ge(Ha,"RemoteStore shutting down."),l.W_.add(5),await Nc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class o6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Fx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ge(qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ge(qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=t0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),ge(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await DC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _S(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l6(t);ge(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>dS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>dS(e.remoteStore,a)),t._onlineComponents=e}async function l6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(qs,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new od)}}else ge(qs,"Using default OfflineComponentProvider"),await Ng(t,new a6(void 0));return t._offlineComponents}async function YC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(qs,"Using user provided OnlineComponentProvider"),await _S(t,t._uninitializedComponentsProvider._online)):(ge(qs,"Using default OnlineComponentProvider"),await _S(t,new Sy))),t._onlineComponents}function u6(t){return YC(t).then(e=>e.syncEngine)}async function ld(t){const e=await YC(t),n=e.eventManager;return n.onListen=KB.bind(null,e.syncEngine),n.onUnlisten=WB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XB.bind(null,e.syncEngine),n}function c6(t,e,n={}){const i=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const y=new l0({next:E=>{y.su(),u.enqueueAndForget(()=>i0(l,_));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new _e(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&d&&d.source==="server"?p.reject(new _e(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new s0(Od(h.path),y,{includeMetadataChanges:!0,Ta:!0});return n0(l,_)}(await ld(t),t.asyncQueue,e,n,i)),i.promise}function h6(t,e,n={}){const i=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const y=new l0({next:E=>{y.su(),u.enqueueAndForget(()=>i0(l,_)),E.fromCache&&d.source==="server"?p.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new s0(h,y,{includeMetadataChanges:!0,Ta:!0});return n0(l,_)}(await ld(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e,n){if(!n)throw new _e(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f6(t,e,n,i){if(e===!0&&i===!0)throw new _e(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TS(t){if(!Te.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bS(t){if(Te.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=u0(t);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firestore.googleapis.com",wS=!0;class SS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XC,this.ssl=wS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hj)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _4;switch(i.type){case"firstParty":return new w4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ES.get(n);i&&(ge("ComponentProvider","Removing Datastore"),ES.delete(n),i.terminate())}(this),Promise.resolve()}}function d6(t,e,n,i={}){var a;const l=(t=ri(t,zd))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;l.host!==XC&&l.host!==h&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!jr(d,u)&&(t._setSettings(d),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=on.MOCK_USER;else{p=YR(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}t._authCredentials=new E4(new Bx(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Oc(this.firestore,e,this._query)}}class _n{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Vs extends Oc{constructor(e,n,i){super(e,n,Od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Te(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function ud(t,e,...n){if(t=Lt(t),WC("collection","path",e),t instanceof zd){const i=at.fromString(e,...n);return bS(i),new Vs(t,null,i)}{if(!(t instanceof _n||t instanceof Vs))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return bS(i),new Vs(t.firestore,null,i)}}function ln(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Fx.newId()),WC("doc","path",e),t instanceof zd){const i=at.fromString(e,...n);return TS(i),new _n(t,null,new Te(i))}{if(!(t instanceof _n||t instanceof Vs))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return TS(i),new _n(t.firestore,t instanceof Vs?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="AsyncQueue";class RS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PC(this,"async_queue_retry"),this.bu=()=>{const i=Dg();i&&ge(AS,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new kr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wl(e))throw e;ge(AS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw zr("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=e0.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function xS(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class qa extends zd{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new RS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RS(e),this._firestoreClient=void 0,await e}}}function m6(t,e){const n=typeof t=="object"?t:Sv(),i=typeof t=="string"?t:Zf,a=Ad(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=$R("firestore");l&&d6(a,...l)}return a}function Hd(t){if(t._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p6(t),t._firestoreClient}function p6(t){var e,n,i;const a=t._freezeSettings(),l=function(h,d,p,y){return new L4(h,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,QC(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new o6(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(en.fromBase64String(e))}catch(n){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^__.*__$/;class y6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}class ZC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class $d{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(JC(this.Lu)&&g6.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class v6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||jd(e)}ju(e,n,i,a=!1){return new $d({Lu:e,methodName:n,zu:i,path:Jt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e1(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new v6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _6(t,e,n,i,a,l={}){const u=t.ju(l.merge||l.mergeFields?2:0,e,n,a);m0("Data must be an object, but it was:",u,i);const h=n1(i,u);let d,p;if(l.merge)d=new Ln(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Ay(e,_,n);if(!u.contains(E))throw new _e(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);r1(y,E)||y.push(E)}d=new Ln(y),p=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=u.fieldTransforms;return new y6(new xn(h),d,p)}class Gd extends Mc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function t1(t,e,n){return new $d({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class f0 extends Mc{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=t1(this,e,!0),i=this.Hu.map(l=>Al(l,n)),a=new cl(i);return new mC(e.path,a)}isEqual(e){return e instanceof f0&&jr(this.Hu,e.Hu)}}class d0 extends Mc{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=t1(this,e,!0),i=this.Hu.map(l=>Al(l,n)),a=new hl(i);return new mC(e.path,a)}isEqual(e){return e instanceof d0&&jr(this.Hu,e.Hu)}}function E6(t,e,n,i){const a=t.ju(1,e,n);m0("Data must be an object, but it was:",a,i);const l=[],u=xn.empty();Ws(i,(d,p)=>{const y=p0(e,d,n);p=Lt(p);const _=a.Ku(y);if(p instanceof Gd)l.push(y);else{const E=Al(p,_);E!=null&&(l.push(y),u.set(y,E))}});const h=new Ln(l);return new ZC(u,h,a.fieldTransforms)}function T6(t,e,n,i,a,l){const u=t.ju(1,e,n),h=[Ay(e,i,n)],d=[a];if(l.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Ay(e,l[E])),d.push(l[E+1]);const p=[],y=xn.empty();for(let E=h.length-1;E>=0;--E)if(!r1(p,h[E])){const w=h[E];let S=d[E];S=Lt(S);const D=u.Ku(w);if(S instanceof Gd)p.push(w);else{const R=Al(S,D);R!=null&&(p.push(w),y.set(w,R))}}const _=new Ln(p);return new ZC(y,_,u.fieldTransforms)}function Al(t,e){if(i1(t=Lt(t)))return m0("Unsupported field value:",e,t),n1(t,e);if(t instanceof Mc)return function(i,a){if(!JC(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const h of i){let d=Al(h,a.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return oj(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Vt.fromDate(i);return{timestampValue:rd(a.serializer,l)}}if(i instanceof Vt){const l=new Vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(i instanceof c0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ml)return{bytesValue:TC(a.serializer,i._byteString)};if(i instanceof _n){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$v(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof h0)return function(u,h){return{mapValue:{fields:{[Qx]:{stringValue:Wx},[Jf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return zv(h.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${u0(i)}`)}(t,e)}function n1(t,e){const n={};return Hx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(i,a)=>{const l=Al(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function i1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof c0||t instanceof ml||t instanceof _n||t instanceof Mc||t instanceof h0)}function m0(t,e,n){if(!i1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=u0(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Ay(t,e,n){if((e=Lt(e))instanceof qd)return e._internalPath;if(typeof e=="string")return p0(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const b6=new RegExp("[~\\*/\\[\\]]");function p0(t,e,n){if(e.search(b6)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new _e(oe.INVALID_ARGUMENT,h+t+d)}function r1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(a1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w6 extends s1{data(){return super.data()}}function a1(t,e){return typeof e=="string"?p0(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S6{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ws(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[Jf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>bt(u.doubleValue));return new h0(l)}convertGeoPoint(e){return new c0(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Nd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=at.fromString(e);Ze(xC(i));const a=new mc(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(n)||zr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l1 extends s1{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(a1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Pf extends l1{data(e={}){return super.data(e)}}class u1{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Pf(this._firestore,this._userDataWriter,i.key,i,new Gu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Pf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Pf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:R6(h.type),doc:d,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function R6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){t=ri(t,_n);const e=ri(t.firestore,qa);return c6(Hd(e),t._key).then(n=>h1(e,t,n))}class g0 extends S6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function hd(t){t=ri(t,Oc);const e=ri(t.firestore,qa),n=Hd(e),i=new g0(e);return o1(t._query),h6(n,t._query).then(a=>new u1(e,i,t,a))}function Zo(t,e,n){t=ri(t,_n);const i=ri(t.firestore,qa),a=A6(t.converter,e,n);return c1(i,[_6(e1(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Qi.none())])}function $o(t,e,n,...i){t=ri(t,_n);const a=ri(t.firestore,qa),l=e1(a);let u;return u=typeof(e=Lt(e))=="string"||e instanceof qd?T6(l,"updateDoc",t._key,e,n,i):E6(l,"updateDoc",t._key,e),c1(a,[u.toMutation(t._key,Qi.exists(!0))])}function x6(t,...e){var n,i,a;t=Lt(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||xS(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(xS(e[u])){const _=e[u];e[u]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[u+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[u+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let d,p,y;if(t instanceof _n)p=ri(t.firestore,qa),y=Od(t._key.path),d={next:_=>{e[u]&&e[u](h1(p,t,_))},error:e[u+1],complete:e[u+2]};else{const _=ri(t,Oc);p=ri(_.firestore,qa),y=_._query;const E=new g0(p);d={next:w=>{e[u]&&e[u](new u1(p,E,_,w))},error:e[u+1],complete:e[u+2]},o1(t._query)}return function(E,w,S,D){const R=new l0(D),O=new s0(w,R,S);return E.asyncQueue.enqueueAndForget(async()=>n0(await ld(E),O)),()=>{R.su(),E.asyncQueue.enqueueAndForget(async()=>i0(await ld(E),O))}}(Hd(p),y,h,d)}function c1(t,e){return function(i,a){const l=new kr;return i.asyncQueue.enqueueAndForget(async()=>ZB(await u6(i),a,l)),l.promise}(Hd(t),e)}function h1(t,e,n){const i=n.docs.get(e._key),a=new g0(t);return new l1(t,a,e._key,i,new Gu(n.hasPendingWrites,n.fromCache),e.converter)}function Pg(...t){return new f0("arrayUnion",t)}function CS(...t){return new d0("arrayRemove",t)}(function(e,n=!0){(function(a){Tl=a})(Qa),ja(new Us("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new qa(new T4(i.getProvider("auth-internal")),new S4(u,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,y)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Gi(Ow,Mw,e),Gi(Ow,Mw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebasestorage.googleapis.com",C6="storageBucket",I6=2*60*1e3,D6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends er{constructor(e,n,i=0){super(Og(e),`Firebase Storage: ${n} (${Og(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function Og(t){return"storage/"+t}function N6(){const t="An unknown error occurred, please check the error payload for server response.";return new tr(Ji.UNKNOWN,t)}function P6(){return new tr(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O6(){return new tr(Ji.CANCELED,"User canceled the upload/download.")}function M6(t){return new tr(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function V6(t){return new tr(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IS(t){return new tr(Ji.INVALID_ARGUMENT,t)}function d1(){return new tr(Ji.APP_DELETED,"The Firebase app was deleted.")}function k6(t){return new tr(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=gi.makeFromUrl(e,n)}catch{return new gi(e,"")}if(i.path==="")return i;throw V6(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function p(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),S={bucket:1,path:3},D=n===f1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${D}/${a}/${R}`,"i"),F=[{regex:h,indices:d,postModify:l},{regex:w,indices:S,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let Z=0;Z<F.length;Z++){const Y=F[Z],se=Y.regex.exec(e);if(se){const L=se[Y.indices.bucket];let I=se[Y.indices.path];I||(I=""),i=new gi(L,I),Y.postModify(i);break}}if(i==null)throw M6(e);return i}}class L6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e,n){let i=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let p=!1;function y(...R){p||(p=!0,e.apply(null,R))}function _(R){a=setTimeout(()=>{a=null,t(w,d())},R)}function E(){l&&clearTimeout(l)}function w(R,...O){if(p){E();return}if(R){E(),y.call(null,R,...O);return}if(d()||u){E(),y.call(null,R,...O);return}i<64&&(i*=2);let F;h===1?(h=2,F=0):F=(i+Math.random())*1e3,_(F)}let S=!1;function D(R){S||(S=!0,E(),!p&&(a!==null?(R||(h=2),clearTimeout(a),_(0)):R||(h=1)))}return _(0),l=setTimeout(()=>{u=!0,D(!0)},n),D}function j6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){return t!==void 0}function DS(t,e,n,i){if(i<e)throw IS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw IS(`Invalid value for '${t}'. Expected ${n} or less.`)}function F6(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var fd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fd||(fd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,i,a,l,u,h,d,p,y,_,E=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new gf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===fd.NO_ERROR,d=l.getStatus();if(!h||z6(d,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===fd.ABORT;i(!1,new gf(!1,null,y));return}const p=this.successCodes_.indexOf(d)!==-1;i(!0,new gf(p,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());B6(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=N6();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?d1():O6();u(d)}else{const d=P6();u(d)}};this.canceled_?n(!1,new gf(!1,null,!0)):this.backoffId_=U6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function q6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Y6(t,e,n,i,a,l,u=!0){const h=F6(t.urlParams),d=t.url+h,p=Object.assign({},t.headers);return G6(p,e),q6(p,n),$6(p,l),K6(p,i),new H6(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this._service=e,n instanceof gi?this._location=n:this._location=gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dd(e,n)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W6(this._location.path)}get storage(){return this._service}get parent(){const e=Q6(this._location.path);if(e===null)return null;const n=new gi(this._location.bucket,e);return new dd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k6(e)}}function NS(t,e){const n=e==null?void 0:e[C6];return n==null?null:gi.makeFromBucketSpec(n,t)}function X6(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:YR(a,t.app.options.projectId))}class Z6{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=f1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I6,this._maxUploadRetryTime=D6,this._requests=new Set,a!=null?this._bucket=gi.makeFromBucketSpec(a,this._host):this._bucket=NS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=NS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dd(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new L6(d1());{const u=Y6(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const PS="@firebase/storage",OS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="storage";function J6(t=Sv(),e){t=Lt(t);const i=Ad(t,m1).getImmediate({identifier:e}),a=$R("storage");return a&&e9(i,...a),i}function e9(t,e,n,i={}){X6(t,e,n,i)}function t9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Z6(n,i,a,e,Qa)}function n9(){ja(new Us(m1,t9,"PUBLIC").setMultipleInstances(!0)),Gi(PS,OS,""),Gi(PS,OS,"esm2017")}n9();const i9={apiKey:"AIzaSyAsxwW4kHxz7-HzuVtNd3jByDTVOP4CYls",authDomain:"weebos-31f97.firebaseapp.com",projectId:"weebos-31f97",storageBucket:"weebos-31f97.appspot.com",messagingSenderId:"696360971601",appId:"1:696360971601:web:e7fac579d0c8ebebb6f770",measurementId:"G-PK50H6XGNC"},y0=XR(i9),Lu=y4(y0),r9=new Cr,xt=m6(y0);J6(y0);const p1=k.createContext();function Kd(){return k.useContext(p1)}function s9({children:t}){const[e,n]=k.useState(null),[i,a]=k.useState(null),[l,u]=k.useState(""),[h,d]=k.useState(!0);k.useEffect(()=>sU(Lu,async R=>{if(R){n(R);const O=await Ns(ln(xt,"users",R.uid));if(O.exists()){const B=O.data();a(B.role||null),u(B.username||R.email)}else u(R.email)}else n(null),a(null),u("");d(!1)}),[]);const S={currentUser:e,userRole:i,setUserRole:async D=>{if(e)try{await Zo(ln(xt,"users",e.uid),{role:D},{merge:!0}),a(D)}catch(R){throw console.error("Error setting user role:",R.message),R}},username:l,signInWithGoogle:async()=>{try{const R=(await RU(Lu,r9)).user,O=await Ns(ln(xt,"users",R.uid));if(!O.exists())await Zo(ln(xt,"users",R.uid),{username:R.displayName||`user_${R.uid.slice(0,8)}`,email:R.email,role:null}),u(R.displayName||`user_${R.uid.slice(0,8)}`);else{const B=O.data();a(B.role||null),u(B.username||R.email)}return n(R),R}catch(D){throw console.error("Google Sign-In Error:",D.message),D}},signupWithEmail:async(D,R,O)=>{try{if((await Ns(ln(xt,"usernames",D))).exists())throw new Error("Username already taken");const Z=(await tU(Lu,R,O)).user;return await Zo(ln(xt,"users",Z.uid),{username:D,email:R,role:null}),await Zo(ln(xt,"usernames",D),{uid:Z.uid}),u(D),n(Z),Z}catch(B){throw console.error("Email Signup Error:",B.message),B}},loginWithEmail:async(D,R)=>{try{const B=(await nU(Lu,D,R)).user,F=await Ns(ln(xt,"users",B.uid));if(F.exists()){const Z=F.data();a(Z.role||null),u(Z.username||B.email)}return n(B),B}catch(O){throw console.error("Email Login Error:",O.message),O}},logout:async()=>{try{await aU(Lu),n(null),a(null),u("")}catch(D){throw console.error("Logout Error:",D.message),D}},loading:h};return P.jsx(p1.Provider,{value:S,children:!h&&t})}function a9(){const t=Ka(),{theme:e}=k.useContext(Ga),{currentUser:n,userRole:i,setUserRole:a,signInWithGoogle:l}=Kd(),[u,h]=k.useState([]),[d,p]=k.useState(""),[y,_]=k.useState([]),[E,w]=k.useState(!0),[S,D]=k.useState(null),[R,O]=k.useState(!1),[B,F]=k.useState(""),[Z,Y]=k.useState(""),[se,L]=k.useState(""),[I,C]=k.useState(!1),[M,j]=k.useState(""),q=[...new Set(u.flatMap(N=>N.genres||[]))];k.useEffect(()=>{if((async()=>{try{w(!0);const pe=(await hd(ud(xt,"comics"))).docs.map(fe=>fe.data());h(pe),w(!1)}catch(te){console.error("Error fetching comics:",te),D("Failed to load comics. Please try again later."),w(!1)}})(),!n){const te=setTimeout(()=>C(!0),3e4);return()=>clearTimeout(te)}},[n]),k.useEffect(()=>{if(d){const N=u.filter(te=>te.title.toLowerCase().includes(d.toLowerCase()));_(N)}else _([])},[d,u]);const U=u.slice(0,3),Je={Thriller:u.filter(N=>["MoonChild","Flawless","Bastard","Pigpen","Ghost Teller"].includes(N.title)),Romance:u.filter(N=>["Mafia Nanny","I am the Villain","Your Smile is A Trap","When Jasy Whistles","Lore Olympus"].includes(N.title)),Action:u.filter(N=>["Eleceed","Omniscient Reader","Tower Of God","Return Of The Crazy Demon","Lookism"].includes(N.title))},Ke=N=>{p(""),_([]),t(`/comic/${encodeURIComponent(N.title)}`)},ue=N=>{p(N.target.value)},me=async N=>{if(N.preventDefault(),!B||!Z){alert("Please provide both comic name and image URL.");return}try{const te={title:B,info:se||"New comic",img:Z,pages:[],ratings:[],description:"A new comic added dynamically.",chapters:{}};await Zo(ln(xt,"comics",B),te),alert("Comic added successfully!"),F(""),Y(""),L(""),O(!1);const fe=(await hd(ud(xt,"comics"))).docs.map(de=>de.data());h(fe)}catch(te){console.error("Error adding comic:",te),alert("Failed to add comic: "+te.message)}},ne=async N=>{N.preventDefault(),M==="30121995"?(await a("publisher"),j("")):alert("Incorrect password. Please try again.")},le=N=>{t(`/genre/${encodeURIComponent(N)}`)};return S&&!E?P.jsxs("div",{className:"flex flex-col min-h-screen bg-red-500 text-white",children:[P.jsxs("p",{className:"text-center mt-8",children:["Error: ",S]}),P.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 mx-auto px-4 py-2 bg-teal-600 text-white rounded-lg",children:"Retry"})]}):P.jsx("div",{className:"flex flex-col min-h-screen",children:P.jsxs("main",{className:`w-full flex-grow flex flex-col items-center transition-colors duration-300 ${e==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[n&&i==="publisher"&&P.jsx("div",{className:"w-full flex justify-end px-6 pt-4",children:P.jsx("button",{onClick:()=>O(!0),className:`px-4 py-2 rounded-lg shadow-md transition-colors duration-200 ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Upload Comic"})}),I&&!n&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Please Sign Up or Sign In"}),P.jsx("button",{onClick:()=>{var N;C(!1),(N=document.querySelector(".signup-btn"))==null||N.click()},className:`w-full px-4 py-2 rounded-lg mb-4 ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Sign Up"}),P.jsx("button",{onClick:()=>{var N;C(!1),(N=document.querySelector(".signin-btn"))==null||N.click()},className:`w-full px-4 py-2 rounded-lg mb-4 ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Sign In"}),P.jsx("button",{onClick:l,className:`w-full px-4 py-2 rounded-lg mb-4 ${e==="dark"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Sign In with Google"}),P.jsx("button",{onClick:()=>C(!1),className:`w-full px-4 py-2 rounded-lg ${e==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-400 hover:bg-gray-500 text-white"}`,children:"Not Now"})]})}),n&&i==="publisher-pending"&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Enter Publisher Password"}),P.jsxs("form",{onSubmit:ne,children:[P.jsx("input",{type:"password",value:M,onChange:N=>j(N.target.value),className:`w-full px-3 py-2 rounded-lg border mb-4 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"Password"}),P.jsx("button",{type:"submit",className:`w-full px-4 py-2 rounded-lg ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Submit"})]})]})}),P.jsxs("div",{className:"w-full flex flex-col items-center",children:[P.jsxs("div",{className:"w-full max-w-2xl mt-6 px-4 relative",children:[P.jsx("input",{type:"text",value:d,onChange:ue,placeholder:"Search comics by title...",className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-800 text-gray-200 border-gray-700":"bg-white text-gray-900 border-gray-300"}`}),y.length>0&&P.jsx("div",{className:`absolute w-full mt-1 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10 ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:y.map(N=>P.jsxs("div",{onClick:()=>Ke(N),className:`flex items-center px-4 py-2 cursor-pointer hover:bg-opacity-10 hover:bg-teal-500 transition-colors duration-200 ${e==="dark"?"hover:bg-teal-700":"hover:bg-teal-100"}`,children:[N.img?P.jsx("img",{src:N.img,alt:`${N.title} thumbnail`,className:"w-10 h-10 object-cover rounded mr-3"}):P.jsx("div",{className:"w-10 h-10 bg-gray-500 rounded mr-3 flex items-center justify-center text-white",children:"N/A"}),P.jsx("span",{children:N.title})]},N.title))})]}),q.length>0&&P.jsx("div",{className:"w-full overflow-hidden bg-gray-800 py-2 mt-4",children:P.jsxs("div",{className:"genre-bar flex space-x-6 animate-marquee",children:[q.map(N=>P.jsx("span",{onClick:()=>le(N),className:"px-4 py-2 whitespace-nowrap cursor-pointer text-white hover:text-teal-300",children:N},N)),q.map(N=>P.jsx("span",{onClick:()=>le(N),className:"px-4 py-2 whitespace-nowrap cursor-pointer text-white hover:text-teal-300",children:N},`${N}-duplicate`))]})}),n&&i==="publisher"&&R&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${e==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Upload New Comic"}),P.jsxs("form",{onSubmit:me,className:"flex flex-col gap-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"newComicName",className:"block mb-1",children:"Comic Name"}),P.jsx("input",{id:"newComicName",type:"text",value:B,onChange:N=>F(N.target.value),className:`w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"e.g., NewComic"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"newImageUrl",className:"block mb-1",children:"Image URL"}),P.jsx("input",{id:"newImageUrl",type:"text",value:Z,onChange:N=>Y(N.target.value),className:`w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"e.g., https://example.com/image.jpg"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"newGenre",className:"block mb-1",children:"Genre"}),P.jsx("input",{id:"newGenre",type:"text",value:se,onChange:N=>L(N.target.value),className:`w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-teal-500 ${e==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"}`,placeholder:"e.g., Thriller, Romance, Action"})]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{type:"submit",className:`flex-1 px-4 py-2 rounded-lg ${e==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Add Comic"}),P.jsx("button",{type:"button",onClick:()=>O(!1),className:`flex-1 px-4 py-2 rounded-lg ${e==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-400 hover:bg-gray-500 text-white"}`,children:"Cancel"})]})]})]})}),E?P.jsx("p",{className:"text-center mt-8 text-white",children:"Loading comics..."}):S?P.jsx("p",{className:"text-red-400 mt-8 text-center",children:S}):P.jsxs(P.Fragment,{children:[P.jsx("section",{className:"w-full mt-8",children:P.jsx(BR,{comics:U,theme:e})}),Object.entries(Je).map(([N,te])=>P.jsxs("section",{className:"mt-12 w-full max-w-5xl",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:N}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 pb-3",children:te.length>0?te.map(pe=>P.jsx(wd,{comic:pe,onClick:Ke,theme:e},pe.title)):P.jsx("p",{className:"col-span-full text-center",children:"No comics available in this category"})})]},N))]})]})]})})}function o9(){const{theme:t,toggleTheme:e}=k.useContext(Ga),{currentUser:n,username:i,userRole:a,setUserRole:l,signInWithGoogle:u,signupWithEmail:h,loginWithEmail:d,logout:p}=Kd(),y=Ka(),[_,E]=k.useState(!1),[w,S]=k.useState(!1),[D,R]=k.useState(!1),[O,B]=k.useState(""),[F,Z]=k.useState(""),[Y,se]=k.useState(""),[L,I]=k.useState(""),[C,M]=k.useState(""),[j,q]=k.useState(""),U=()=>{console.log("Toggle button clicked, calling toggleTheme"),e()},Je=async le=>{if(le.preventDefault(),Y!==L){alert("Passwords do not match");return}try{console.log("Attempting signup with:",O,F),await h(O,F,Y),B(""),Z(""),se(""),I(""),E(!1),R(!0)}catch(N){console.error("Signup failed:",N.message),alert("Signup failed: "+N.message)}},Ke=async le=>{le.preventDefault();try{console.log("Attempting signin with email:",C),await d(C,j),M(""),q(""),S(!1)}catch(N){console.error("Sign-in failed:",N.message),alert("Sign-in failed: "+N.message)}},ue=async()=>{try{console.log("Attempting Google sign-in"),await u(),E(!1),S(!1),R(!0)}catch(le){console.error("Google Sign-in failed:",le.message),alert("Google Sign-in failed: "+le.message)}},me=async()=>{try{console.log("Logging out"),await p(),y("/")}catch(le){console.error("Logout failed:",le.message),alert("Logout failed: "+le.message)}},ne=async le=>{try{await l(le==="publisher"?"publisher-pending":"reader"),R(!1)}catch(N){console.error("Failed to set role:",N.message),alert("Failed to set role: "+N.message)}};return P.jsxs("header",{className:`w-full sticky top-0 z-10 flex items-center justify-between px-6 py-4 shadow-lg ${t==="dark"?"bg-teal-950 bg-opacity-90":"bg-teal-700 bg-opacity-90"}`,children:[P.jsx("h1",{className:`text-3xl font-bold font-nunito ${t==="dark"?"text-gray-200":"text-white"}`,style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"},children:"WEEBOS"}),P.jsxs("div",{className:"flex gap-4 items-center",children:[n?P.jsxs(P.Fragment,{children:[P.jsxs("span",{className:`${t==="dark"?"text-gray-200":"text-white"}`,children:["Welcome, ",i||"User"]}),P.jsx("button",{onClick:me,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Logout"})]}):P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>E(!0),className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign Up"}),P.jsx("button",{onClick:()=>S(!0),className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign In"})]}),P.jsx("button",{onClick:U,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t==="light"?"Dark Mode":"Light Mode"})]}),_&&!n&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("form",{onSubmit:Je,className:`p-6 rounded-lg shadow-lg w-full max-w-md ${t==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign Up"}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signupUsername",className:"block mb-2",children:"Username"}),P.jsx("input",{id:"signupUsername",type:"text",value:O,onChange:le=>B(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your username",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signupEmail",className:"block mb-2",children:"Email"}),P.jsx("input",{id:"signupEmail",type:"email",value:F,onChange:le=>Z(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your email",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signupPassword",className:"block mb-2",children:"Password"}),P.jsx("input",{id:"signupPassword",type:"password",value:Y,onChange:le=>se(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your password",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2",children:"Confirm Password"}),P.jsx("input",{id:"confirmPassword",type:"password",value:L,onChange:le=>I(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Confirm your password",required:!0})]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign Up"}),P.jsx("button",{type:"button",onClick:ue,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign Up with Google"})]}),P.jsx("button",{type:"button",onClick:()=>E(!1),className:`mt-4 w-full px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-gray-400 text-white hover:bg-gray-500":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:"Cancel"}),P.jsx("button",{type:"button",onClick:()=>{E(!1),S(!0)},className:`mt-2 w-full text-sm ${t==="dark"?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:"Already have an account? Sign In"})]})}),w&&!n&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("form",{onSubmit:Ke,className:`p-6 rounded-lg shadow-lg w-full max-w-md ${t==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign In"}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signinEmail",className:"block mb-2",children:"Email"}),P.jsx("input",{id:"signinEmail",type:"email",value:C,onChange:le=>M(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your email",required:!0})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{htmlFor:"signinPassword",className:"block mb-2",children:"Password"}),P.jsx("input",{id:"signinPassword",type:"password",value:j,onChange:le=>q(le.target.value),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-900 border-gray-300"} border focus:outline-none focus:border-teal-500`,placeholder:"Enter your password",required:!0})]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign In"}),P.jsx("button",{type:"button",onClick:ue,className:`px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sign In with Google"})]}),P.jsx("button",{type:"button",onClick:()=>S(!1),className:`mt-4 w-full px-4 py-2 rounded-lg transition-colors duration-300 ${t==="light"?"bg-gray-400 text-white hover:bg-gray-500":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:"Cancel"}),P.jsx("button",{type:"button",onClick:()=>{S(!1),E(!0)},className:`mt-2 w-full text-sm ${t==="dark"?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:"Need an account? Sign Up"})]})}),D&&n&&a===null&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg w-full max-w-md ${t==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Are you a Reader or Publisher?"}),P.jsx("button",{onClick:()=>ne("reader"),className:`w-full px-4 py-2 rounded-lg mb-4 ${t==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Reader"}),P.jsx("button",{onClick:()=>ne("publisher"),className:`w-full px-4 py-2 rounded-lg ${t==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Publisher"})]})})]})}function MS(){var ue,me;const{title:t,chapter:e}=ky(),n=Ka(),{currentUser:i,userRole:a,signInWithGoogle:l}=Kd(),{theme:u}=k.useContext(Ga),h=decodeURIComponent(t||""),[d,p]=k.useState({title:h,img:null,chapters:{},description:null,ratings:[],pages:[],info:""}),[y,_]=k.useState(!0),[E,w]=k.useState(null),[S,D]=k.useState(0),[R,O]=k.useState(!1),[B,F]=k.useState([]),[Z,Y]=k.useState("");k.useEffect(()=>{if((async()=>{try{_(!0);const te=ln(xt,"comics",h),pe=await Ns(te);if(pe.exists()){const fe=pe.data();p(fe),w(null)}else w("Comic not found.")}catch{w("Failed to load comic data.")}finally{_(!1)}})(),!i){const te=setTimeout(()=>O(!0),3e4);return()=>clearTimeout(te)}const le=ln(xt,"comics",h),N=x6(le,te=>{var pe,fe;if(te.exists()){const de=te.data(),xe=e?((fe=(pe=de.chapters)==null?void 0:pe[e])==null?void 0:fe.comments)||[]:de.comments||[];F(xe)}});return()=>N()},[h,i,e]);const se=()=>n("/"),L=()=>n(`/upload/${encodeURIComponent(h)}`),I=ne=>n(`/comic/${encodeURIComponent(h)}/${ne}`),C=()=>{var ne;return(ne=d.ratings)!=null&&ne.length?(d.ratings.reduce((le,N)=>le+N,0)/d.ratings.length).toFixed(1):0},M=async()=>{try{await l(),O(!1)}catch(ne){alert(`Sign-in failed: ${ne.message}`)}},j=async ne=>{if(!i){alert("Please sign in to rate this comic."),O(!0);return}try{const le=ln(xt,"comics",h);await $o(le,{ratings:Pg(ne)}),p(N=>({...N,ratings:[...N.ratings,ne]})),D(0)}catch(le){alert("Failed to submit rating: "+le.message)}},q=async ne=>{if(ne.preventDefault(),!i){alert("Please sign in to post a comment."),O(!0);return}if(!Z.trim()){alert("Please enter a comment.");return}try{const le=ln(xt,"comics",h),N={text:Z,userId:i.uid,userName:i.displayName||"Anonymous",timestamp:new Date().toISOString()};if(e){const te=d.chapters[e]||{comments:[]};await $o(le,{[`chapters.${e}.comments`]:Pg(N)})}else await $o(le,{comments:Pg(N)});Y("")}catch(le){alert("Failed to post comment: "+le.message)}},U=async ne=>{if(!i||i.uid!==ne.userId){alert("You can only delete your own comments.");return}try{const le=ln(xt,"comics",h);e?await $o(le,{[`chapters.${e}.comments`]:CS(ne)}):await $o(le,{comments:CS(ne)})}catch(le){alert("Failed to delete comment: "+le.message)}},Ke=(ne=>Object.keys(ne||{}).map(le=>({key:le,num:parseInt(le.replace("Chapter",""),10)})).sort((le,N)=>le.num-N.num).map(le=>le.key))(d.chapters);return P.jsxs("div",{className:`w-full min-h-screen flex flex-col items-center ${u==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[R&&!i&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20",children:P.jsxs("div",{className:`p-6 rounded-lg shadow-lg max-w-md ${u==="dark"?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign Up or Log In"}),P.jsx("button",{onClick:M,className:`w-full px-4 py-2 rounded-lg mb-4 ${u==="dark"?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white`,children:"Sign Up with Google"}),P.jsx("button",{onClick:()=>O(!1),className:`w-full px-4 py-2 rounded-lg ${u==="dark"?"bg-gray-600 hover:bg-gray-700":"bg-gray-400 hover:bg-gray-500"} text-white`,children:"Not Now"})]})}),P.jsxs("main",{className:"w-full max-w-4xl flex flex-col items-center py-8",children:[P.jsxs("div",{className:`w-full flex items-center justify-between px-6 py-4 mb-6 ${u==="dark"?"bg-gray-800":"bg-gray-200"}`,children:[P.jsx("button",{onClick:se,className:`px-4 py-2 rounded-lg ${u==="dark"?"bg-teal-800 hover:bg-teal-900":"bg-teal-600 hover:bg-teal-800"} text-white`,children:"Back to Home"}),P.jsx("div",{className:"relative flex-grow text-center max-w-xs mx-4",children:P.jsxs("select",{value:e||"",onChange:ne=>I(ne.target.value),className:`w-full px-4 py-2 rounded-lg shadow-md text-center font-medium transition-colors duration-200 focus:outline-none focus:ring-2 ${u==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600 focus:ring-teal-500":"bg-gray-300 text-gray-900 hover:bg-gray-400 focus:ring-teal-600"}`,children:[P.jsx("option",{value:"",disabled:!0,children:"Select Chapter"}),Ke.map(ne=>P.jsx("option",{value:ne,children:ne},ne))]})}),i&&a==="publisher"&&P.jsx("button",{onClick:L,className:`px-4 py-2 rounded-lg ${u==="dark"?"bg-teal-700 hover:bg-teal-800":"bg-teal-500 hover:bg-teal-600"} text-white`,children:"Upload Chapters"})]}),y?P.jsx("p",{children:"Loading..."}):E?P.jsx("p",{className:"text-red-400",children:E}):P.jsxs(P.Fragment,{children:[!e&&d.img&&P.jsxs("div",{className:"w-full max-w-md mb-8",children:[P.jsx("img",{src:d.img,alt:`${h} Cover`,className:"w-full rounded-lg shadow-xl object-contain hover:scale-105 transition-transform duration-300",loading:"lazy"}),P.jsxs("div",{className:"mt-4 text-center",children:[P.jsx("div",{className:"flex justify-center gap-2 mb-2",children:[1,2,3,4,5].map(ne=>P.jsx("span",{onClick:()=>D(ne),onDoubleClick:()=>j(ne),className:`text-4xl cursor-pointer ${ne<=S?"text-yellow-400":u==="dark"?"text-gray-500 hover:text-yellow-300":"text-gray-300 hover:text-yellow-400"}`,children:""},ne))}),P.jsx("p",{className:"text-sm",children:S>0?"Double-click to submit":"Rate this comic!"}),P.jsxs("p",{children:["Average Rating: ",C()," / 5 (",((ue=d.ratings)==null?void 0:ue.length)||0," ratings)"]})]})]}),!e&&d.description&&P.jsx("p",{className:"text-lg italic text-center max-w-2xl mb-8",children:d.description}),e?((me=d.chapters[e])==null?void 0:me.length)>0?P.jsx(P.Fragment,{children:d.chapters[e].map((ne,le)=>P.jsx("img",{src:ne,alt:`Page ${le+1}`,className:"w-full rounded-lg shadow-md",loading:"lazy"},le))}):P.jsx("p",{children:"No pages available for this chapter."}):Ke.length>0?P.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8 max-h-64 overflow-y-auto",children:Ke.map(ne=>P.jsx("button",{onClick:()=>I(ne),className:`px-4 py-2 rounded-lg ${u==="dark"?"bg-teal-700 hover:bg-teal-800":"bg-teal-600 hover:bg-teal-700"} text-white`,children:ne},ne))}):P.jsx("p",{children:"No chapters available."}),P.jsxs("div",{className:"w-full max-w-2xl mt-8",children:[P.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Comments ",e?`for ${e}`:"for Comic"]}),P.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4 mb-6",children:[P.jsx("textarea",{value:Z,onChange:ne=>Y(ne.target.value),placeholder:"Write a comment...",className:`w-full p-3 rounded-lg border focus:outline-none focus:ring-2 resize-none ${u==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,rows:"3"}),P.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg self-end ${u==="dark"?"bg-teal-600 hover:bg-teal-700 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Post Comment"})]}),P.jsx("div",{className:"space-y-4",children:B.length>0?B.map((ne,le)=>P.jsxs("div",{className:`p-4 rounded-lg shadow-md flex justify-between items-start ${u==="dark"?"bg-gray-800":"bg-gray-200"}`,children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-sm font-semibold",children:ne.userName}),P.jsx("p",{children:ne.text}),P.jsx("p",{className:"text-xs text-gray-500",children:new Date(ne.timestamp).toLocaleString()})]}),i&&i.uid===ne.userId&&P.jsx("button",{onClick:()=>U(ne),className:`text-sm px-2 py-1 rounded-lg ${u==="dark"?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"Delete"})]},le)):P.jsx("p",{className:"text-gray-500",children:"No comments yet."})})]})]})]}),P.jsx("footer",{className:`w-full py-4 text-center ${u==="dark"?"bg-gray-950 text-gray-400":"bg-gray-200 text-gray-600"}`,children:P.jsx("p",{children:e?"End of Chapter":"Select a Chapter"})})]})}function g1(t,e){return function(){return t.apply(e,arguments)}}const{toString:l9}=Object.prototype,{getPrototypeOf:v0}=Object,{iterator:Yd,toStringTag:y1}=Symbol,Qd=(t=>e=>{const n=l9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),e=>Qd(e)===t),Wd=t=>e=>typeof e===t,{isArray:Rl}=Array,gc=Wd("undefined");function u9(t){return t!==null&&!gc(t)&&t.constructor!==null&&!gc(t.constructor)&&Cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const v1=Ti("ArrayBuffer");function c9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&v1(t.buffer),e}const h9=Wd("string"),Cn=Wd("function"),_1=Wd("number"),Xd=t=>t!==null&&typeof t=="object",f9=t=>t===!0||t===!1,Of=t=>{if(Qd(t)!=="object")return!1;const e=v0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(y1 in t)&&!(Yd in t)},d9=Ti("Date"),m9=Ti("File"),p9=Ti("Blob"),g9=Ti("FileList"),y9=t=>Xd(t)&&Cn(t.pipe),v9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Cn(t.append)&&((e=Qd(t))==="formdata"||e==="object"&&Cn(t.toString)&&t.toString()==="[object FormData]"))},_9=Ti("URLSearchParams"),[E9,T9,b9,w9]=["ReadableStream","Request","Response","Headers"].map(Ti),S9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),Rl(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let h;for(i=0;i<u;i++)h=l[i],e.call(null,t[h],h,t)}}function E1(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T1=t=>!gc(t)&&t!==ka;function Ry(){const{caseless:t}=T1(this)&&this||{},e={},n=(i,a)=>{const l=t&&E1(e,a)||a;Of(e[l])&&Of(i)?e[l]=Ry(e[l],i):Of(i)?e[l]=Ry({},i):Rl(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Vc(arguments[i],n);return e}const A9=(t,e,n,{allOwnKeys:i}={})=>(Vc(e,(a,l)=>{n&&Cn(a)?t[l]=g1(a,n):t[l]=a},{allOwnKeys:i}),t),R9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),x9=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},C9=(t,e,n,i)=>{let a,l,u;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)u=a[l],(!i||i(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&v0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},I9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},D9=t=>{if(!t)return null;if(Rl(t))return t;let e=t.length;if(!_1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},N9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&v0(Uint8Array)),P9=(t,e)=>{const i=(t&&t[Yd]).call(t);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},O9=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},M9=Ti("HTMLFormElement"),V9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),VS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),k9=Ti("RegExp"),b1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Vc(n,(a,l)=>{let u;(u=e(a,l,t))!==!1&&(i[l]=u||a)}),Object.defineProperties(t,i)},L9=t=>{b1(t,(e,n)=>{if(Cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Cn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},U9=(t,e)=>{const n={},i=a=>{a.forEach(l=>{n[l]=!0})};return Rl(t)?i(t):i(String(t).split(e)),n},j9=()=>{},B9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function F9(t){return!!(t&&Cn(t.append)&&t[y1]==="FormData"&&t[Yd])}const z9=t=>{const e=new Array(10),n=(i,a)=>{if(Xd(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=Rl(i)?[]:{};return Vc(i,(u,h)=>{const d=n(u,a+1);!gc(d)&&(l[h]=d)}),e[a]=void 0,l}}return i};return n(t,0)},H9=Ti("AsyncFunction"),q9=t=>t&&(Xd(t)||Cn(t))&&Cn(t.then)&&Cn(t.catch),w1=((t,e)=>t?setImmediate:e?((n,i)=>(ka.addEventListener("message",({source:a,data:l})=>{a===ka&&l===n&&i.length&&i.shift()()},!1),a=>{i.push(a),ka.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cn(ka.postMessage)),$9=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||w1,G9=t=>t!=null&&Cn(t[Yd]),X={isArray:Rl,isArrayBuffer:v1,isBuffer:u9,isFormData:v9,isArrayBufferView:c9,isString:h9,isNumber:_1,isBoolean:f9,isObject:Xd,isPlainObject:Of,isReadableStream:E9,isRequest:T9,isResponse:b9,isHeaders:w9,isUndefined:gc,isDate:d9,isFile:m9,isBlob:p9,isRegExp:k9,isFunction:Cn,isStream:y9,isURLSearchParams:_9,isTypedArray:N9,isFileList:g9,forEach:Vc,merge:Ry,extend:A9,trim:S9,stripBOM:R9,inherits:x9,toFlatObject:C9,kindOf:Qd,kindOfTest:Ti,endsWith:I9,toArray:D9,forEachEntry:P9,matchAll:O9,isHTMLForm:M9,hasOwnProperty:VS,hasOwnProp:VS,reduceDescriptors:b1,freezeMethods:L9,toObjectSet:U9,toCamelCase:V9,noop:j9,toFiniteNumber:B9,findKey:E1,global:ka,isContextDefined:T1,isSpecCompliantForm:F9,toJSONObject:z9,isAsyncFn:H9,isThenable:q9,setImmediate:w1,asap:$9,isIterable:G9};function Ne(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}X.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const S1=Ne.prototype,A1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{A1[t]={value:t}});Object.defineProperties(Ne,A1);Object.defineProperty(S1,"isAxiosError",{value:!0});Ne.from=(t,e,n,i,a,l)=>{const u=Object.create(S1);return X.toFlatObject(t,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ne.call(u,t.message,e,n,i,a),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const K9=null;function xy(t){return X.isPlainObject(t)||X.isArray(t)}function R1(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function kS(t,e,n){return t?t.concat(e).map(function(a,l){return a=R1(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function Y9(t){return X.isArray(t)&&!t.some(xy)}const Q9=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Zd(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,R){return!X.isUndefined(R[D])});const i=n.metaTokens,a=n.visitor||y,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(X.isDate(S))return S.toISOString();if(!d&&X.isBlob(S))throw new Ne("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(S)||X.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,D,R){let O=S;if(S&&!R&&typeof S=="object"){if(X.endsWith(D,"{}"))D=i?D:D.slice(0,-2),S=JSON.stringify(S);else if(X.isArray(S)&&Y9(S)||(X.isFileList(S)||X.endsWith(D,"[]"))&&(O=X.toArray(S)))return D=R1(D),O.forEach(function(F,Z){!(X.isUndefined(F)||F===null)&&e.append(u===!0?kS([D],Z,l):u===null?D:D+"[]",p(F))}),!1}return xy(S)?!0:(e.append(kS(R,D,l),p(S)),!1)}const _=[],E=Object.assign(Q9,{defaultVisitor:y,convertValue:p,isVisitable:xy});function w(S,D){if(!X.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+D.join("."));_.push(S),X.forEach(S,function(O,B){(!(X.isUndefined(O)||O===null)&&a.call(e,O,X.isString(B)?B.trim():B,D,E))===!0&&w(O,D?D.concat(B):[B])}),_.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return w(t),e}function LS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function _0(t,e){this._pairs=[],t&&Zd(t,this,e)}const x1=_0.prototype;x1.append=function(e,n){this._pairs.push([e,n])};x1.toString=function(e){const n=e?function(i){return e.call(this,i,LS)}:LS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function W9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C1(t,e,n){if(!e)return t;const i=n&&n.encode||W9;X.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=X.isURLSearchParams(e)?e.toString():new _0(e,n).toString(i),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class US{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const I1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X9=typeof URLSearchParams<"u"?URLSearchParams:_0,Z9=typeof FormData<"u"?FormData:null,J9=typeof Blob<"u"?Blob:null,e5={isBrowser:!0,classes:{URLSearchParams:X9,FormData:Z9,Blob:J9},protocols:["http","https","file","blob","url","data"]},E0=typeof window<"u"&&typeof document<"u",Cy=typeof navigator=="object"&&navigator||void 0,t5=E0&&(!Cy||["ReactNative","NativeScript","NS"].indexOf(Cy.product)<0),n5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i5=E0&&window.location.href||"http://localhost",r5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:E0,hasStandardBrowserEnv:t5,hasStandardBrowserWebWorkerEnv:n5,navigator:Cy,origin:i5},Symbol.toStringTag,{value:"Module"})),cn={...r5,...e5};function s5(t,e){return Zd(t,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,l){return cn.isNode&&X.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function a5(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function o5(t){const e={},n=Object.keys(t);let i;const a=n.length;let l;for(i=0;i<a;i++)l=n[i],e[l]=t[l];return e}function D1(t){function e(n,i,a,l){let u=n[l++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=l>=n.length;return u=!u&&X.isArray(a)?a.length:u,d?(X.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!h):((!a[u]||!X.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],l)&&X.isArray(a[u])&&(a[u]=o5(a[u])),!h)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(i,a)=>{e(a5(i),a,n,0)}),n}return null}function l5(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const kc={transitional:I1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,l=X.isObject(e);if(l&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return a?JSON.stringify(D1(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return s5(e,this.formSerializer).toString();if((h=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Zd(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),l5(e)):e}],transformResponse:[function(e){const n=this.transitional||kc.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ne.from(h,Ne.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{kc.headers[t]={}});const u5=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c5=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&u5[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},jS=Symbol("internals");function Uu(t){return t&&String(t).trim().toLowerCase()}function Mf(t){return t===!1||t==null?t:X.isArray(t)?t.map(Mf):String(t)}function h5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const f5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mg(t,e,n,i,a){if(X.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function d5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function m5(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,l,u){return this[i].call(this,e,a,l,u)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function l(h,d,p){const y=Uu(d);if(!y)throw new Error("header name must be a non-empty string");const _=X.findKey(a,y);(!_||a[_]===void 0||p===!0||p===void 0&&a[_]!==!1)&&(a[_||d]=Mf(h))}const u=(h,d)=>X.forEach(h,(p,y)=>l(p,y,d));if(X.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(X.isString(e)&&(e=e.trim())&&!f5(e))u(c5(e),n);else if(X.isObject(e)&&X.isIterable(e)){let h={},d,p;for(const y of e){if(!X.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[p=y[0]]=(d=h[p])?X.isArray(d)?[...d,y[1]]:[d,y[1]]:y[1]}u(h,n)}else e!=null&&l(n,e,i);return this}get(e,n){if(e=Uu(e),e){const i=X.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return h5(a);if(X.isFunction(n))return n.call(this,a,i);if(X.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Uu(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Mg(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function l(u){if(u=Uu(u),u){const h=X.findKey(i,u);h&&(!n||Mg(i,i[h],h,n))&&(delete i[h],a=!0)}}return X.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const l=n[i];(!e||Mg(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,i={};return X.forEach(this,(a,l)=>{const u=X.findKey(i,l);if(u){n[u]=Mf(a),delete n[l];return}const h=e?d5(l):String(l).trim();h!==l&&delete n[l],n[h]=Mf(a),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&X.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[jS]=this[jS]={accessors:{}}).accessors,a=this.prototype;function l(u){const h=Uu(u);i[h]||(m5(a,u),i[h]=!0)}return X.isArray(e)?e.forEach(l):l(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});X.freezeMethods(In);function Vg(t,e){const n=this||kc,i=e||n,a=In.from(i.headers);let l=i.data;return X.forEach(t,function(h){l=h.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function N1(t){return!!(t&&t.__CANCEL__)}function xl(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(xl,Ne,{__CANCEL__:!0});function P1(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function p5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function g5(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),y=i[l];u||(u=p),n[a]=d,i[a]=p;let _=l,E=0;for(;_!==a;)E+=n[_++],_=_%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-u<e)return;const w=y&&p-y;return w?Math.round(E*1e3/w):void 0}}function y5(t,e){let n=0,i=1e3/e,a,l;const u=(p,y=Date.now())=>{n=y,a=null,l&&(clearTimeout(l),l=null),t.apply(null,p)};return[(...p)=>{const y=Date.now(),_=y-n;_>=i?u(p,y):(a=p,l||(l=setTimeout(()=>{l=null,u(a)},i-_)))},()=>a&&u(a)]}const md=(t,e,n=3)=>{let i=0;const a=g5(50,250);return y5(l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,d=u-i,p=a(d),y=u<=h;i=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:p||void 0,estimated:p&&h&&y?(h-u)/p:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(_)},n)},BS=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},FS=t=>(...e)=>X.asap(()=>t(...e)),v5=cn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,cn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,_5=cn.hasStandardBrowserEnv?{write(t,e,n,i,a,l){const u=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),X.isString(i)&&u.push("path="+i),X.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function E5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function T5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function O1(t,e,n){let i=!E5(e);return t&&(i||n==!1)?T5(t,e):e}const zS=t=>t instanceof In?{...t}:t;function $a(t,e){e=e||{};const n={};function i(p,y,_,E){return X.isPlainObject(p)&&X.isPlainObject(y)?X.merge.call({caseless:E},p,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function a(p,y,_,E){if(X.isUndefined(y)){if(!X.isUndefined(p))return i(void 0,p,_,E)}else return i(p,y,_,E)}function l(p,y){if(!X.isUndefined(y))return i(void 0,y)}function u(p,y){if(X.isUndefined(y)){if(!X.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function h(p,y,_){if(_ in e)return i(p,y);if(_ in t)return i(void 0,p)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(p,y,_)=>a(zS(p),zS(y),_,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=d[y]||a,E=_(t[y],e[y],y);X.isUndefined(E)&&_!==h||(n[y]=E)}),n}const M1=t=>{const e=$a({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:h}=e;e.headers=u=In.from(u),e.url=C1(O1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(X.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[p,...y]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...y].join("; "))}}if(cn.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&v5(e.url))){const p=a&&l&&_5.read(l);p&&u.set(a,p)}return e},b5=typeof XMLHttpRequest<"u",w5=b5&&function(t){return new Promise(function(n,i){const a=M1(t);let l=a.data;const u=In.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:p}=a,y,_,E,w,S;function D(){w&&w(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(a.method.toUpperCase(),a.url,!0),R.timeout=a.timeout;function O(){if(!R)return;const F=In.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),Y={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:F,config:t,request:R};P1(function(L){n(L),D()},function(L){i(L),D()},Y),R=null}"onloadend"in R?R.onloadend=O:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(O)},R.onabort=function(){R&&(i(new Ne("Request aborted",Ne.ECONNABORTED,t,R)),R=null)},R.onerror=function(){i(new Ne("Network Error",Ne.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let Z=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Y=a.transitional||I1;a.timeoutErrorMessage&&(Z=a.timeoutErrorMessage),i(new Ne(Z,Y.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,R)),R=null},l===void 0&&u.setContentType(null),"setRequestHeader"in R&&X.forEach(u.toJSON(),function(Z,Y){R.setRequestHeader(Y,Z)}),X.isUndefined(a.withCredentials)||(R.withCredentials=!!a.withCredentials),h&&h!=="json"&&(R.responseType=a.responseType),p&&([E,S]=md(p,!0),R.addEventListener("progress",E)),d&&R.upload&&([_,w]=md(d),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(y=F=>{R&&(i(!F||F.type?new xl(null,t,R):F),R.abort(),R=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const B=p5(a.url);if(B&&cn.protocols.indexOf(B)===-1){i(new Ne("Unsupported protocol "+B+":",Ne.ERR_BAD_REQUEST,t));return}R.send(l||null)})},S5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const l=function(p){if(!a){a=!0,h();const y=p instanceof Error?p:this.reason;i.abort(y instanceof Ne?y:new xl(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,l(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>X.asap(h),d}},A5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},R5=async function*(t,e){for await(const n of x5(t))yield*A5(n,e)},x5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},HS=(t,e,n,i)=>{const a=R5(t,e);let l=0,u,h=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:p,value:y}=await a.next();if(p){h(),d.close();return}let _=y.byteLength;if(n){let E=l+=_;n(E)}d.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},Jd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",V1=Jd&&typeof ReadableStream=="function",C5=Jd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),k1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},I5=V1&&k1(()=>{let t=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),qS=64*1024,Iy=V1&&k1(()=>X.isReadableStream(new Response("").body)),pd={stream:Iy&&(t=>t.body)};Jd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pd[e]&&(pd[e]=X.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,i)})})})(new Response);const D5=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(cn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await C5(t)).byteLength},N5=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??D5(e)},P5=Jd&&(async t=>{let{url:e,method:n,data:i,signal:a,cancelToken:l,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:p,headers:y,withCredentials:_="same-origin",fetchOptions:E}=M1(t);p=p?(p+"").toLowerCase():"text";let w=S5([a,l&&l.toAbortSignal()],u),S;const D=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let R;try{if(d&&I5&&n!=="get"&&n!=="head"&&(R=await N5(y,i))!==0){let Y=new Request(e,{method:"POST",body:i,duplex:"half"}),se;if(X.isFormData(i)&&(se=Y.headers.get("content-type"))&&y.setContentType(se),Y.body){const[L,I]=BS(R,md(FS(d)));i=HS(Y.body,qS,L,I)}}X.isString(_)||(_=_?"include":"omit");const O="credentials"in Request.prototype;S=new Request(e,{...E,signal:w,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:O?_:void 0});let B=await fetch(S);const F=Iy&&(p==="stream"||p==="response");if(Iy&&(h||F&&D)){const Y={};["status","statusText","headers"].forEach(C=>{Y[C]=B[C]});const se=X.toFiniteNumber(B.headers.get("content-length")),[L,I]=h&&BS(se,md(FS(h),!0))||[];B=new Response(HS(B.body,qS,L,()=>{I&&I(),D&&D()}),Y)}p=p||"text";let Z=await pd[X.findKey(pd,p)||"text"](B,t);return!F&&D&&D(),await new Promise((Y,se)=>{P1(Y,se,{data:Z,headers:In.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:S})})}catch(O){throw D&&D(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,S),{cause:O.cause||O}):Ne.from(O,O&&O.code,t,S)}}),Dy={http:K9,xhr:w5,fetch:P5};X.forEach(Dy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $S=t=>`- ${t}`,O5=t=>X.isFunction(t)||t===null||t===!1,L1={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,i;const a={};for(let l=0;l<e;l++){n=t[l];let u;if(i=n,!O5(n)&&(i=Dy[(u=String(n)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map($S).join(`
`):" "+$S(l[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Dy};function kg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xl(null,t)}function GS(t){return kg(t),t.headers=In.from(t.headers),t.data=Vg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),L1.getAdapter(t.adapter||kc.adapter)(t).then(function(i){return kg(t),i.data=Vg.call(t,t.transformResponse,i),i.headers=In.from(i.headers),i},function(i){return N1(i)||(kg(t),i&&i.response&&(i.response.data=Vg.call(t,t.transformResponse,i.response),i.response.headers=In.from(i.response.headers))),Promise.reject(i)})}const U1="1.9.0",em={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{em[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const KS={};em.transitional=function(e,n,i){function a(l,u){return"[Axios v"+U1+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,h)=>{if(e===!1)throw new Ne(a(u," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!KS[u]&&(KS[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,h):!0}};em.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function M5(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const l=i[a],u=e[l];if(u){const h=t[l],d=h===void 0||u(h,l,t);if(d!==!0)throw new Ne("option "+l+" must be "+d,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+l,Ne.ERR_BAD_OPTION)}}const Vf={assertOptions:M5,validators:em},Fi=Vf.validators;let Ua=class{constructor(e){this.defaults=e||{},this.interceptors={request:new US,response:new US}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$a(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:l}=n;i!==void 0&&Vf.assertOptions(i,{silentJSONParsing:Fi.transitional(Fi.boolean),forcedJSONParsing:Fi.transitional(Fi.boolean),clarifyTimeoutError:Fi.transitional(Fi.boolean)},!1),a!=null&&(X.isFunction(a)?n.paramsSerializer={serialize:a}:Vf.assertOptions(a,{encode:Fi.function,serialize:Fi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vf.assertOptions(n,{baseUrl:Fi.spelling("baseURL"),withXsrfToken:Fi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&X.merge(l.common,l[n.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),n.headers=In.concat(u,l);const h=[];let d=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(d=d&&D.synchronous,h.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let y,_=0,E;if(!d){const S=[GS.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,p),E=S.length,y=Promise.resolve(n);_<E;)y=y.then(S[_++],S[_++]);return y}E=h.length;let w=n;for(_=0;_<E;){const S=h[_++],D=h[_++];try{w=S(w)}catch(R){D.call(this,R);break}}try{y=GS.call(this,w)}catch(S){return Promise.reject(S)}for(_=0,E=p.length;_<E;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=$a(this.defaults,e);const n=O1(e.baseURL,e.url,e.allowAbsoluteUrls);return C1(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Ua.prototype[e]=function(n,i){return this.request($a(i||{},{method:e,url:n,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(i){return function(l,u,h){return this.request($a(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Ua.prototype[e]=n(),Ua.prototype[e+"Form"]=n(!0)});let V5=class j1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(h=>{i.subscribe(h),l=h}).then(a);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,h){i.reason||(i.reason=new xl(l,u,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new j1(function(a){e=a}),cancel:e}}};function k5(t){return function(n){return t.apply(null,n)}}function L5(t){return X.isObject(t)&&t.isAxiosError===!0}const Ny={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ny).forEach(([t,e])=>{Ny[e]=t});function B1(t){const e=new Ua(t),n=g1(Ua.prototype.request,e);return X.extend(n,Ua.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return B1($a(t,a))},n}const vt=B1(kc);vt.Axios=Ua;vt.CanceledError=xl;vt.CancelToken=V5;vt.isCancel=N1;vt.VERSION=U1;vt.toFormData=Zd;vt.AxiosError=Ne;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=k5;vt.isAxiosError=L5;vt.mergeConfig=$a;vt.AxiosHeaders=In;vt.formToJSON=t=>D1(X.isHTMLForm(t)?new FormData(t):t);vt.getAdapter=L1.getAdapter;vt.HttpStatusCode=Ny;vt.default=vt;const{Axios:G5,AxiosError:K5,CanceledError:Y5,isCancel:Q5,CancelToken:W5,VERSION:X5,all:Z5,Cancel:J5,isAxiosError:e3,spread:t3,toFormData:n3,AxiosHeaders:i3,HttpStatusCode:r3,formToJSON:s3,getAdapter:a3,mergeConfig:o3}=vt;var U5={};function YS(){var xe;const{title:t}=ky(),{currentUser:e,userRole:n}=Kd(),{theme:i}=k.useContext(Ga),[a,l]=k.useState(t||""),[u,h]=k.useState(""),[d,p]=k.useState([]),[y,_]=k.useState(!1),[E,w]=k.useState({}),[S,D]=k.useState(""),[R,O]=k.useState(!1),[B,F]=k.useState(0),[Z,Y]=k.useState(!1),[se,L]=k.useState(0);Ka();const I=k.useRef(null),C=k.useRef(null),M=k.useRef(null),[j,q]=k.useState(0),[U,Je]=k.useState(0),Ke="dzvd0wfym",ue="comic_upload",me=`https://api.cloudinary.com/v1_1/${Ke}/image/upload`;if(!e||n!=="publisher")return P.jsx(hN,{to:"/"});k.useEffect(()=>{(async()=>{try{const be=(await hd(ud(xt,"comics"))).docs.reduce((Pe,ke)=>(Pe[ke.data().title]=ke.data(),Pe),{});w(be)}catch(Ue){console.error("Failed to fetch comics:",Ue)}})()},[]),k.useEffect(()=>{C.current&&!R&&q(C.current.offsetWidth),M.current&&!Z&&Je(M.current.offsetWidth)},[R,Z]);const ne=he=>{he.preventDefault(),he.stopPropagation(),he.type==="dragenter"||he.type==="dragover"?_(!0):he.type==="dragleave"&&_(!1)},le=he=>{he.preventDefault(),he.stopPropagation(),_(!1);const be=Array.from(he.dataTransfer.files).filter(Pe=>Pe.type.startsWith("image/"));be.length>0?p(be):alert("Please drop a folder containing images.")},N=he=>{const be=Array.from(he.target.files).filter(Pe=>Pe.type.startsWith("image/"));be.length>0?p(be):alert("Please select a folder containing images.")},te=()=>{var he;(he=I.current)==null||he.click()},pe=async he=>{var be;if(he.preventDefault(),!a){alert("Please select a comic to upload a chapter for.");return}const Ue=`Chapter${u}`;if(!u||d.length===0){alert("Please fill the chapter number and drop a folder of images.");return}O(!0),F(0);try{const Pe=ln(xt,"comics",a),ke=await Ns(Pe);ke.exists()||(await Zo(Pe,{title:a,chapters:{},img:"",description:"A comic created via upload.",ratings:[],pages:[],info:"",genres:((be=E[a])==null?void 0:be.genres)||[]}),F(10));const Ut=[...d].sort((jn,Si)=>{var nr,Za;const Tn=parseInt(((nr=jn.name.match(/\d+/))==null?void 0:nr[0])||"0",10),li=parseInt(((Za=Si.name.match(/\d+/))==null?void 0:Za[0])||"0",10);return Tn-li}),En=80/Ut.length;let ai=ke.exists()?0:10;const wi=await Promise.all(Ut.map(async(jn,Si)=>{const Tn=new FormData;Tn.append("file",jn),Tn.append("upload_preset",ue),Tn.append("folder",`comics/${a}/${Ue}`),Tn.append("public_id",`${Si}-${jn.name}`);const li=await vt.post(me,Tn);return ai+=En,F(Math.min(Math.round(ai),90)),li.data.secure_url}));await $o(Pe,{[`chapters.${Ue}`]:wi}),F(100);const oi=await Ns(Pe);w(jn=>({...jn,[a]:oi.data()})),alert("Chapter uploaded successfully!"),h(""),p([])}catch(Pe){console.error("Upload failed:",Pe),Pe.response&&console.error("Error response:",Pe.response.data),alert(`Failed to upload chapter: ${Pe.message}`)}finally{O(!1),F(0)}},fe=async()=>{if(!a||!S){alert("Please select a comic and chapter to delete.");return}Y(!0),L(0);try{const he=U5.REACT_APP_API_URL||"http://localhost:3001";L(25),await new Promise(be=>setTimeout(be,500)),await vt.delete(`${he}/delete-chapter`,{data:{comicName:a,chapterNum:S}}),L(75),await new Promise(be=>setTimeout(be,500));const Ue=await Ns(ln(xt,"comics",a));w(be=>({...be,[a]:Ue.data()})),L(100),alert("Chapter deleted successfully!"),D("")}catch(he){console.error("Delete failed:",he);let Ue="Failed to delete chapter";he.code==="ERR_NETWORK"?Ue="Network error: Could not connect to the backend server. Please check if the server is running.":he.response&&(Ue=`Server error: ${he.response.data.error||he.message}`),alert(`${Ue}. Please try again or contact support.`)}finally{Y(!1),L(0)}},de=he=>Object.keys(he||{}).sort((Ue,be)=>{const Pe=parseInt(Ue.replace("Chapter",""),10),ke=parseInt(be.replace("Chapter",""),10);return Pe-ke});return P.jsxs("div",{className:`w-full min-h-screen flex flex-col items-center py-8 ${i==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[P.jsx("h1",{className:`text-3xl font-bold font-nunito mb-8 ${i==="dark"?"text-white":"text-gray-900"}`,children:"Manage Comic Chapters"}),P.jsxs("div",{className:"w-full max-w-md flex flex-col gap-6",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"selectComic",className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:"Select Comic"}),P.jsxs("select",{id:"selectComic",value:a,onChange:he=>{l(he.target.value),h(""),p([]),D("")},className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${i==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,children:[P.jsx("option",{value:"",children:"-- Select a Comic --"}),Object.keys(E).map(he=>P.jsx("option",{value:he,children:he},he))]})]}),a&&P.jsxs(P.Fragment,{children:[P.jsxs("form",{onSubmit:pe,className:"w-full flex flex-col gap-6",children:[P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"chapterNum",className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:["Chapter Number (for ",a,")"]}),P.jsx("input",{id:"chapterNum",type:"number",value:u,onChange:he=>h(he.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${i==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,placeholder:"e.g., 1",min:"1"})]}),P.jsxs("div",{children:[P.jsx("label",{className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:"Upload Image Folder"}),P.jsx("div",{className:`w-full h-40 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer ${y?"border-teal-500 bg-teal-900 bg-opacity-20":i==="dark"?"border-gray-600 text-gray-400":"border-gray-400 text-gray-600"}`,onDragEnter:ne,onDragLeave:ne,onDragOver:ne,onDrop:le,onClick:te,children:d.length>0?P.jsxs("p",{children:[d.length," images selected"]}):P.jsx("p",{children:"Drag and drop a folder of images here or click to select"})}),P.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:I,onChange:N,className:"hidden",webkitdirectory:"true"})]}),P.jsx("button",{type:"submit",disabled:R,ref:C,style:R?{width:`${j}px`}:{},className:`w-full px-6 py-3 rounded-lg transition-colors duration-300 shadow-md relative overflow-hidden ${i==="dark"?`bg-teal-600 text-white hover:bg-teal-700 ${R?"bg-transparent":""}`:`bg-teal-500 text-white hover:bg-teal-600 ${R?"bg-transparent":""}`}`,children:R?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"absolute inset-0 bg-gray-500 transition-all duration-300",style:{width:`${B}%`,minWidth:"100%"}}),P.jsxs("span",{className:"relative z-10 text-white",children:[B,"%"]})]}):"Upload Chapter"})]}),P.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[P.jsx("h2",{className:`text-2xl font-bold font-nunito ${i==="dark"?"text-white":"text-gray-900"}`,children:"Delete a Chapter"}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"deleteChapter",className:`text-lg mb-2 block ${i==="dark"?"text-white":"text-gray-900"}`,children:["Select Chapter to Delete (from ",a,")"]}),P.jsxs("select",{id:"deleteChapter",value:S,onChange:he=>D(he.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${i==="dark"?"bg-gray-700 text-gray-200 border-gray-600 focus:ring-teal-500":"bg-gray-200 text-gray-900 border-gray-300 focus:ring-teal-600"}`,children:[P.jsx("option",{value:"",children:"-- Select a Chapter --"}),de((xe=E[a])==null?void 0:xe.chapters).map(he=>P.jsx("option",{value:he.replace("Chapter",""),children:he},he))]})]}),P.jsx("button",{onClick:fe,disabled:Z,ref:M,style:Z?{width:`${U}px`}:{},className:`w-full px-6 py-3 rounded-lg transition-colors duration-300 shadow-md relative overflow-hidden ${i==="dark"?`bg-red-600 text-white hover:bg-red-700 ${Z?"bg-transparent":""}`:`bg-red-500 text-white hover:bg-red-600 ${Z?"bg-transparent":""}`}`,children:Z?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"absolute inset-0 bg-gray-500 transition-all duration-300",style:{width:`${se}%`,minWidth:"100%"}}),P.jsxs("span",{className:"relative z-10 text-white",children:[se,"%"]})]}):"Delete Chapter"})]})]})]})]})}const j5=()=>{const{theme:t}=k.useContext(Ga);return P.jsx("footer",{className:`w-full py-6 ${t==="dark"?"bg-gray-950 text-gray-400":"bg-gray-200 text-gray-600"}`,children:P.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center",children:[P.jsxs("div",{className:"text-center md:text-left",children:[P.jsx("h2",{className:"text-lg font-bold",children:"Weebos"}),P.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," Weebos. All rights reserved."]})]}),P.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[P.jsx("a",{href:"/about",className:"hover:underline",children:"About"}),P.jsx("a",{href:"/contact",className:"hover:underline",children:"Contact"}),P.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms"}),P.jsx("a",{href:"/privacy",className:"hover:underline",children:"Privacy"})]}),P.jsxs("div",{className:"flex gap-4 mt-4 md:mt-0",children:[P.jsx("a",{href:"#",className:"hover:underline",children:" Twitter"}),P.jsx("a",{href:"#",className:"hover:underline",children:" Facebook"}),P.jsx("a",{href:"#",className:"hover:underline",children:" Instagram"})]})]})})};function B5(){const{genre:t}=ky(),e=Ka(),{theme:n}=k.useContext(Ga),i=decodeURIComponent(t||""),[a,l]=k.useState([]),[u,h]=k.useState(!0),[d,p]=k.useState(null);k.useEffect(()=>{(async()=>{try{h(!0);const D=(await hd(ud(xt,"comics"))).docs.map(R=>R.data()).filter(R=>{var O;return(O=R.genres)==null?void 0:O.includes(i)});l(D),h(!1)}catch(w){console.error("Error fetching comics:",w),p("Failed to load comics. Please try again later."),h(!1)}})()},[i]);const y=E=>{e(`/comic/${encodeURIComponent(E.title)}`)},_=()=>e("/");return u?P.jsx("div",{className:`flex flex-col min-h-screen ${n==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:P.jsx("p",{className:"text-center mt-8",children:"Loading comics..."})}):d?P.jsxs("div",{className:`flex flex-col min-h-screen ${n==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:[P.jsx("p",{className:"text-center mt-8 text-red-400",children:d}),P.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 mx-auto px-4 py-2 bg-teal-600 text-white rounded-lg",children:"Retry"})]}):P.jsx("div",{className:`flex flex-col min-h-screen ${n==="dark"?"bg-gray-900 text-gray-200":"bg-gray-100 text-gray-900"}`,children:P.jsx("main",{className:"w-full flex-grow flex flex-col items-center py-8",children:P.jsxs("div",{className:"w-full max-w-5xl px-6",children:[P.jsx("button",{onClick:_,className:`mb-6 px-4 py-2 rounded-lg ${n==="dark"?"bg-teal-700 hover:bg-teal-800 text-white":"bg-teal-500 hover:bg-teal-600 text-white"}`,children:"Back to Home"}),P.jsxs("h1",{className:"text-3xl font-bold mb-6 text-center",children:[i," Comics"]}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:a.length>0?a.map(E=>P.jsx(wd,{comic:E,onClick:y,theme:n},E.title)):P.jsx("p",{className:"col-span-full text-center",children:"No comics available in this genre."})})]})})})}function F5(){return console.log("App rendered"),P.jsxs(bD,{children:[P.jsx(o9,{}),P.jsxs(dN,{children:[P.jsx(Da,{path:"/",element:P.jsx(a9,{})}),P.jsx(Da,{path:"/comic/:title",element:P.jsx(MS,{})}),P.jsx(Da,{path:"/comic/:title/:chapter",element:P.jsx(MS,{})}),P.jsx(Da,{path:"/upload",element:P.jsx(YS,{})}),P.jsx(Da,{path:"/upload/:title",element:P.jsx(YS,{})}),P.jsx(Da,{path:"/genre/:genre",element:P.jsx(B5,{})})," "]}),P.jsx(j5,{})]})}TD.createRoot(document.getElementById("root")).render(P.jsx(s9,{children:P.jsx(kN,{children:P.jsx(F5,{})})}));
